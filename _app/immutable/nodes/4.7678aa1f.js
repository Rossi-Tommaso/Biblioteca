import{S as Mt,i as Tt,s as qt,w as Gt,R as Ot,k as i,y as $t,a as b,q as h,e as Ue,l as c,m as n,z as zt,c as m,r as p,h as l,n as o,p as Yt,b as w,A as Ut,G as e,T as Ft,u as Ee,g as ge,d as ze,f as Kt,B as wt,v as Qt,H as Ct,P as Zt,U as Nt}from"../chunks/index.0b2888c4.js";import{H as jt,f as Wt,S as xt}from"../chunks/sideBar.7dcb2f6f.js";import{i as Xt}from"../chunks/authStore.cf887d70.js";function Ht(d,s,a){const t=d.slice();return t[7]=s[a],t}function es(d){let s,a;return{c(){s=i("div"),a=i("div"),this.h()},l(t){s=c(t,"DIV",{class:!0});var r=n(s);a=c(r,"DIV",{class:!0}),n(a).forEach(l),r.forEach(l),this.h()},h(){o(a,"class","loader svelte-r0oyfp"),o(s,"class","loader-container svelte-r0oyfp")},m(t,r){w(t,s,r),e(s,a)},p:Ct,d(t){t&&l(s)}}}function ts(d){let s,a;return{c(){s=i("p"),a=h("Nessun libro nella tua biblioteca"),this.h()},l(t){s=c(t,"P",{class:!0});var r=n(s);a=p(r,"Nessun libro nella tua biblioteca"),r.forEach(l),this.h()},h(){o(s,"class","no-books svelte-r0oyfp")},m(t,r){w(t,s,r),e(s,a)},p:Ct,d(t){t&&l(s)}}}function ss(d){let s,a=d[0],t=[];for(let r=0;r<a.length;r+=1)t[r]=St(Ht(d,a,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();s=Ue()},l(r){for(let v=0;v<t.length;v+=1)t[v].l(r);s=Ue()},m(r,v){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(r,v);w(r,s,v)},p(r,v){if(v&1){a=r[0];let u;for(u=0;u<a.length;u+=1){const _=Ht(r,a,u);t[u]?t[u].p(_,v):(t[u]=St(_),t[u].c(),t[u].m(s.parentNode,s))}for(;u<t.length;u+=1)t[u].d(1);t.length=a.length}},d(r){Zt(t,r),r&&l(s)}}}function St(d){let s,a,t,r,v,u,_,D,B=d[7].title+"",k,P,g,L,y=d[7].author+"",O,Y;return{c(){s=i("div"),a=i("div"),t=i("img"),u=b(),_=i("div"),D=i("h3"),k=h(B),P=b(),g=i("p"),L=h("di "),O=h(y),Y=b(),this.h()},l(I){s=c(I,"DIV",{class:!0});var V=n(s);a=c(V,"DIV",{class:!0});var Q=n(a);t=c(Q,"IMG",{class:!0,src:!0,alt:!0}),Q.forEach(l),u=m(V),_=c(V,"DIV",{class:!0});var C=n(_);D=c(C,"H3",{class:!0});var Z=n(D);k=p(Z,B),Z.forEach(l),P=m(C),g=c(C,"P",{class:!0});var R=n(g);L=p(R,"di "),O=p(R,y),R.forEach(l),C.forEach(l),Y=m(V),V.forEach(l),this.h()},h(){o(t,"class","book-cover svelte-r0oyfp"),Nt(t.src,r=d[7].cover)||o(t,"src",r),o(t,"alt",v=`Copertina di ${d[7].title}`),o(a,"class","book-cover-container svelte-r0oyfp"),o(D,"class","svelte-r0oyfp"),o(g,"class","author svelte-r0oyfp"),o(_,"class","book-details svelte-r0oyfp"),o(s,"class","recent-book-card svelte-r0oyfp")},m(I,V){w(I,s,V),e(s,a),e(a,t),e(s,u),e(s,_),e(_,D),e(D,k),e(_,P),e(_,g),e(g,L),e(g,O),e(s,Y)},p(I,V){V&1&&!Nt(t.src,r=I[7].cover)&&o(t,"src",r),V&1&&v!==(v=`Copertina di ${I[7].title}`)&&o(t,"alt",v),V&1&&B!==(B=I[7].title+"")&&Ee(k,B),V&1&&y!==(y=I[7].author+"")&&Ee(O,y)},d(I){I&&l(s)}}}function Rt(d){let s,a;return s=new xt({}),{c(){$t(s.$$.fragment)},l(t){zt(s.$$.fragment,t)},m(t,r){Ut(s,t,r),a=!0},i(t){a||(ge(s.$$.fragment,t),a=!0)},o(t){ze(s.$$.fragment,t),a=!1},d(t){wt(s,t)}}}function ls(d){let s,a,t,r,v,u,_,D,B,k,P,g,L,y,O=d[5]()+"",Y,I,V=(Xt.displayName||"Lettore")+"",Q,C,Z,R,we,Ce,H,X,fe,Xe,Je,j,ue=d[3].totalBooks+"",Ae,Me,J,de,Te,qe,W,ve=d[3].booksRead+"",ke,Ge,M,he,Oe,Ye,x,pe=d[3].unread+"",ye,Fe,T,ee,Ke,Qe,F,Ze,q,_e,je,We,S,$,te,xe,et,se,tt,st,z,le,lt,at,ae,rt,ot,U,re,it,ct,oe,nt,Ve,ie,K;function Jt(f){d[6](f)}let ft={};d[1]!==void 0&&(ft.check=d[1]),a=new jt({props:ft}),Gt.push(()=>Ot(a,"check",Jt));function ut(f,E){return!f[2]&&f[0].length>0?ss:f[2]?es:ts}let Be=ut(d),N=Be(d),A=d[1]&&Rt();return{c(){s=i("div"),$t(a.$$.fragment),r=b(),v=i("div"),u=i("h1"),_=h("La Mia Biblioteca"),D=b(),B=i("div"),k=i("div"),P=b(),g=i("div"),L=i("div"),y=i("h2"),Y=h(O),I=h(", "),Q=h(V),C=h("!"),Z=b(),R=i("p"),we=h("Benvenuto nella tua biblioteca personale"),Ce=b(),H=i("div"),X=i("div"),fe=i("h3"),Xe=h("Libri Totali"),Je=b(),j=i("p"),Ae=h(ue),Me=b(),J=i("div"),de=i("h3"),Te=h("Libri Letti"),qe=b(),W=i("p"),ke=h(ve),Ge=b(),M=i("div"),he=i("h3"),Oe=h("Non letti"),Ye=b(),x=i("p"),ye=h(pe),Fe=b(),T=i("div"),ee=i("h2"),Ke=h("Ultimi Libri Aggiunti"),Qe=b(),F=i("div"),N.c(),Ze=b(),q=i("div"),_e=i("h2"),je=h("Azioni Rapide"),We=b(),S=i("div"),$=i("a"),te=i("span"),xe=h("ðŸ“š"),et=b(),se=i("span"),tt=h("Visualizza Biblioteca"),st=b(),z=i("a"),le=i("span"),lt=h("âž•"),at=b(),ae=i("span"),rt=h("Aggiungi Libro"),ot=b(),U=i("a"),re=i("span"),it=h("ðŸ‘¤"),ct=b(),oe=i("span"),nt=h("Profilo"),Ve=b(),A&&A.c(),ie=Ue(),this.h()},l(f){s=c(f,"DIV",{class:!0});var E=n(s);zt(a.$$.fragment,E),r=m(E),v=c(E,"DIV",{class:!0});var be=n(v);u=c(be,"H1",{class:!0});var dt=n(u);_=p(dt,"La Mia Biblioteca"),dt.forEach(l),be.forEach(l),D=m(E),B=c(E,"DIV",{class:!0});var vt=n(B);k=c(vt,"DIV",{class:!0,style:!0}),n(k).forEach(l),vt.forEach(l),E.forEach(l),P=m(f),g=c(f,"DIV",{class:!0});var G=n(g);L=c(G,"DIV",{class:!0});var Ie=n(L);y=c(Ie,"H2",{class:!0});var me=n(y);Y=p(me,O),I=p(me,", "),Q=p(me,V),C=p(me,"!"),me.forEach(l),Z=m(Ie),R=c(Ie,"P",{});var ht=n(R);we=p(ht,"Benvenuto nella tua biblioteca personale"),ht.forEach(l),Ie.forEach(l),Ce=m(G),H=c(G,"DIV",{class:!0});var ce=n(H);X=c(ce,"DIV",{class:!0});var De=n(X);fe=c(De,"H3",{});var pt=n(fe);Xe=p(pt,"Libri Totali"),pt.forEach(l),Je=m(De),j=c(De,"P",{class:!0});var _t=n(j);Ae=p(_t,ue),_t.forEach(l),De.forEach(l),Me=m(ce),J=c(ce,"DIV",{class:!0});var Pe=n(J);de=c(Pe,"H3",{});var bt=n(de);Te=p(bt,"Libri Letti"),bt.forEach(l),qe=m(Pe),W=c(Pe,"P",{class:!0});var mt=n(W);ke=p(mt,ve),mt.forEach(l),Pe.forEach(l),Ge=m(ce),M=c(ce,"DIV",{class:!0});var Le=n(M);he=c(Le,"H3",{});var gt=n(he);Oe=p(gt,"Non letti"),gt.forEach(l),Ye=m(Le),x=c(Le,"P",{class:!0});var Et=n(x);ye=p(Et,pe),Et.forEach(l),Le.forEach(l),ce.forEach(l),Fe=m(G),T=c(G,"DIV",{class:!0});var Ne=n(T);ee=c(Ne,"H2",{class:!0});var At=n(ee);Ke=p(At,"Ultimi Libri Aggiunti"),At.forEach(l),Qe=m(Ne),F=c(Ne,"DIV",{class:!0});var kt=n(F);N.l(kt),kt.forEach(l),Ne.forEach(l),Ze=m(G),q=c(G,"DIV",{class:!0});var He=n(q);_e=c(He,"H2",{});var yt=n(_e);je=p(yt,"Azioni Rapide"),yt.forEach(l),We=m(He),S=c(He,"DIV",{class:!0});var ne=n(S);$=c(ne,"A",{href:!0,class:!0});var Se=n($);te=c(Se,"SPAN",{class:!0});var Vt=n(te);xe=p(Vt,"ðŸ“š"),Vt.forEach(l),et=m(Se),se=c(Se,"SPAN",{class:!0});var Bt=n(se);tt=p(Bt,"Visualizza Biblioteca"),Bt.forEach(l),Se.forEach(l),st=m(ne),z=c(ne,"A",{href:!0,class:!0});var Re=n(z);le=c(Re,"SPAN",{class:!0});var It=n(le);lt=p(It,"âž•"),It.forEach(l),at=m(Re),ae=c(Re,"SPAN",{class:!0});var Dt=n(ae);rt=p(Dt,"Aggiungi Libro"),Dt.forEach(l),Re.forEach(l),ot=m(ne),U=c(ne,"A",{href:!0,class:!0});var $e=n(U);re=c($e,"SPAN",{class:!0});var Pt=n(re);it=p(Pt,"ðŸ‘¤"),Pt.forEach(l),ct=m($e),oe=c($e,"SPAN",{class:!0});var Lt=n(oe);nt=p(Lt,"Profilo"),Lt.forEach(l),$e.forEach(l),ne.forEach(l),He.forEach(l),G.forEach(l),Ve=m(f),A&&A.l(f),ie=Ue(),this.h()},h(){o(u,"class","svelte-r0oyfp"),o(v,"class","header-left svelte-r0oyfp"),o(k,"class","profile-img svelte-r0oyfp"),Yt(k,"background-image","url("+d[4]+")"),o(B,"class","header-right svelte-r0oyfp"),o(s,"class","header svelte-r0oyfp"),o(y,"class","svelte-r0oyfp"),o(L,"class","welcome-section svelte-r0oyfp"),o(j,"class","stat-number svelte-r0oyfp"),o(X,"class","stat-card svelte-r0oyfp"),o(W,"class","stat-number svelte-r0oyfp"),o(J,"class","stat-card svelte-r0oyfp"),o(x,"class","stat-number svelte-r0oyfp"),o(M,"class","stat-card svelte-r0oyfp"),o(H,"class","stats-grid svelte-r0oyfp"),o(ee,"class","svelte-r0oyfp"),o(F,"class","recent-books-grid svelte-r0oyfp"),o(T,"class","recent-books-section svelte-r0oyfp"),o(te,"class","icon svelte-r0oyfp"),o(se,"class","text"),o($,"href","../biblioteca"),o($,"class","action-card svelte-r0oyfp"),o(le,"class","icon svelte-r0oyfp"),o(ae,"class","text"),o(z,"href","../Biblioteca"),o(z,"class","action-card svelte-r0oyfp"),o(re,"class","icon svelte-r0oyfp"),o(oe,"class","text"),o(U,"href","#"),o(U,"class","action-card svelte-r0oyfp"),o(S,"class","actions-grid svelte-r0oyfp"),o(q,"class","quick-actions"),o(g,"class","content svelte-r0oyfp")},m(f,E){w(f,s,E),Ut(a,s,null),e(s,r),e(s,v),e(v,u),e(u,_),e(s,D),e(s,B),e(B,k),w(f,P,E),w(f,g,E),e(g,L),e(L,y),e(y,Y),e(y,I),e(y,Q),e(y,C),e(L,Z),e(L,R),e(R,we),e(g,Ce),e(g,H),e(H,X),e(X,fe),e(fe,Xe),e(X,Je),e(X,j),e(j,Ae),e(H,Me),e(H,J),e(J,de),e(de,Te),e(J,qe),e(J,W),e(W,ke),e(H,Ge),e(H,M),e(M,he),e(he,Oe),e(M,Ye),e(M,x),e(x,ye),e(g,Fe),e(g,T),e(T,ee),e(ee,Ke),e(T,Qe),e(T,F),N.m(F,null),e(g,Ze),e(g,q),e(q,_e),e(_e,je),e(q,We),e(q,S),e(S,$),e($,te),e(te,xe),e($,et),e($,se),e(se,tt),e(S,st),e(S,z),e(z,le),e(le,lt),e(z,at),e(z,ae),e(ae,rt),e(S,ot),e(S,U),e(U,re),e(re,it),e(U,ct),e(U,oe),e(oe,nt),w(f,Ve,E),A&&A.m(f,E),w(f,ie,E),K=!0},p(f,[E]){const be={};!t&&E&2&&(t=!0,be.check=f[1],Ft(()=>t=!1)),a.$set(be),(!K||E&8)&&ue!==(ue=f[3].totalBooks+"")&&Ee(Ae,ue),(!K||E&8)&&ve!==(ve=f[3].booksRead+"")&&Ee(ke,ve),(!K||E&8)&&pe!==(pe=f[3].unread+"")&&Ee(ye,pe),Be===(Be=ut(f))&&N?N.p(f,E):(N.d(1),N=Be(f),N&&(N.c(),N.m(F,null))),f[1]?A?E&2&&ge(A,1):(A=Rt(),A.c(),ge(A,1),A.m(ie.parentNode,ie)):A&&(Qt(),ze(A,1,1,()=>{A=null}),Kt())},i(f){K||(ge(a.$$.fragment,f),ge(A),K=!0)},o(f){ze(a.$$.fragment,f),ze(A),K=!1},d(f){f&&l(s),wt(a),f&&l(P),f&&l(g),N.d(),f&&l(Ve),A&&A.d(f),f&&l(ie)}}}function as(d,s,a){let t,r=[],v=!0,u=Xt.photoURL??"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAclBMVEX///8AAACoqKj8/PwEBAT5+fn29vbl5eXz8/O1tbV1dXXY2NhTU1MiIiLp6enh4eHFxcVtbW2dnZ3Ozs4uLi43NzcbGxtJSUmXl5eRkZGJiYmsrKx5eXnR0dFCQkJXV1eBgYEQEBAnJydmZmYcHBy7u7vQ67L1AAAFXUlEVORw5CYII=",_={totalBooks:0,booksRead:0,unread:0};const D=()=>{const k=new Date().getHours();return k<12?"Buongiorno":k<18?"Buon pomeriggio":"Buonasera"};function B(k){t=k,a(1,t)}return d.$$.update=()=>{d.$$.dirty&1&&Wt("protectedData/books").then(k=>{a(0,r=k),a(3,_.totalBooks=r.length,_),a(3,_.booksRead=r.filter(P=>P.read===!0).length,_),a(3,_.unread=r.filter(P=>P.read===!1).length,_),a(0,r=r.slice(0,3)),a(2,v=!1)})},[r,t,v,_,u,D,B]}class cs extends Mt{constructor(s){super(),Tt(this,s,as,ls,qt,{})}}export{cs as component};
