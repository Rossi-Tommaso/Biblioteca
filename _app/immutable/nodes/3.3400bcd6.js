import{S as Ce,i as Ee,s as Ie,k as d,a as B,l as _,m as v,h as a,c as D,n as i,b as w,G as o,H as re,Q as Ue,v as be,d as se,f as ke,g as j,q,r as Q,L as $,M as x,N as we,y as ve,z as de,A as _e,B as pe,J as ae,K as ie,w as Le,R as me,e as fe,p as Je,T as ge,o as ze,P as qe,U as Pe,u as Oe}from"../chunks/index.0b2888c4.js";import{u as Qe,H as Ye,f as Se,S as Ke,d as Fe}from"../chunks/sideBar.7dcb2f6f.js";import{i as je}from"../chunks/authStore.cf887d70.js";function We(n){let e,t,l,s,r,c,g,b,m,f,C,p,P,E,T,M;return{c(){e=d("div"),t=d("div"),l=B(),s=d("div"),r=B(),c=d("div"),g=B(),b=d("div"),m=B(),f=d("div"),C=B(),p=d("div"),P=B(),E=d("div"),T=B(),M=d("div"),this.h()},l(I){e=_(I,"DIV",{class:!0});var L=v(e);t=_(L,"DIV",{class:!0}),v(t).forEach(a),l=D(L),s=_(L,"DIV",{class:!0}),v(s).forEach(a),r=D(L),c=_(L,"DIV",{class:!0}),v(c).forEach(a),g=D(L),b=_(L,"DIV",{class:!0}),v(b).forEach(a),m=D(L),f=_(L,"DIV",{class:!0}),v(f).forEach(a),C=D(L),p=_(L,"DIV",{class:!0}),v(p).forEach(a),P=D(L),E=_(L,"DIV",{class:!0}),v(E).forEach(a),T=D(L),M=_(L,"DIV",{class:!0}),v(M).forEach(a),L.forEach(a),this.h()},h(){i(t,"class","dot-spinner__dot svelte-5851t6"),i(s,"class","dot-spinner__dot svelte-5851t6"),i(c,"class","dot-spinner__dot svelte-5851t6"),i(b,"class","dot-spinner__dot svelte-5851t6"),i(f,"class","dot-spinner__dot svelte-5851t6"),i(p,"class","dot-spinner__dot svelte-5851t6"),i(E,"class","dot-spinner__dot svelte-5851t6"),i(M,"class","dot-spinner__dot svelte-5851t6"),i(e,"class","dot-spinner svelte-5851t6")},m(I,L){w(I,e,L),o(e,t),o(e,l),o(e,s),o(e,r),o(e,c),o(e,g),o(e,b),o(e,m),o(e,f),o(e,C),o(e,p),o(e,P),o(e,E),o(e,T),o(e,M)},p:re,i:re,o:re,d(I){I&&a(e)}}}class $e extends Ce{constructor(e){super(),Ee(this,e,null,We,Ie,{})}}function xe(n){let e,t,l,s,r,c,g,b,m,f,C,p,P,E,T,M,I,L,R,X,N,V,k,G,z,J,W,S,H,Y,y,K,O,F,U,h,Z,oe,ee,te,le,ne,ce;return{c(){e=d("h2"),t=q("Modifica libro"),l=B(),s=d("label"),r=q(`Titolo:\r
                `),c=d("input"),g=B(),b=d("label"),m=q(`Autore:\r
                `),f=d("input"),C=B(),p=d("label"),P=q(`Edizione:\r
                `),E=d("input"),T=B(),M=d("label"),I=q(`Genere:\r
                `),L=d("input"),R=B(),X=d("label"),N=q(`Commenti:\r
                `),V=d("textarea"),k=B(),G=d("label"),z=q(`Copertina:\r
                `),J=d("input"),W=B(),S=d("label"),H=q(`Letto:\r
                `),Y=d("input"),y=B(),K=d("label"),O=q(`Prestito:\r
                `),F=d("input"),U=B(),h=d("div"),Z=d("button"),oe=q("Annulla"),ee=B(),te=d("button"),le=q("Salva"),this.h()},l(u){e=_(u,"H2",{});var A=v(e);t=Q(A,"Modifica libro"),A.forEach(a),l=D(u),s=_(u,"LABEL",{class:!0});var ue=v(s);r=Q(ue,`Titolo:\r
                `),c=_(ue,"INPUT",{type:!0,class:!0}),ue.forEach(a),g=D(u),b=_(u,"LABEL",{class:!0});var Ae=v(b);m=Q(Ae,`Autore:\r
                `),f=_(Ae,"INPUT",{type:!0,class:!0}),Ae.forEach(a),C=D(u),p=_(u,"LABEL",{class:!0});var ye=v(p);P=Q(ye,`Edizione:\r
                `),E=_(ye,"INPUT",{type:!0,class:!0}),ye.forEach(a),T=D(u),M=_(u,"LABEL",{class:!0});var Be=v(M);I=Q(Be,`Genere:\r
                `),L=_(Be,"INPUT",{type:!0,class:!0}),Be.forEach(a),R=D(u),X=_(u,"LABEL",{class:!0});var De=v(X);N=Q(De,`Commenti:\r
                `),V=_(De,"TEXTAREA",{class:!0}),v(V).forEach(a),De.forEach(a),k=D(u),G=_(u,"LABEL",{class:!0});var Me=v(G);z=Q(Me,`Copertina:\r
                `),J=_(Me,"INPUT",{type:!0,placeholder:!0,class:!0}),Me.forEach(a),W=D(u),S=_(u,"LABEL",{class:!0});var Ve=v(S);H=Q(Ve,`Letto:\r
                `),Y=_(Ve,"INPUT",{type:!0}),Ve.forEach(a),y=D(u),K=_(u,"LABEL",{class:!0});var Ze=v(K);O=Q(Ze,`Prestito:\r
                `),F=_(Ze,"INPUT",{type:!0}),Ze.forEach(a),U=D(u),h=_(u,"DIV",{class:!0});var he=v(h);Z=_(he,"BUTTON",{class:!0});var Te=v(Z);oe=Q(Te,"Annulla"),Te.forEach(a),ee=D(he),te=_(he,"BUTTON",{class:!0});var Ne=v(te);le=Q(Ne,"Salva"),Ne.forEach(a),he.forEach(a),this.h()},h(){i(c,"type","text"),i(c,"class","svelte-115gks2"),i(s,"class","svelte-115gks2"),i(f,"type","text"),i(f,"class","svelte-115gks2"),i(b,"class","svelte-115gks2"),i(E,"type","text"),i(E,"class","svelte-115gks2"),i(p,"class","svelte-115gks2"),i(L,"type","text"),i(L,"class","svelte-115gks2"),i(M,"class","svelte-115gks2"),i(V,"class","svelte-115gks2"),i(X,"class","svelte-115gks2"),i(J,"type","text"),i(J,"placeholder","Incolla il link del immagine di copertina"),i(J,"class","svelte-115gks2"),i(G,"class","svelte-115gks2"),i(Y,"type","checkbox"),i(S,"class","svelte-115gks2"),i(F,"type","checkbox"),i(K,"class","svelte-115gks2"),i(Z,"class","discard svelte-115gks2"),i(te,"class","svelte-115gks2"),i(h,"class","buttons svelte-115gks2")},m(u,A){w(u,e,A),o(e,t),w(u,l,A),w(u,s,A),o(s,r),o(s,c),$(c,n[1].title),w(u,g,A),w(u,b,A),o(b,m),o(b,f),$(f,n[1].author),w(u,C,A),w(u,p,A),o(p,P),o(p,E),$(E,n[1].edition),w(u,T,A),w(u,M,A),o(M,I),o(M,L),$(L,n[1].genre),w(u,R,A),w(u,X,A),o(X,N),o(X,V),$(V,n[1].comments),w(u,k,A),w(u,G,A),o(G,z),o(G,J),$(J,n[1].cover),w(u,W,A),w(u,S,A),o(S,H),o(S,Y),Y.checked=n[1].read,w(u,y,A),w(u,K,A),o(K,O),o(K,F),F.checked=n[1].loaned,w(u,U,A),w(u,h,A),o(h,Z),o(Z,oe),o(h,ee),o(h,te),o(te,le),ne||(ce=[x(c,"input",n[6]),x(f,"input",n[7]),x(E,"input",n[8]),x(L,"input",n[9]),x(V,"input",n[10]),x(J,"input",n[11]),x(Y,"change",n[12]),x(F,"change",n[13]),x(Z,"click",n[4]),x(te,"click",n[3])],ne=!0)},p(u,A){A&2&&c.value!==u[1].title&&$(c,u[1].title),A&2&&f.value!==u[1].author&&$(f,u[1].author),A&2&&E.value!==u[1].edition&&$(E,u[1].edition),A&2&&L.value!==u[1].genre&&$(L,u[1].genre),A&2&&$(V,u[1].comments),A&2&&J.value!==u[1].cover&&$(J,u[1].cover),A&2&&(Y.checked=u[1].read),A&2&&(F.checked=u[1].loaned)},i:re,o:re,d(u){u&&a(e),u&&a(l),u&&a(s),u&&a(g),u&&a(b),u&&a(C),u&&a(p),u&&a(T),u&&a(M),u&&a(R),u&&a(X),u&&a(k),u&&a(G),u&&a(W),u&&a(S),u&&a(y),u&&a(K),u&&a(U),u&&a(h),ne=!1,we(ce)}}}function e1(n){let e,t,l;return t=new $e({}),{c(){e=d("div"),ve(t.$$.fragment),this.h()},l(s){e=_(s,"DIV",{class:!0});var r=v(e);de(t.$$.fragment,r),r.forEach(a),this.h()},h(){i(e,"class","loader svelte-115gks2")},m(s,r){w(s,e,r),_e(t,e,null),l=!0},p:re,i(s){l||(j(t.$$.fragment,s),l=!0)},o(s){se(t.$$.fragment,s),l=!1},d(s){s&&a(e),pe(t)}}}function t1(n){let e,t,l,s,r,c;const g=[e1,xe],b=[];function m(f,C){return f[2]?0:1}return l=m(n),s=b[l]=g[l](n),{c(){e=d("div"),t=d("div"),s.c(),this.h()},l(f){e=_(f,"DIV",{class:!0});var C=v(e);t=_(C,"DIV",{class:!0});var p=v(t);s.l(p),p.forEach(a),C.forEach(a),this.h()},h(){i(t,"class","pop-up svelte-115gks2"),i(e,"class",r=Ue(n[0]?"hidden":"overlay")+" svelte-115gks2")},m(f,C){w(f,e,C),o(e,t),b[l].m(t,null),c=!0},p(f,[C]){let p=l;l=m(f),l===p?b[l].p(f,C):(be(),se(b[p],1,1,()=>{b[p]=null}),ke(),s=b[l],s?s.p(f,C):(s=b[l]=g[l](f),s.c()),j(s,1),s.m(t,null)),(!c||C&1&&r!==(r=Ue(f[0]?"hidden":"overlay")+" svelte-115gks2"))&&i(e,"class",r)},i(f){c||(j(s),c=!0)},o(f){se(s),c=!1},d(f){f&&a(e),b[l].d()}}}function l1(n,e,t){let{hidden:l=!0}=e,{length:s}=e,{book:r={title:"",author:"",edition:"",genre:"",comments:"",read:!1,loaned:!1}}=e,c=!1;function g(){t(2,c=!0),t(5,s=r.id??s),Qe(`protectedData/books/${s}`,{...r,id:s}).then(()=>{t(2,c=!1),t(0,l=!0)}).then(()=>window.location.reload()).catch(()=>{t(2,c=!1),t(1,r={title:"",author:"",edition:"",genre:"",comments:"",read:!1,loaned:!1})})}function b(){t(0,l=!0),t(1,r={title:"",author:"",edition:"",comments:"",cover:"",read:!1,loaned:!1})}function m(){r.title=this.value,t(1,r)}function f(){r.author=this.value,t(1,r)}function C(){r.edition=this.value,t(1,r)}function p(){r.genre=this.value,t(1,r)}function P(){r.comments=this.value,t(1,r)}function E(){r.cover=this.value,t(1,r)}function T(){r.read=this.checked,t(1,r)}function M(){r.loaned=this.checked,t(1,r)}return n.$$set=I=>{"hidden"in I&&t(0,l=I.hidden),"length"in I&&t(5,s=I.length),"book"in I&&t(1,r=I.book)},[l,r,c,g,b,s,m,f,C,p,P,E,T,M]}class s1 extends Ce{constructor(e){super(),Ee(this,e,l1,t1,Ie,{hidden:0,length:5,book:1})}}function r1(n){let e,t,l,s,r,c,g,b,m,f,C,p,P,E,T,M,I,L,R,X,N,V,k,G,z,J,W,S,H;return{c(){e=d("div"),t=d("div"),l=d("ul"),s=d("li"),r=ae("svg"),c=ae("path"),g=B(),b=d("li"),m=ae("svg"),f=ae("path"),C=B(),p=d("li"),P=ae("svg"),E=ae("path"),T=B(),M=d("li"),I=ae("svg"),L=ae("path"),R=B(),X=d("li"),N=ae("svg"),V=ae("path"),k=B(),G=d("li"),z=ae("svg"),J=ae("path"),W=B(),S=d("span"),H=q("Loading"),this.h()},l(Y){e=_(Y,"DIV",{class:!0});var y=v(e);t=_(y,"DIV",{class:!0});var K=v(t);l=_(K,"UL",{class:!0});var O=v(l);s=_(O,"LI",{class:!0});var F=v(s);r=ie(F,"svg",{fill:!0,viewBox:!0,class:!0});var U=v(r);c=ie(U,"path",{d:!0}),v(c).forEach(a),U.forEach(a),F.forEach(a),g=D(O),b=_(O,"LI",{class:!0});var h=v(b);m=ie(h,"svg",{fill:!0,viewBox:!0,class:!0});var Z=v(m);f=ie(Z,"path",{d:!0}),v(f).forEach(a),Z.forEach(a),h.forEach(a),C=D(O),p=_(O,"LI",{class:!0});var oe=v(p);P=ie(oe,"svg",{fill:!0,viewBox:!0,class:!0});var ee=v(P);E=ie(ee,"path",{d:!0}),v(E).forEach(a),ee.forEach(a),oe.forEach(a),T=D(O),M=_(O,"LI",{class:!0});var te=v(M);I=ie(te,"svg",{fill:!0,viewBox:!0,class:!0});var le=v(I);L=ie(le,"path",{d:!0}),v(L).forEach(a),le.forEach(a),te.forEach(a),R=D(O),X=_(O,"LI",{class:!0});var ne=v(X);N=ie(ne,"svg",{fill:!0,viewBox:!0,class:!0});var ce=v(N);V=ie(ce,"path",{d:!0}),v(V).forEach(a),ce.forEach(a),ne.forEach(a),k=D(O),G=_(O,"LI",{class:!0});var u=v(G);z=ie(u,"svg",{fill:!0,viewBox:!0,class:!0});var A=v(z);J=ie(A,"path",{d:!0}),v(J).forEach(a),A.forEach(a),u.forEach(a),O.forEach(a),W=D(K),K.forEach(a),S=_(y,"SPAN",{class:!0});var ue=v(S);H=Q(ue,"Loading"),ue.forEach(a),y.forEach(a),this.h()},h(){i(c,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(r,"fill","currentColor"),i(r,"viewBox","0 0 90 120"),i(r,"class","svelte-1lyp77k"),i(s,"class","svelte-1lyp77k"),i(f,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(m,"fill","currentColor"),i(m,"viewBox","0 0 90 120"),i(m,"class","svelte-1lyp77k"),i(b,"class","svelte-1lyp77k"),i(E,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(P,"fill","currentColor"),i(P,"viewBox","0 0 90 120"),i(P,"class","svelte-1lyp77k"),i(p,"class","svelte-1lyp77k"),i(L,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(I,"fill","currentColor"),i(I,"viewBox","0 0 90 120"),i(I,"class","svelte-1lyp77k"),i(M,"class","svelte-1lyp77k"),i(V,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(N,"fill","currentColor"),i(N,"viewBox","0 0 90 120"),i(N,"class","svelte-1lyp77k"),i(X,"class","svelte-1lyp77k"),i(J,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(z,"fill","currentColor"),i(z,"viewBox","0 0 90 120"),i(z,"class","svelte-1lyp77k"),i(G,"class","svelte-1lyp77k"),i(l,"class","svelte-1lyp77k"),i(t,"class","svelte-1lyp77k"),i(S,"class","svelte-1lyp77k"),i(e,"class","loader svelte-1lyp77k")},m(Y,y){w(Y,e,y),o(e,t),o(t,l),o(l,s),o(s,r),o(r,c),o(l,g),o(l,b),o(b,m),o(m,f),o(l,C),o(l,p),o(p,P),o(P,E),o(l,T),o(l,M),o(M,I),o(I,L),o(l,R),o(l,X),o(X,N),o(N,V),o(l,k),o(l,G),o(G,z),o(z,J),o(t,W),o(e,S),o(S,H)},p:re,i:re,o:re,d(Y){Y&&a(e)}}}class o1 extends Ce{constructor(e){super(),Ee(this,e,null,r1,Ie,{})}}function Re(n,e,t){const l=n.slice();return l[20]=e[t],l}function Xe(n){let e,t,l,s,r;function c(f){n[12](f)}function g(f){n[13](f)}function b(f){n[14](f)}let m={};return n[2]!==void 0&&(m.hidden=n[2]),n[4]!==void 0&&(m.book=n[4]),n[1].length!==void 0&&(m.length=n[1].length),e=new s1({props:m}),Le.push(()=>me(e,"hidden",c)),Le.push(()=>me(e,"book",g)),Le.push(()=>me(e,"length",b)),{c(){ve(e.$$.fragment)},l(f){de(e.$$.fragment,f)},m(f,C){_e(e,f,C),r=!0},p(f,C){const p={};!t&&C&4&&(t=!0,p.hidden=f[2],ge(()=>t=!1)),!l&&C&16&&(l=!0,p.book=f[4],ge(()=>l=!1)),!s&&C&2&&(s=!0,p.length=f[1].length,ge(()=>s=!1)),e.$set(p)},i(f){r||(j(e.$$.fragment,f),r=!0)},o(f){se(e.$$.fragment,f),r=!1},d(f){pe(e,f)}}}function a1(n){let e,t,l;return t=new o1({}),{c(){e=d("div"),ve(t.$$.fragment),this.h()},l(s){e=_(s,"DIV",{class:!0});var r=v(e);de(t.$$.fragment,r),r.forEach(a),this.h()},h(){i(e,"class","loader-container svelte-1f88vcv")},m(s,r){w(s,e,r),_e(t,e,null),l=!0},p:re,i(s){l||(j(t.$$.fragment,s),l=!0)},o(s){se(t.$$.fragment,s),l=!1},d(s){s&&a(e),pe(t)}}}function i1(n){let e;function t(r,c){return r[6].length>0?c1:n1}let l=t(n),s=l(n);return{c(){s.c(),e=fe()},l(r){s.l(r),e=fe()},m(r,c){s.m(r,c),w(r,e,c)},p(r,c){l===(l=t(r))&&s?s.p(r,c):(s.d(1),s=l(r),s&&(s.c(),s.m(e.parentNode,e)))},i:re,o:re,d(r){s.d(r),r&&a(e)}}}function n1(n){let e,t,l;return{c(){e=d("div"),t=d("p"),l=q("Nessun libro trovato"),this.h()},l(s){e=_(s,"DIV",{class:!0});var r=v(e);t=_(r,"P",{});var c=v(t);l=Q(c,"Nessun libro trovato"),c.forEach(a),r.forEach(a),this.h()},h(){i(e,"class","no-books svelte-1f88vcv")},m(s,r){w(s,e,r),o(e,t),o(t,l)},p:re,d(s){s&&a(e)}}}function c1(n){let e,t=n[6],l=[];for(let s=0;s<t.length;s+=1)l[s]=Ge(Re(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=fe()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=fe()},m(s,r){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(s,r);w(s,e,r)},p(s,r){if(r&1600){t=s[6];let c;for(c=0;c<t.length;c+=1){const g=Re(s,t,c);l[c]?l[c].p(g,r):(l[c]=Ge(g),l[c].c(),l[c].m(e.parentNode,e))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}},d(s){qe(l,s),s&&a(e)}}}function Ge(n){let e,t,l,s,r,c,g,b,m=n[20].title+"",f,C,p,P,E=n[20].author+"",T,M,I,L,R,X,N,V,k,G,z;function J(){return n[16](n[20])}function W(){return n[17](n[20])}return{c(){e=d("div"),t=d("div"),l=d("img"),c=B(),g=d("div"),b=d("p"),f=q(m),C=B(),p=d("p"),P=q("di "),T=q(E),M=B(),I=d("div"),L=d("button"),R=q("Modifica"),X=B(),N=d("button"),V=q("Rimuovi"),k=B(),this.h()},l(S){e=_(S,"DIV",{class:!0});var H=v(e);t=_(H,"DIV",{class:!0});var Y=v(t);l=_(Y,"IMG",{class:!0,src:!0,alt:!0}),Y.forEach(a),c=D(H),g=_(H,"DIV",{class:!0});var y=v(g);b=_(y,"P",{class:!0});var K=v(b);f=Q(K,m),K.forEach(a),C=D(y),p=_(y,"P",{class:!0});var O=v(p);P=Q(O,"di "),T=Q(O,E),O.forEach(a),y.forEach(a),M=D(H),I=_(H,"DIV",{class:!0});var F=v(I);L=_(F,"BUTTON",{class:!0});var U=v(L);R=Q(U,"Modifica"),U.forEach(a),X=D(F),N=_(F,"BUTTON",{class:!0});var h=v(N);V=Q(h,"Rimuovi"),h.forEach(a),F.forEach(a),k=D(H),H.forEach(a),this.h()},h(){i(l,"class","book-cover svelte-1f88vcv"),Pe(l.src,s=n[20].cover)||i(l,"src",s),i(l,"alt",r=`Copertina di ${n[20].title}`),i(t,"class","cover-container svelte-1f88vcv"),i(b,"class","book-title svelte-1f88vcv"),i(p,"class","book-author svelte-1f88vcv"),i(g,"class","book-info svelte-1f88vcv"),i(L,"class","svelte-1f88vcv"),i(N,"class","svelte-1f88vcv"),i(I,"class","actions svelte-1f88vcv"),i(e,"class","book-card svelte-1f88vcv")},m(S,H){w(S,e,H),o(e,t),o(t,l),o(e,c),o(e,g),o(g,b),o(b,f),o(g,C),o(g,p),o(p,P),o(p,T),o(e,M),o(e,I),o(I,L),o(L,R),o(I,X),o(I,N),o(N,V),o(e,k),G||(z=[x(L,"click",J),x(N,"click",W)],G=!0)},p(S,H){n=S,H&64&&!Pe(l.src,s=n[20].cover)&&i(l,"src",s),H&64&&r!==(r=`Copertina di ${n[20].title}`)&&i(l,"alt",r),H&64&&m!==(m=n[20].title+"")&&Oe(f,m),H&64&&E!==(E=n[20].author+"")&&Oe(T,E)},d(S){S&&a(e),G=!1,we(z)}}}function He(n){let e,t;return e=new Ke({}),{c(){ve(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,s){_e(e,l,s),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function u1(n){let e,t,l,s,r,c,g,b,m,f,C,p,P,E,T,M,I,L,R,X,N,V,k,G,z,J,W,S;function H(h){n[11](h)}let Y={};n[3]!==void 0&&(Y.check=n[3]),t=new Ye({props:Y}),Le.push(()=>me(t,"check",H));let y=!n[2]&&Xe(n);const K=[i1,a1],O=[];function F(h,Z){return h[5]?1:0}V=F(n),k=O[V]=K[V](n);let U=n[3]&&He();return{c(){e=d("div"),ve(t.$$.fragment),s=B(),r=d("div"),c=d("h1"),g=q("La Mia Biblioteca"),b=B(),m=d("div"),f=d("div"),C=B(),p=d("div"),y&&y.c(),P=B(),E=d("div"),T=d("button"),M=q("➕ Aggiungi Libro"),I=B(),L=d("div"),R=d("input"),X=B(),N=d("div"),k.c(),G=B(),U&&U.c(),z=fe(),this.h()},l(h){e=_(h,"DIV",{class:!0});var Z=v(e);de(t.$$.fragment,Z),s=D(Z),r=_(Z,"DIV",{class:!0});var oe=v(r);c=_(oe,"H1",{class:!0});var ee=v(c);g=Q(ee,"La Mia Biblioteca"),ee.forEach(a),oe.forEach(a),b=D(Z),m=_(Z,"DIV",{class:!0});var te=v(m);f=_(te,"DIV",{class:!0,style:!0}),v(f).forEach(a),te.forEach(a),Z.forEach(a),C=D(h),p=_(h,"DIV",{class:!0});var le=v(p);y&&y.l(le),P=D(le),E=_(le,"DIV",{class:!0});var ne=v(E);T=_(ne,"BUTTON",{class:!0});var ce=v(T);M=Q(ce,"➕ Aggiungi Libro"),ce.forEach(a),I=D(ne),L=_(ne,"DIV",{class:!0});var u=v(L);R=_(u,"INPUT",{type:!0,placeholder:!0,class:!0}),u.forEach(a),ne.forEach(a),X=D(le),N=_(le,"DIV",{class:!0});var A=v(N);k.l(A),A.forEach(a),le.forEach(a),G=D(h),U&&U.l(h),z=fe(),this.h()},h(){i(c,"class","svelte-1f88vcv"),i(r,"class","header-left svelte-1f88vcv"),i(f,"class","profile-img svelte-1f88vcv"),Je(f,"background-image","url("+n[7]+")"),i(m,"class","header-right svelte-1f88vcv"),i(e,"class","header svelte-1f88vcv"),i(T,"class","add-book-button svelte-1f88vcv"),i(R,"type","text"),i(R,"placeholder","Cerca un libro..."),i(R,"class","svelte-1f88vcv"),i(L,"class","search-bar svelte-1f88vcv"),i(E,"class","top-actions svelte-1f88vcv"),i(N,"class","book-grid svelte-1f88vcv"),i(p,"class","content svelte-1f88vcv")},m(h,Z){w(h,e,Z),_e(t,e,null),o(e,s),o(e,r),o(r,c),o(c,g),o(e,b),o(e,m),o(m,f),w(h,C,Z),w(h,p,Z),y&&y.m(p,null),o(p,P),o(p,E),o(E,T),o(T,M),o(E,I),o(E,L),o(L,R),$(R,n[0]),o(p,X),o(p,N),O[V].m(N,null),w(h,G,Z),U&&U.m(h,Z),w(h,z,Z),J=!0,W||(S=[x(T,"click",n[8]),x(R,"input",n[15])],W=!0)},p(h,[Z]){const oe={};!l&&Z&8&&(l=!0,oe.check=h[3],ge(()=>l=!1)),t.$set(oe),h[2]?y&&(be(),se(y,1,1,()=>{y=null}),ke()):y?(y.p(h,Z),Z&4&&j(y,1)):(y=Xe(h),y.c(),j(y,1),y.m(p,P)),Z&1&&R.value!==h[0]&&$(R,h[0]);let ee=V;V=F(h),V===ee?O[V].p(h,Z):(be(),se(O[ee],1,1,()=>{O[ee]=null}),ke(),k=O[V],k?k.p(h,Z):(k=O[V]=K[V](h),k.c()),j(k,1),k.m(N,null)),h[3]?U?Z&8&&j(U,1):(U=He(),U.c(),j(U,1),U.m(z.parentNode,z)):U&&(be(),se(U,1,1,()=>{U=null}),ke())},i(h){J||(j(t.$$.fragment,h),j(y),j(k),j(U),J=!0)},o(h){se(t.$$.fragment,h),se(y),se(k),se(U),J=!1},d(h){h&&a(e),pe(t),h&&a(C),h&&a(p),y&&y.d(),O[V].d(),h&&a(G),U&&U.d(h),h&&a(z),W=!1,we(S)}}}function f1(n,e,t){ze(()=>{p()});let l=!0,s,r,c=!0,g="",b=[],m=[],f=je.photoURL??"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAclBMVEX///8AAACoqKj8/PwEBAT5+fn29vbl5eXz8/O1tbV1dXXY2NhTU1MiIiLp6enh4eHFxcVtbW2dnZ3Ozs4uLi43NzcbGxtJSUmXl5eRkZGJiYmsrKx5eXnR0dFCQkJXV1eBgYEQEBAnJydmZmYcHBy7u7vQ67L1AAAFXUlEVORw5CYII=";const C=k=>{t(4,r=k),t(2,l=!l)},p=()=>{t(5,c=!0),Se("protectedData/books").then(k=>{t(1,b=k),t(6,m=k),t(5,c=!1)})},P=()=>{t(2,l=!l)},E=k=>{C(k)},T=k=>{t(5,c=!0),Fe(`protectedData/books/${k.id}`).then(()=>{t(5,c=!1),p()})};function M(k){s=k,t(3,s)}function I(k){l=k,t(2,l)}function L(k){r=k,t(4,r)}function R(k){n.$$.not_equal(b.length,k)&&(b.length=k,t(1,b))}function X(){g=this.value,t(0,g)}const N=k=>E(k),V=k=>T(k);return n.$$.update=()=>{n.$$.dirty&3&&(g.trim()===""?t(6,m=b):t(6,m=b.filter(k=>k.title.toLowerCase().includes(g.toLowerCase()))))},Se("protectedData/books").then(k=>{t(1,b=k),t(6,m=k),t(5,c=!1)}),[g,b,l,s,r,c,m,f,P,E,T,M,I,L,R,X,N,V]}class p1 extends Ce{constructor(e){super(),Ee(this,e,f1,u1,Ie,{})}}export{p1 as component};
