import{S as Ue,i as Ge,s as Je,Q as be,y as le,z as se,A as ae,R as vt,T as ht,g as H,d as q,B as re,U as ze,J as mt,K as pt,L as bt,M as gt,k as _,q as N,a as P,l as d,m as u,r as A,h as n,c as B,n as o,b as J,E as a,u as pe,f as Pe,H as je,o as wt,P as kt,v as Be,C as De,D as Ve,G as Z,e as Le,X as Et,I as it}from"../chunks/index.9c464a28.js";import{s as Nt,S as At}from"../chunks/utilsStore.0e88eab0.js";import{b as ot,a as It,P as Dt,S as Vt}from"../chunks/sideBar.4e51cb94.js";import{u as Pt}from"../chunks/authStore.bacc13f4.js";import{I as $t,i as Bt,f as nt}from"../chunks/Icon.15aa626d.js";import{e as ct}from"../chunks/singletons.03f9869b.js";function zt(c){let e;const s=c[2].default,t=mt(s,c,c[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&pt(t,s,l,l[3],e?gt(s,l[3],r,null):bt(l[3]),null)},i(l){e||(H(t,l),e=!0)},o(l){q(t,l),e=!1},d(l){t&&t.d(l)}}}function Lt(c){let e,s;const t=[{name:"arrow-right-left"},c[1],{iconNode:c[0]}];let l={$$slots:{default:[zt]},$$scope:{ctx:c}};for(let r=0;r<t.length;r+=1)l=be(l,t[r]);return e=new $t({props:l}),{c(){le(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,i){ae(e,r,i),s=!0},p(r,[i]){const f=i&3?vt(t,[t[0],i&2&&ht(r[1]),i&1&&{iconNode:r[0]}]):{};i&8&&(f.$$scope={dirty:i,ctx:r}),e.$set(f)},i(r){s||(H(e.$$.fragment,r),s=!0)},o(r){q(e.$$.fragment,r),s=!1},d(r){re(e,r)}}}function St(c,e,s){let{$$slots:t={},$$scope:l}=e;const r=[["path",{d:"m16 3 4 4-4 4"}],["path",{d:"M20 7H4"}],["path",{d:"m8 21-4-4 4-4"}],["path",{d:"M4 17h16"}]];return c.$$set=i=>{s(1,e=be(be({},e),ze(i))),"$$scope"in i&&s(3,l=i.$$scope)},e=ze(e),[r,e,t,l]}class Ct extends Ue{constructor(e){super(),Ge(this,e,St,Lt,Je,{})}}const yt=Ct;function Ht(c){let e;const s=c[2].default,t=mt(s,c,c[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&pt(t,s,l,l[3],e?gt(s,l[3],r,null):bt(l[3]),null)},i(l){e||(H(t,l),e=!0)},o(l){q(t,l),e=!1},d(l){t&&t.d(l)}}}function Rt(c){let e,s;const t=[{name:"library"},c[1],{iconNode:c[0]}];let l={$$slots:{default:[Ht]},$$scope:{ctx:c}};for(let r=0;r<t.length;r+=1)l=be(l,t[r]);return e=new $t({props:l}),{c(){le(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,i){ae(e,r,i),s=!0},p(r,[i]){const f=i&3?vt(t,[t[0],i&2&&ht(r[1]),i&1&&{iconNode:r[0]}]):{};i&8&&(f.$$scope={dirty:i,ctx:r}),e.$set(f)},i(r){s||(H(e.$$.fragment,r),s=!0)},o(r){q(e.$$.fragment,r),s=!1},d(r){re(e,r)}}}function Mt(c,e,s){let{$$slots:t={},$$scope:l}=e;const r=[["path",{d:"m16 6 4 14"}],["path",{d:"M12 6v14"}],["path",{d:"M8 8v12"}],["path",{d:"M4 4v16"}]];return c.$$set=i=>{s(1,e=be(be({},e),ze(i))),"$$scope"in i&&s(3,l=i.$$scope)},e=ze(e),[r,e,t,l]}class qt extends Ue{constructor(e){super(),Ge(this,e,Mt,Rt,Je,{})}}const Tt=qt;function ut(c,e,s){const t=c.slice();return t[9]=e[s],t}function jt(c){let e,s,t,l,r,i,f,$,b,k,g,m,L,w="(",v,I,D,p,C,T=")",E,V,S,j;return{c(){e=_("div"),s=_("div"),t=_("div"),l=De("svg"),r=De("circle"),i=De("line"),f=De("line"),$=P(),b=_("h3"),k=N("Accesso non autorizzato"),g=P(),m=_("p"),L=N("Non hai accesso a questa biblioteca. Per favore, contatta l'amministratore per richiedere la creazione di una nuova biblioteca "),v=N(w),I=N("nella mail "),D=_("b"),p=N("specifica il nome della biblioteca"),C=N(" che vuoi creare"),E=N(T),V=P(),S=_("a"),j=N("Contatta l'Amministratore"),this.h()},l(Q){e=d(Q,"DIV",{class:!0});var K=u(e);s=d(K,"DIV",{class:!0});var U=u(s);t=d(U,"DIV",{class:!0});var ue=u(t);l=Ve(ue,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var x=u(l);r=Ve(x,"circle",{cx:!0,cy:!0,r:!0}),u(r).forEach(n),i=Ve(x,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),u(i).forEach(n),f=Ve(x,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),u(f).forEach(n),x.forEach(n),ue.forEach(n),$=B(U),b=d(U,"H3",{class:!0});var F=u(b);k=A(F,"Accesso non autorizzato"),F.forEach(n),g=B(U),m=d(U,"P",{class:!0});var y=u(m);L=A(y,"Non hai accesso a questa biblioteca. Per favore, contatta l'amministratore per richiedere la creazione di una nuova biblioteca "),v=A(y,w),I=A(y,"nella mail "),D=d(y,"B",{});var G=u(D);p=A(G,"specifica il nome della biblioteca"),G.forEach(n),C=A(y," che vuoi creare"),E=A(y,T),y.forEach(n),V=B(U),S=d(U,"A",{href:!0,class:!0});var ie=u(S);j=A(ie,"Contatta l'Amministratore"),ie.forEach(n),U.forEach(n),K.forEach(n),this.h()},h(){o(r,"cx","12"),o(r,"cy","12"),o(r,"r","10"),o(i,"x1","15"),o(i,"y1","9"),o(i,"x2","9"),o(i,"y2","15"),o(f,"x1","9"),o(f,"y1","9"),o(f,"x2","15"),o(f,"y2","15"),o(l,"xmlns","http://www.w3.org/2000/svg"),o(l,"class","icon-unauthorized svelte-1756irw"),o(l,"viewBox","0 0 24 24"),o(l,"fill","none"),o(l,"stroke","currentColor"),o(l,"stroke-width","2"),o(l,"stroke-linecap","round"),o(l,"stroke-linejoin","round"),o(t,"class","icon-container svelte-1756irw"),o(b,"class","svelte-1756irw"),o(m,"class","svelte-1756irw"),o(S,"href","mailto:adm.biblioteca.6a8e6.6809336095@gmail.com"),o(S,"class","contact-button svelte-1756irw"),o(s,"class","unauthorized-content svelte-1756irw"),o(e,"class","unauthorized-container svelte-1756irw")},m(Q,K){J(Q,e,K),a(e,s),a(s,t),a(t,l),a(l,r),a(l,i),a(l,f),a(s,$),a(s,b),a(b,k),a(s,g),a(s,m),a(m,L),a(m,v),a(m,I),a(m,D),a(D,p),a(m,C),a(m,E),a(s,V),a(s,S),a(S,j)},p:Z,i:Z,o:Z,d(Q){Q&&n(e)}}}function Ut(c){let e,s,t,l,r,i,f=c[3].totalBooks+"",$,b,k,g,m,L,w,v=c[3].booksRead.length+"",I,D,p,C,T,E,V,S=c[3].unread+"",j,Q,K,U,ue,x,F,y,G,ie,O,ge,Se,Ce,X,W,fe,oe,ye,_e,He,Re,Y,de,ne,Me,ve,qe,Te,$e,he,ce;const Ke=[Kt,Jt,Gt],ee=[];function Qe(h,z){return!h[1]&&h[0].length>0?0:h[1]?2:1}y=Qe(c),G=ee[y]=Ke[y](c),oe=new Tt({}),ne=new It({});let R=c[2]&&_t(),M=c[6]&&dt();return{c(){e=_("div"),s=_("div"),t=_("h3"),l=N("Libri Totali"),r=P(),i=_("p"),$=N(f),b=P(),k=_("div"),g=_("h3"),m=N("Libri Letti"),L=P(),w=_("p"),I=N(v),D=P(),p=_("div"),C=_("h3"),T=N("Non letti"),E=P(),V=_("p"),j=N(S),Q=P(),K=_("div"),U=_("h2"),ue=N("Ultimi Libri Aggiunti"),x=P(),F=_("div"),G.c(),ie=P(),O=_("div"),ge=_("h2"),Se=N("Azioni Rapide"),Ce=P(),X=_("div"),W=_("a"),fe=_("span"),le(oe.$$.fragment),ye=P(),_e=_("span"),He=N("Visualizza Biblioteca"),Re=P(),Y=_("a"),de=_("span"),le(ne.$$.fragment),Me=P(),ve=_("span"),qe=N("Impostazioni"),Te=P(),R&&R.c(),$e=P(),M&&M.c(),he=Le(),this.h()},l(h){e=d(h,"DIV",{class:!0});var z=u(e);s=d(z,"DIV",{class:!0});var te=u(s);t=d(te,"H3",{});var Xe=u(t);l=A(Xe,"Libri Totali"),Xe.forEach(n),r=B(te),i=d(te,"P",{class:!0});var Fe=u(i);$=A(Fe,f),Fe.forEach(n),te.forEach(n),b=B(z),k=d(z,"DIV",{class:!0});var we=u(k);g=d(we,"H3",{});var Oe=u(g);m=A(Oe,"Libri Letti"),Oe.forEach(n),L=B(we),w=d(we,"P",{class:!0});var We=u(w);I=A(We,v),We.forEach(n),we.forEach(n),D=B(z),p=d(z,"DIV",{class:!0});var ke=u(p);C=d(ke,"H3",{});var Ye=u(C);T=A(Ye,"Non letti"),Ye.forEach(n),E=B(ke),V=d(ke,"P",{class:!0});var Ze=u(V);j=A(Ze,S),Ze.forEach(n),ke.forEach(n),z.forEach(n),Q=B(h),K=d(h,"DIV",{class:!0});var Ee=u(K);U=d(Ee,"H2",{class:!0});var xe=u(U);ue=A(xe,"Ultimi Libri Aggiunti"),xe.forEach(n),x=B(Ee),F=d(Ee,"DIV",{class:!0});var et=u(F);G.l(et),et.forEach(n),Ee.forEach(n),ie=B(h),O=d(h,"DIV",{class:!0});var Ne=u(O);ge=d(Ne,"H2",{});var tt=u(ge);Se=A(tt,"Azioni Rapide"),tt.forEach(n),Ce=B(Ne),X=d(Ne,"DIV",{class:!0});var me=u(X);W=d(me,"A",{href:!0,class:!0});var Ae=u(W);fe=d(Ae,"SPAN",{class:!0});var lt=u(fe);se(oe.$$.fragment,lt),lt.forEach(n),ye=B(Ae),_e=d(Ae,"SPAN",{class:!0});var st=u(_e);He=A(st,"Visualizza Biblioteca"),st.forEach(n),Ae.forEach(n),Re=B(me),Y=d(me,"A",{href:!0,class:!0});var Ie=u(Y);de=d(Ie,"SPAN",{class:!0});var at=u(de);se(ne.$$.fragment,at),at.forEach(n),Me=B(Ie),ve=d(Ie,"SPAN",{class:!0});var rt=u(ve);qe=A(rt,"Impostazioni"),rt.forEach(n),Ie.forEach(n),Te=B(me),R&&R.l(me),me.forEach(n),Ne.forEach(n),$e=B(h),M&&M.l(h),he=Le(),this.h()},h(){o(i,"class","stat-number svelte-1756irw"),o(s,"class","stat-card svelte-1756irw"),o(w,"class","stat-number svelte-1756irw"),o(k,"class","stat-card svelte-1756irw"),o(V,"class","stat-number svelte-1756irw"),o(p,"class","stat-card svelte-1756irw"),o(e,"class","stats-grid svelte-1756irw"),o(U,"class","svelte-1756irw"),o(F,"class","recent-books-grid svelte-1756irw"),o(K,"class","recent-books-section svelte-1756irw"),o(fe,"class","icon svelte-1756irw"),o(_e,"class","text"),o(W,"href",ct+"/biblioteca"),o(W,"class","action-card svelte-1756irw"),o(de,"class","icon svelte-1756irw"),o(ve,"class","text"),o(Y,"href",ct+"/settings"),o(Y,"class","action-card svelte-1756irw"),o(X,"class","actions-grid svelte-1756irw"),o(O,"class","quick-actions")},m(h,z){J(h,e,z),a(e,s),a(s,t),a(t,l),a(s,r),a(s,i),a(i,$),a(e,b),a(e,k),a(k,g),a(g,m),a(k,L),a(k,w),a(w,I),a(e,D),a(e,p),a(p,C),a(C,T),a(p,E),a(p,V),a(V,j),J(h,Q,z),J(h,K,z),a(K,U),a(U,ue),a(K,x),a(K,F),ee[y].m(F,null),J(h,ie,z),J(h,O,z),a(O,ge),a(ge,Se),a(O,Ce),a(O,X),a(X,W),a(W,fe),ae(oe,fe,null),a(W,ye),a(W,_e),a(_e,He),a(X,Re),a(X,Y),a(Y,de),ae(ne,de,null),a(Y,Me),a(Y,ve),a(ve,qe),a(X,Te),R&&R.m(X,null),J(h,$e,z),M&&M.m(h,z),J(h,he,z),ce=!0},p(h,z){(!ce||z&8)&&f!==(f=h[3].totalBooks+"")&&pe($,f),(!ce||z&8)&&v!==(v=h[3].booksRead.length+"")&&pe(I,v),(!ce||z&8)&&S!==(S=h[3].unread+"")&&pe(j,S);let te=y;y=Qe(h),y===te?ee[y].p(h,z):(Be(),q(ee[te],1,1,()=>{ee[te]=null}),Pe(),G=ee[y],G?G.p(h,z):(G=ee[y]=Ke[y](h),G.c()),H(G,1),G.m(F,null)),h[2]?R?z&4&&H(R,1):(R=_t(),R.c(),H(R,1),R.m(X,null)):R&&(Be(),q(R,1,1,()=>{R=null}),Pe()),h[6]?M?z&64&&H(M,1):(M=dt(),M.c(),H(M,1),M.m(he.parentNode,he)):M&&(Be(),q(M,1,1,()=>{M=null}),Pe())},i(h){ce||(H(G),H(oe.$$.fragment,h),H(ne.$$.fragment,h),H(R),H(M),ce=!0)},o(h){q(G),q(oe.$$.fragment,h),q(ne.$$.fragment,h),q(R),q(M),ce=!1},d(h){h&&n(e),h&&n(Q),h&&n(K),ee[y].d(),h&&n(ie),h&&n(O),re(oe),re(ne),R&&R.d(),h&&n($e),M&&M.d(h),h&&n(he)}}}function Gt(c){let e,s;return e=new At({}),{c(){le(e.$$.fragment)},l(t){se(e.$$.fragment,t)},m(t,l){ae(e,t,l),s=!0},p:Z,i(t){s||(H(e.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),s=!1},d(t){re(e,t)}}}function Jt(c){let e,s;return{c(){e=_("p"),s=N("Nessun libro nella tua biblioteca"),this.h()},l(t){e=d(t,"P",{class:!0});var l=u(e);s=A(l,"Nessun libro nella tua biblioteca"),l.forEach(n),this.h()},h(){o(e,"class","no-books")},m(t,l){J(t,e,l),a(e,s)},p:Z,i:Z,o:Z,d(t){t&&n(e)}}}function Kt(c){let e,s=c[0],t=[];for(let l=0;l<s.length;l+=1)t[l]=ft(ut(c,s,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=Le()},l(l){for(let r=0;r<t.length;r+=1)t[r].l(l);e=Le()},m(l,r){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(l,r);J(l,e,r)},p(l,r){if(r&1){s=l[0];let i;for(i=0;i<s.length;i+=1){const f=ut(l,s,i);t[i]?t[i].p(f,r):(t[i]=ft(f),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=s.length}},i:Z,o:Z,d(l){Et(t,l),l&&n(e)}}}function ft(c){let e,s,t,l,r,i,f,$,b=c[9].title+"",k,g,m,L,w=c[9].author+"",v,I;return{c(){e=_("div"),s=_("div"),t=_("img"),i=P(),f=_("div"),$=_("h3"),k=N(b),g=P(),m=_("p"),L=N("di "),v=N(w),I=P(),this.h()},l(D){e=d(D,"DIV",{class:!0});var p=u(e);s=d(p,"DIV",{class:!0});var C=u(s);t=d(C,"IMG",{class:!0,src:!0,alt:!0}),C.forEach(n),i=B(p),f=d(p,"DIV",{class:!0});var T=u(f);$=d(T,"H3",{class:!0});var E=u($);k=A(E,b),E.forEach(n),g=B(T),m=d(T,"P",{class:!0});var V=u(m);L=A(V,"di "),v=A(V,w),V.forEach(n),T.forEach(n),I=B(p),p.forEach(n),this.h()},h(){o(t,"class","book-cover svelte-1756irw"),it(t.src,l=c[9].cover)||o(t,"src",l),o(t,"alt",r=`Copertina di ${c[9].title}`),o(s,"class","book-cover-container svelte-1756irw"),o($,"class","svelte-1756irw"),o(m,"class","author svelte-1756irw"),o(f,"class","book-details svelte-1756irw"),o(e,"class","recent-book-card svelte-1756irw")},m(D,p){J(D,e,p),a(e,s),a(s,t),a(e,i),a(e,f),a(f,$),a($,k),a(f,g),a(f,m),a(m,L),a(m,v),a(e,I)},p(D,p){p&1&&!it(t.src,l=D[9].cover)&&o(t,"src",l),p&1&&r!==(r=`Copertina di ${D[9].title}`)&&o(t,"alt",r),p&1&&b!==(b=D[9].title+"")&&pe(k,b),p&1&&w!==(w=D[9].author+"")&&pe(v,w)},d(D){D&&n(e)}}}function _t(c){let e,s,t,l,r,i,f,$,b,k,g,m,L,w;return t=new yt({}),k=new Dt({}),{c(){e=_("div"),s=_("span"),le(t.$$.fragment),l=P(),r=_("span"),i=N("Cambia Biblioteca"),f=P(),$=_("div"),b=_("span"),le(k.$$.fragment),g=P(),m=_("span"),L=N("Crea Nuova biblioteca"),this.h()},l(v){e=d(v,"DIV",{class:!0});var I=u(e);s=d(I,"SPAN",{class:!0});var D=u(s);se(t.$$.fragment,D),D.forEach(n),l=B(I),r=d(I,"SPAN",{class:!0});var p=u(r);i=A(p,"Cambia Biblioteca"),p.forEach(n),I.forEach(n),f=B(v),$=d(v,"DIV",{class:!0});var C=u($);b=d(C,"SPAN",{class:!0});var T=u(b);se(k.$$.fragment,T),T.forEach(n),g=B(C),m=d(C,"SPAN",{class:!0});var E=u(m);L=A(E,"Crea Nuova biblioteca"),E.forEach(n),C.forEach(n),this.h()},h(){o(s,"class","icon svelte-1756irw"),o(r,"class","text"),o(e,"class","action-card svelte-1756irw"),o(b,"class","icon svelte-1756irw"),o(m,"class","text"),o($,"class","action-card svelte-1756irw")},m(v,I){J(v,e,I),a(e,s),ae(t,s,null),a(e,l),a(e,r),a(r,i),J(v,f,I),J(v,$,I),a($,b),ae(k,b,null),a($,g),a($,m),a(m,L),w=!0},i(v){w||(H(t.$$.fragment,v),H(k.$$.fragment,v),w=!0)},o(v){q(t.$$.fragment,v),q(k.$$.fragment,v),w=!1},d(v){v&&n(e),re(t),v&&n(f),v&&n($),re(k)}}}function dt(c){let e,s;return e=new Vt({}),{c(){le(e.$$.fragment)},l(t){se(e.$$.fragment,t)},m(t,l){ae(e,t,l),s=!0},i(t){s||(H(e.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),s=!1},d(t){re(e,t)}}}function Qt(c){var T;let e,s,t,l=c[7]()+"",r,i,f=(((T=c[5])==null?void 0:T.displayName)||"Lettore")+"",$,b,k,g,m,L,w,v,I;const D=[Ut,jt],p=[];function C(E,V){return E[4]?0:1}return w=C(c),v=p[w]=D[w](c),{c(){e=_("div"),s=_("div"),t=_("h2"),r=N(l),i=N(", "),$=N(f),b=N("!"),k=P(),g=_("p"),m=N("Benvenuto nella tua biblioteca personale"),L=P(),v.c(),this.h()},l(E){e=d(E,"DIV",{class:!0});var V=u(e);s=d(V,"DIV",{class:!0});var S=u(s);t=d(S,"H2",{class:!0});var j=u(t);r=A(j,l),i=A(j,", "),$=A(j,f),b=A(j,"!"),j.forEach(n),k=B(S),g=d(S,"P",{});var Q=u(g);m=A(Q,"Benvenuto nella tua biblioteca personale"),Q.forEach(n),S.forEach(n),L=B(V),v.l(V),V.forEach(n),this.h()},h(){o(t,"class","svelte-1756irw"),o(s,"class","welcome-section svelte-1756irw"),o(e,"class","content svelte-1756irw")},m(E,V){J(E,e,V),a(e,s),a(s,t),a(t,r),a(t,i),a(t,$),a(t,b),a(s,k),a(s,g),a(g,m),a(e,L),p[w].m(e,null),I=!0},p(E,[V]){var j;(!I||V&32)&&f!==(f=(((j=E[5])==null?void 0:j.displayName)||"Lettore")+"")&&pe($,f);let S=w;w=C(E),w===S?p[w].p(E,V):(Be(),q(p[S],1,1,()=>{p[S]=null}),Pe(),v=p[w],v?v.p(E,V):(v=p[w]=D[w](E),v.c()),H(v,1),v.m(e,null))},i(E){I||(H(v),I=!0)},o(E){q(v),I=!1},d(E){E&&n(e),p[w].d()}}}function Xt(c,e,s){let t,l,r;je(c,ot,g=>s(4,t=g)),je(c,Pt,g=>s(5,l=g)),je(c,Nt,g=>s(6,r=g));let i=[],f=!0,$,b={totalBooks:0,booksRead:0,unread:0};return wt(async()=>{s(2,$=await Bt(l.uid)),await nt(`users/${l.uid}/biblioteca`).then(async g=>{console.log("userLib:",g),kt(ot,t=g,t),await nt("protectedData/books").then(m=>{console.log("DATAfrom db:",m),s(0,i=m.slice(0,3)),s(3,b.totalBooks=m.length,b),s(3,b.booksRead=m.filter(L=>L.read),b),s(3,b.unread=m.filter(L=>!L.read).length,b),s(1,f=!1)})})}),[i,f,$,b,t,l,r,()=>{const g=new Date().getHours();return g<12?"Buongiorno":g<18?"Buon pomeriggio":"Buonasera"}]}class el extends Ue{constructor(e){super(),Ge(this,e,Xt,Qt,Je,{})}}export{el as component};
