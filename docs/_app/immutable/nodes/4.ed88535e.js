import{S as St,i as zt,s as Ht,Q as at,y as de,z as pe,A as me,R as wt,T as Rt,g as P,d as S,B as ge,U as It,J as Mt,K as Tt,L as Ct,M as qt,k as f,q as b,a as m,e as Me,l as u,m as h,r as k,h as o,c as g,n as i,b as be,E as s,u as _e,f as At,H as Dt,o as yt,v as Nt,G as ke,X as Ut,I as Vt}from"../chunks/index.9c464a28.js";import{S as Gt,s as Jt}from"../chunks/utilsStore.972d4a73.js";import{P as Kt,a as Qt,S as Xt}from"../chunks/sideBar.e67e13c6.js";import{u as Ft}from"../chunks/authStore.edb7569e.js";import{I as Ot,f as Wt}from"../chunks/Icon.8b6d5e55.js";import{e as lt}from"../chunks/singletons.6e6b378c.js";function Yt(c){let t;const a=c[2].default,e=Mt(a,c,c[3],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&8)&&Tt(e,a,l,l[3],t?qt(a,l[3],r,null):Ct(l[3]),null)},i(l){t||(P(e,l),t=!0)},o(l){S(e,l),t=!1},d(l){e&&e.d(l)}}}function Zt(c){let t,a;const e=[{name:"library"},c[1],{iconNode:c[0]}];let l={$$slots:{default:[Yt]},$$scope:{ctx:c}};for(let r=0;r<e.length;r+=1)l=at(l,e[r]);return t=new Ot({props:l}),{c(){de(t.$$.fragment)},l(r){pe(t.$$.fragment,r)},m(r,n){me(t,r,n),a=!0},p(r,[n]){const _=n&3?wt(e,[e[0],n&2&&Rt(r[1]),n&1&&{iconNode:r[0]}]):{};n&8&&(_.$$scope={dirty:n,ctx:r}),t.$set(_)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){S(t.$$.fragment,r),a=!1},d(r){ge(t,r)}}}function xt(c,t,a){let{$$slots:e={},$$scope:l}=t;const r=[["path",{d:"m16 6 4 14"}],["path",{d:"M12 6v14"}],["path",{d:"M8 8v12"}],["path",{d:"M4 4v16"}]];return c.$$set=n=>{a(1,t=at(at({},t),It(n))),"$$scope"in n&&a(3,l=n.$$scope)},t=It(t),[r,t,e,l]}class es extends St{constructor(t){super(),zt(this,t,xt,Zt,Ht,{})}}const ts=es;function Lt(c,t,a){const e=c.slice();return e[6]=t[a],e}function ss(c){let t,a;return t=new Gt({}),{c(){de(t.$$.fragment)},l(e){pe(t.$$.fragment,e)},m(e,l){me(t,e,l),a=!0},p:ke,i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){S(t.$$.fragment,e),a=!1},d(e){ge(t,e)}}}function ls(c){let t,a;return{c(){t=f("p"),a=b("Nessun libro nella tua biblioteca"),this.h()},l(e){t=u(e,"P",{class:!0});var l=h(t);a=k(l,"Nessun libro nella tua biblioteca"),l.forEach(o),this.h()},h(){i(t,"class","no-books")},m(e,l){be(e,t,l),s(t,a)},p:ke,i:ke,o:ke,d(e){e&&o(t)}}}function as(c){let t,a=c[0],e=[];for(let l=0;l<a.length;l+=1)e[l]=Pt(Lt(c,a,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=Me()},l(l){for(let r=0;r<e.length;r+=1)e[r].l(l);t=Me()},m(l,r){for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(l,r);be(l,t,r)},p(l,r){if(r&1){a=l[0];let n;for(n=0;n<a.length;n+=1){const _=Lt(l,a,n);e[n]?e[n].p(_,r):(e[n]=Pt(_),e[n].c(),e[n].m(t.parentNode,t))}for(;n<e.length;n+=1)e[n].d(1);e.length=a.length}},i:ke,o:ke,d(l){Ut(e,l),l&&o(t)}}}function Pt(c){let t,a,e,l,r,n,_,D,d=c[6].title+"",N,w,B,O,E=c[6].author+"",A,R;return{c(){t=f("div"),a=f("div"),e=f("img"),n=m(),_=f("div"),D=f("h3"),N=b(d),w=m(),B=f("p"),O=b("di "),A=b(E),R=m(),this.h()},l(I){t=u(I,"DIV",{class:!0});var j=h(t);a=u(j,"DIV",{class:!0});var M=h(a);e=u(M,"IMG",{class:!0,src:!0,alt:!0}),M.forEach(o),n=g(j),_=u(j,"DIV",{class:!0});var z=h(_);D=u(z,"H3",{class:!0});var W=h(D);N=k(W,d),W.forEach(o),w=g(z),B=u(z,"P",{class:!0});var Y=h(B);O=k(Y,"di "),A=k(Y,E),Y.forEach(o),z.forEach(o),R=g(j),j.forEach(o),this.h()},h(){i(e,"class","book-cover svelte-1kvflhj"),Vt(e.src,l=c[6].cover)||i(e,"src",l),i(e,"alt",r=`Copertina di ${c[6].title}`),i(a,"class","book-cover-container svelte-1kvflhj"),i(D,"class","svelte-1kvflhj"),i(B,"class","author svelte-1kvflhj"),i(_,"class","book-details svelte-1kvflhj"),i(t,"class","recent-book-card svelte-1kvflhj")},m(I,j){be(I,t,j),s(t,a),s(a,e),s(t,n),s(t,_),s(_,D),s(D,N),s(_,w),s(_,B),s(B,O),s(B,A),s(t,R)},p(I,j){j&1&&!Vt(e.src,l=I[6].cover)&&i(e,"src",l),j&1&&r!==(r=`Copertina di ${I[6].title}`)&&i(e,"alt",r),j&1&&d!==(d=I[6].title+"")&&_e(N,d),j&1&&E!==(E=I[6].author+"")&&_e(A,E)},d(I){I&&o(t)}}}function Bt(c){let t,a;return t=new Xt({}),{c(){de(t.$$.fragment)},l(e){pe(t.$$.fragment,e)},m(e,l){me(t,e,l),a=!0},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){S(t.$$.fragment,e),a=!1},d(e){ge(t,e)}}}function rs(c){var nt;let t,a,e,l=c[5]()+"",r,n,_=(((nt=c[3])==null?void 0:nt.displayName)||"Lettore")+"",D,d,N,w,B,O,E,A,R,I,j,M,z=c[2].totalBooks+"",W,Y,y,$e,Te,Ce,se,Ee=c[2].booksRead+"",De,qe,U,je,ye,Ue,le,Ie=c[2].unread+"",Ne,Ge,G,ae,Je,Ke,Z,V,L,Qe,J,Ae,Xe,Fe,H,T,re,x,Oe,oe,We,Ye,C,ne,ee,Ze,ie,xe,et,q,ce,te,tt,fe,st,Ve,ue,K;const rt=[as,ls,ss],Q=[];function ot(v,p){return!v[1]&&v[0].length>0?0:v[1]?2:1}V=ot(c),L=Q[V]=rt[V](c),x=new ts({}),ee=new Kt({}),te=new Qt({});let $=c[4]&&Bt();return{c(){t=f("div"),a=f("div"),e=f("h2"),r=b(l),n=b(", "),D=b(_),d=b("!"),N=m(),w=f("p"),B=b("Benvenuto nella tua biblioteca personale"),O=m(),E=f("div"),A=f("div"),R=f("h3"),I=b("Libri Totali"),j=m(),M=f("p"),W=b(z),Y=m(),y=f("div"),$e=f("h3"),Te=b("Libri Letti"),Ce=m(),se=f("p"),De=b(Ee),qe=m(),U=f("div"),je=f("h3"),ye=b("Non letti"),Ue=m(),le=f("p"),Ne=b(Ie),Ge=m(),G=f("div"),ae=f("h2"),Je=b("Ultimi Libri Aggiunti"),Ke=m(),Z=f("div"),L.c(),Qe=m(),J=f("div"),Ae=f("h2"),Xe=b("Azioni Rapide"),Fe=m(),H=f("div"),T=f("a"),re=f("span"),de(x.$$.fragment),Oe=m(),oe=f("span"),We=b("Visualizza Biblioteca"),Ye=m(),C=f("a"),ne=f("span"),de(ee.$$.fragment),Ze=m(),ie=f("span"),xe=b("Aggiungi Libro"),et=m(),q=f("a"),ce=f("span"),de(te.$$.fragment),tt=m(),fe=f("span"),st=b("Impostazioni"),Ve=m(),$&&$.c(),ue=Me(),this.h()},l(v){t=u(v,"DIV",{class:!0});var p=h(t);a=u(p,"DIV",{class:!0});var X=h(a);e=u(X,"H2",{class:!0});var F=h(e);r=k(F,l),n=k(F,", "),D=k(F,_),d=k(F,"!"),F.forEach(o),N=g(X),w=u(X,"P",{});var it=h(w);B=k(it,"Benvenuto nella tua biblioteca personale"),it.forEach(o),X.forEach(o),O=g(p),E=u(p,"DIV",{class:!0});var ve=h(E);A=u(ve,"DIV",{class:!0});var Le=h(A);R=u(Le,"H3",{});var ct=h(R);I=k(ct,"Libri Totali"),ct.forEach(o),j=g(Le),M=u(Le,"P",{class:!0});var ft=h(M);W=k(ft,z),ft.forEach(o),Le.forEach(o),Y=g(ve),y=u(ve,"DIV",{class:!0});var Pe=h(y);$e=u(Pe,"H3",{});var ut=h($e);Te=k(ut,"Libri Letti"),ut.forEach(o),Ce=g(Pe),se=u(Pe,"P",{class:!0});var vt=h(se);De=k(vt,Ee),vt.forEach(o),Pe.forEach(o),qe=g(ve),U=u(ve,"DIV",{class:!0});var Be=h(U);je=u(Be,"H3",{});var ht=h(je);ye=k(ht,"Non letti"),ht.forEach(o),Ue=g(Be),le=u(Be,"P",{class:!0});var _t=h(le);Ne=k(_t,Ie),_t.forEach(o),Be.forEach(o),ve.forEach(o),Ge=g(p),G=u(p,"DIV",{class:!0});var Se=h(G);ae=u(Se,"H2",{class:!0});var dt=h(ae);Je=k(dt,"Ultimi Libri Aggiunti"),dt.forEach(o),Ke=g(Se),Z=u(Se,"DIV",{class:!0});var pt=h(Z);L.l(pt),pt.forEach(o),Se.forEach(o),Qe=g(p),J=u(p,"DIV",{class:!0});var ze=h(J);Ae=u(ze,"H2",{});var mt=h(Ae);Xe=k(mt,"Azioni Rapide"),mt.forEach(o),Fe=g(ze),H=u(ze,"DIV",{class:!0});var he=h(H);T=u(he,"A",{href:!0,class:!0});var He=h(T);re=u(He,"SPAN",{class:!0});var gt=h(re);pe(x.$$.fragment,gt),gt.forEach(o),Oe=g(He),oe=u(He,"SPAN",{class:!0});var bt=h(oe);We=k(bt,"Visualizza Biblioteca"),bt.forEach(o),He.forEach(o),Ye=g(he),C=u(he,"A",{href:!0,class:!0});var we=h(C);ne=u(we,"SPAN",{class:!0});var kt=h(ne);pe(ee.$$.fragment,kt),kt.forEach(o),Ze=g(we),ie=u(we,"SPAN",{class:!0});var $t=h(ie);xe=k($t,"Aggiungi Libro"),$t.forEach(o),we.forEach(o),et=g(he),q=u(he,"A",{href:!0,class:!0});var Re=h(q);ce=u(Re,"SPAN",{class:!0});var Et=h(ce);pe(te.$$.fragment,Et),Et.forEach(o),tt=g(Re),fe=u(Re,"SPAN",{class:!0});var jt=h(fe);st=k(jt,"Impostazioni"),jt.forEach(o),Re.forEach(o),he.forEach(o),ze.forEach(o),p.forEach(o),Ve=g(v),$&&$.l(v),ue=Me(),this.h()},h(){i(e,"class","svelte-1kvflhj"),i(a,"class","welcome-section svelte-1kvflhj"),i(M,"class","stat-number svelte-1kvflhj"),i(A,"class","stat-card svelte-1kvflhj"),i(se,"class","stat-number svelte-1kvflhj"),i(y,"class","stat-card svelte-1kvflhj"),i(le,"class","stat-number svelte-1kvflhj"),i(U,"class","stat-card svelte-1kvflhj"),i(E,"class","stats-grid svelte-1kvflhj"),i(ae,"class","svelte-1kvflhj"),i(Z,"class","recent-books-grid svelte-1kvflhj"),i(G,"class","recent-books-section svelte-1kvflhj"),i(re,"class","icon svelte-1kvflhj"),i(oe,"class","text"),i(T,"href",lt+"/biblioteca"),i(T,"class","action-card svelte-1kvflhj"),i(ne,"class","icon svelte-1kvflhj"),i(ie,"class","text"),i(C,"href",lt+"/biblioteca"),i(C,"class","action-card svelte-1kvflhj"),i(ce,"class","icon svelte-1kvflhj"),i(fe,"class","text"),i(q,"href",lt+"/settings"),i(q,"class","action-card svelte-1kvflhj"),i(H,"class","actions-grid svelte-1kvflhj"),i(J,"class","quick-actions"),i(t,"class","content svelte-1kvflhj")},m(v,p){be(v,t,p),s(t,a),s(a,e),s(e,r),s(e,n),s(e,D),s(e,d),s(a,N),s(a,w),s(w,B),s(t,O),s(t,E),s(E,A),s(A,R),s(R,I),s(A,j),s(A,M),s(M,W),s(E,Y),s(E,y),s(y,$e),s($e,Te),s(y,Ce),s(y,se),s(se,De),s(E,qe),s(E,U),s(U,je),s(je,ye),s(U,Ue),s(U,le),s(le,Ne),s(t,Ge),s(t,G),s(G,ae),s(ae,Je),s(G,Ke),s(G,Z),Q[V].m(Z,null),s(t,Qe),s(t,J),s(J,Ae),s(Ae,Xe),s(J,Fe),s(J,H),s(H,T),s(T,re),me(x,re,null),s(T,Oe),s(T,oe),s(oe,We),s(H,Ye),s(H,C),s(C,ne),me(ee,ne,null),s(C,Ze),s(C,ie),s(ie,xe),s(H,et),s(H,q),s(q,ce),me(te,ce,null),s(q,tt),s(q,fe),s(fe,st),be(v,Ve,p),$&&$.m(v,p),be(v,ue,p),K=!0},p(v,[p]){var F;(!K||p&8)&&_!==(_=(((F=v[3])==null?void 0:F.displayName)||"Lettore")+"")&&_e(D,_),(!K||p&4)&&z!==(z=v[2].totalBooks+"")&&_e(W,z),(!K||p&4)&&Ee!==(Ee=v[2].booksRead+"")&&_e(De,Ee),(!K||p&4)&&Ie!==(Ie=v[2].unread+"")&&_e(Ne,Ie);let X=V;V=ot(v),V===X?Q[V].p(v,p):(Nt(),S(Q[X],1,1,()=>{Q[X]=null}),At(),L=Q[V],L?L.p(v,p):(L=Q[V]=rt[V](v),L.c()),P(L,1),L.m(Z,null)),v[4]?$?p&16&&P($,1):($=Bt(),$.c(),P($,1),$.m(ue.parentNode,ue)):$&&(Nt(),S($,1,1,()=>{$=null}),At())},i(v){K||(P(L),P(x.$$.fragment,v),P(ee.$$.fragment,v),P(te.$$.fragment,v),P($),K=!0)},o(v){S(L),S(x.$$.fragment,v),S(ee.$$.fragment,v),S(te.$$.fragment,v),S($),K=!1},d(v){v&&o(t),Q[V].d(),ge(x),ge(ee),ge(te),v&&o(Ve),$&&$.d(v),v&&o(ue)}}}function os(c,t,a){let e,l;Dt(c,Ft,d=>a(3,e=d)),Dt(c,Jt,d=>a(4,l=d));let r=[],n=!0,_={totalBooks:0,booksRead:0,unread:0};return yt(async()=>{await Wt("protectedData/books").then(d=>{console.log("DATAfrom db:",d),a(0,r=d.slice(0,3)),a(2,_.totalBooks=d.length,_),a(2,_.booksRead=d.filter(N=>N.read).length,_),a(2,_.unread=d.filter(N=>!N.read).length,_),a(1,n=!1)})}),[r,n,_,e,l,()=>{const d=new Date().getHours();return d<12?"Buongiorno":d<18?"Buon pomeriggio":"Buonasera"}]}class hs extends St{constructor(t){super(),zt(this,t,os,rs,Ht,{})}}export{hs as component};
