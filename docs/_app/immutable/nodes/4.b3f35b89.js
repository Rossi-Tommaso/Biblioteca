import{S as jt,i as Ft,s as Jt,w as Kt,R as Ot,k as i,y as Mt,a as b,q as h,e as Ue,l as c,m as n,z as Ut,c as m,r as p,h as l,n as r,U as qe,b as q,A as qt,G as e,T as Qt,u as fe,g as ye,d as Me,f as Wt,B as Ct,I as Xt,o as Yt,v as Zt,H as Tt,P as xt}from"../chunks/index.0b2888c4.js";import{H as es,f as ts,S as ss,a as Rt}from"../chunks/sideBar.a751e5cc.js";import{i as ls}from"../chunks/authStore.b1551517.js";function $t(v,s,a){const t=v.slice();return t[8]=s[a],t}function as(v){let s,a;return{c(){s=i("div"),a=i("div"),this.h()},l(t){s=c(t,"DIV",{class:!0});var o=n(s);a=c(o,"DIV",{class:!0}),n(a).forEach(l),o.forEach(l),this.h()},h(){r(a,"class","loader svelte-r0oyfp"),r(s,"class","loader-container svelte-r0oyfp")},m(t,o){q(t,s,o),e(s,a)},p:Tt,d(t){t&&l(s)}}}function rs(v){let s,a;return{c(){s=i("p"),a=h("Nessun libro nella tua biblioteca"),this.h()},l(t){s=c(t,"P",{class:!0});var o=n(s);a=p(o,"Nessun libro nella tua biblioteca"),o.forEach(l),this.h()},h(){r(s,"class","no-books svelte-r0oyfp")},m(t,o){q(t,s,o),e(s,a)},p:Tt,d(t){t&&l(s)}}}function os(v){let s,a=v[1],t=[];for(let o=0;o<a.length;o+=1)t[o]=zt($t(v,a,o));return{c(){for(let o=0;o<t.length;o+=1)t[o].c();s=Ue()},l(o){for(let d=0;d<t.length;d+=1)t[d].l(o);s=Ue()},m(o,d){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(o,d);q(o,s,d)},p(o,d){if(d&2){a=o[1];let u;for(u=0;u<a.length;u+=1){const k=$t(o,a,u);t[u]?t[u].p(k,d):(t[u]=zt(k),t[u].c(),t[u].m(s.parentNode,s))}for(;u<t.length;u+=1)t[u].d(1);t.length=a.length}},d(o){xt(t,o),o&&l(s)}}}function zt(v){let s,a,t,o,d,u,k,y,P=v[8].title+"",V,g,I,D,A=v[8].author+"",L,W;return{c(){s=i("div"),a=i("div"),t=i("img"),u=b(),k=i("div"),y=i("h3"),V=h(P),g=b(),I=i("p"),D=h("di "),L=h(A),W=b(),this.h()},l(N){s=c(N,"DIV",{class:!0});var B=n(s);a=c(B,"DIV",{class:!0});var C=n(a);t=c(C,"IMG",{class:!0,src:!0,alt:!0}),C.forEach(l),u=m(B),k=c(B,"DIV",{class:!0});var $=n(k);y=c($,"H3",{class:!0});var X=n(y);V=p(X,P),X.forEach(l),g=m($),I=c($,"P",{class:!0});var O=n(I);D=p(O,"di "),L=p(O,A),O.forEach(l),$.forEach(l),W=m(B),B.forEach(l),this.h()},h(){r(t,"class","book-cover svelte-r0oyfp"),qe(t.src,o=v[8].cover)||r(t,"src",o),r(t,"alt",d=`Copertina di ${v[8].title}`),r(a,"class","book-cover-container svelte-r0oyfp"),r(y,"class","svelte-r0oyfp"),r(I,"class","author svelte-r0oyfp"),r(k,"class","book-details svelte-r0oyfp"),r(s,"class","recent-book-card svelte-r0oyfp")},m(N,B){q(N,s,B),e(s,a),e(a,t),e(s,u),e(s,k),e(k,y),e(y,V),e(k,g),e(k,I),e(I,D),e(I,L),e(s,W)},p(N,B){B&2&&!qe(t.src,o=N[8].cover)&&r(t,"src",o),B&2&&d!==(d=`Copertina di ${N[8].title}`)&&r(t,"alt",d),B&2&&P!==(P=N[8].title+"")&&fe(V,P),B&2&&A!==(A=N[8].author+"")&&fe(L,A)},d(N){N&&l(s)}}}function wt(v){let s,a;return s=new ss({}),{c(){Mt(s.$$.fragment)},l(t){Ut(s.$$.fragment,t)},m(t,o){qt(s,t,o),a=!0},i(t){a||(ye(s.$$.fragment,t),a=!0)},o(t){Me(s.$$.fragment,t),a=!1},d(t){Ct(s,t)}}}function is(v){var pt;let s,a,t,o,d,u,k,y,P,V,g,I,D,A,L,W=v[6]()+"",N,B,C=(((pt=v[5])==null?void 0:pt.displayName)||"Lettore")+"",$,X,O,ue,Ce,Te,S,T,ve,Ge,je,Y,de=v[4].totalBooks+"",De,Fe,G,he,Je,Ke,Z,pe=v[4].booksRead+"",Ve,Oe,j,_e,Qe,We,x,be=v[4].unread+"",Ie,Xe,F,ee,Ye,Ze,Q,xe,J,me,et,tt,R,z,te,st,lt,se,at,rt,w,le,ot,it,ae,ct,nt,M,re,ft,ut,oe,vt,Be,ie,U;function Gt(f){v[7](f)}let dt={};v[0]!==void 0&&(dt.check=v[0]),a=new es({props:dt}),Kt.push(()=>Ot(a,"check",Gt));function ht(f,_){return!f[2]&&f[1].length>0?os:f[2]?as:rs}let Pe=ht(v),H=Pe(v),E=v[0]&&wt();return{c(){s=i("div"),Mt(a.$$.fragment),o=b(),d=i("div"),u=i("h1"),k=h("La Mia Biblioteca"),y=b(),P=i("div"),V=i("img"),I=b(),D=i("div"),A=i("div"),L=i("h2"),N=h(W),B=h(", "),$=h(C),X=h("!"),O=b(),ue=i("p"),Ce=h("Benvenuto nella tua biblioteca personale"),Te=b(),S=i("div"),T=i("div"),ve=i("h3"),Ge=h("Libri Totali"),je=b(),Y=i("p"),De=h(de),Fe=b(),G=i("div"),he=i("h3"),Je=h("Libri Letti"),Ke=b(),Z=i("p"),Ve=h(pe),Oe=b(),j=i("div"),_e=i("h3"),Qe=h("Non letti"),We=b(),x=i("p"),Ie=h(be),Xe=b(),F=i("div"),ee=i("h2"),Ye=h("Ultimi Libri Aggiunti"),Ze=b(),Q=i("div"),H.c(),xe=b(),J=i("div"),me=i("h2"),et=h("Azioni Rapide"),tt=b(),R=i("div"),z=i("a"),te=i("span"),st=h("ðŸ“š"),lt=b(),se=i("span"),at=h("Visualizza Biblioteca"),rt=b(),w=i("a"),le=i("span"),ot=h("âž•"),it=b(),ae=i("span"),ct=h("Aggiungi Libro"),nt=b(),M=i("a"),re=i("span"),ft=h("ðŸ‘¤"),ut=b(),oe=i("span"),vt=h("Profilo"),Be=b(),E&&E.c(),ie=Ue(),this.h()},l(f){s=c(f,"DIV",{class:!0});var _=n(s);Ut(a.$$.fragment,_),o=m(_),d=c(_,"DIV",{class:!0});var ge=n(d);u=c(ge,"H1",{class:!0});var Ee=n(u);k=p(Ee,"La Mia Biblioteca"),Ee.forEach(l),ge.forEach(l),y=m(_),P=c(_,"DIV",{class:!0});var _t=n(P);V=c(_t,"IMG",{class:!0,src:!0,alt:!0}),_t.forEach(l),_.forEach(l),I=m(f),D=c(f,"DIV",{class:!0});var K=n(D);A=c(K,"DIV",{class:!0});var Ae=n(A);L=c(Ae,"H2",{class:!0});var ke=n(L);N=p(ke,W),B=p(ke,", "),$=p(ke,C),X=p(ke,"!"),ke.forEach(l),O=m(Ae),ue=c(Ae,"P",{});var bt=n(ue);Ce=p(bt,"Benvenuto nella tua biblioteca personale"),bt.forEach(l),Ae.forEach(l),Te=m(K),S=c(K,"DIV",{class:!0});var ce=n(S);T=c(ce,"DIV",{class:!0});var Le=n(T);ve=c(Le,"H3",{});var mt=n(ve);Ge=p(mt,"Libri Totali"),mt.forEach(l),je=m(Le),Y=c(Le,"P",{class:!0});var gt=n(Y);De=p(gt,de),gt.forEach(l),Le.forEach(l),Fe=m(ce),G=c(ce,"DIV",{class:!0});var Ne=n(G);he=c(Ne,"H3",{});var Et=n(he);Je=p(Et,"Libri Letti"),Et.forEach(l),Ke=m(Ne),Z=c(Ne,"P",{class:!0});var kt=n(Z);Ve=p(kt,pe),kt.forEach(l),Ne.forEach(l),Oe=m(ce),j=c(ce,"DIV",{class:!0});var He=n(j);_e=c(He,"H3",{});var yt=n(_e);Qe=p(yt,"Non letti"),yt.forEach(l),We=m(He),x=c(He,"P",{class:!0});var Dt=n(x);Ie=p(Dt,be),Dt.forEach(l),He.forEach(l),ce.forEach(l),Xe=m(K),F=c(K,"DIV",{class:!0});var Se=n(F);ee=c(Se,"H2",{class:!0});var Vt=n(ee);Ye=p(Vt,"Ultimi Libri Aggiunti"),Vt.forEach(l),Ze=m(Se),Q=c(Se,"DIV",{class:!0});var It=n(Q);H.l(It),It.forEach(l),Se.forEach(l),xe=m(K),J=c(K,"DIV",{class:!0});var Re=n(J);me=c(Re,"H2",{});var Bt=n(me);et=p(Bt,"Azioni Rapide"),Bt.forEach(l),tt=m(Re),R=c(Re,"DIV",{class:!0});var ne=n(R);z=c(ne,"A",{href:!0,class:!0});var $e=n(z);te=c($e,"SPAN",{class:!0});var Pt=n(te);st=p(Pt,"ðŸ“š"),Pt.forEach(l),lt=m($e),se=c($e,"SPAN",{class:!0});var At=n(se);at=p(At,"Visualizza Biblioteca"),At.forEach(l),$e.forEach(l),rt=m(ne),w=c(ne,"A",{href:!0,class:!0});var ze=n(w);le=c(ze,"SPAN",{class:!0});var Lt=n(le);ot=p(Lt,"âž•"),Lt.forEach(l),it=m(ze),ae=c(ze,"SPAN",{class:!0});var Nt=n(ae);ct=p(Nt,"Aggiungi Libro"),Nt.forEach(l),ze.forEach(l),nt=m(ne),M=c(ne,"A",{href:!0,class:!0});var we=n(M);re=c(we,"SPAN",{class:!0});var Ht=n(re);ft=p(Ht,"ðŸ‘¤"),Ht.forEach(l),ut=m(we),oe=c(we,"SPAN",{class:!0});var St=n(oe);vt=p(St,"Profilo"),St.forEach(l),we.forEach(l),ne.forEach(l),Re.forEach(l),K.forEach(l),Be=m(f),E&&E.l(f),ie=Ue(),this.h()},h(){r(u,"class","svelte-r0oyfp"),r(d,"class","header-left svelte-r0oyfp"),r(V,"class","profile-img svelte-r0oyfp"),qe(V.src,g=v[3])||r(V,"src",g),r(V,"alt","profile-placeholder"),r(P,"class","header-right svelte-r0oyfp"),r(s,"class","header svelte-r0oyfp"),r(L,"class","svelte-r0oyfp"),r(A,"class","welcome-section svelte-r0oyfp"),r(Y,"class","stat-number svelte-r0oyfp"),r(T,"class","stat-card svelte-r0oyfp"),r(Z,"class","stat-number svelte-r0oyfp"),r(G,"class","stat-card svelte-r0oyfp"),r(x,"class","stat-number svelte-r0oyfp"),r(j,"class","stat-card svelte-r0oyfp"),r(S,"class","stats-grid svelte-r0oyfp"),r(ee,"class","svelte-r0oyfp"),r(Q,"class","recent-books-grid svelte-r0oyfp"),r(F,"class","recent-books-section svelte-r0oyfp"),r(te,"class","icon svelte-r0oyfp"),r(se,"class","text"),r(z,"href",Rt("/biblioteca")),r(z,"class","action-card svelte-r0oyfp"),r(le,"class","icon svelte-r0oyfp"),r(ae,"class","text"),r(w,"href",Rt("/biblioteca")),r(w,"class","action-card svelte-r0oyfp"),r(re,"class","icon svelte-r0oyfp"),r(oe,"class","text"),r(M,"href","#"),r(M,"class","action-card svelte-r0oyfp"),r(R,"class","actions-grid svelte-r0oyfp"),r(J,"class","quick-actions"),r(D,"class","content svelte-r0oyfp")},m(f,_){q(f,s,_),qt(a,s,null),e(s,o),e(s,d),e(d,u),e(u,k),e(s,y),e(s,P),e(P,V),q(f,I,_),q(f,D,_),e(D,A),e(A,L),e(L,N),e(L,B),e(L,$),e(L,X),e(A,O),e(A,ue),e(ue,Ce),e(D,Te),e(D,S),e(S,T),e(T,ve),e(ve,Ge),e(T,je),e(T,Y),e(Y,De),e(S,Fe),e(S,G),e(G,he),e(he,Je),e(G,Ke),e(G,Z),e(Z,Ve),e(S,Oe),e(S,j),e(j,_e),e(_e,Qe),e(j,We),e(j,x),e(x,Ie),e(D,Xe),e(D,F),e(F,ee),e(ee,Ye),e(F,Ze),e(F,Q),H.m(Q,null),e(D,xe),e(D,J),e(J,me),e(me,et),e(J,tt),e(J,R),e(R,z),e(z,te),e(te,st),e(z,lt),e(z,se),e(se,at),e(R,rt),e(R,w),e(w,le),e(le,ot),e(w,it),e(w,ae),e(ae,ct),e(R,nt),e(R,M),e(M,re),e(re,ft),e(M,ut),e(M,oe),e(oe,vt),q(f,Be,_),E&&E.m(f,_),q(f,ie,_),U=!0},p(f,[_]){var Ee;const ge={};!t&&_&1&&(t=!0,ge.check=f[0],Qt(()=>t=!1)),a.$set(ge),(!U||_&8&&!qe(V.src,g=f[3]))&&r(V,"src",g),(!U||_&32)&&C!==(C=(((Ee=f[5])==null?void 0:Ee.displayName)||"Lettore")+"")&&fe($,C),(!U||_&16)&&de!==(de=f[4].totalBooks+"")&&fe(De,de),(!U||_&16)&&pe!==(pe=f[4].booksRead+"")&&fe(Ve,pe),(!U||_&16)&&be!==(be=f[4].unread+"")&&fe(Ie,be),Pe===(Pe=ht(f))&&H?H.p(f,_):(H.d(1),H=Pe(f),H&&(H.c(),H.m(Q,null))),f[0]?E?_&1&&ye(E,1):(E=wt(),E.c(),ye(E,1),E.m(ie.parentNode,ie)):E&&(Zt(),Me(E,1,1,()=>{E=null}),Wt())},i(f){U||(ye(a.$$.fragment,f),ye(E),U=!0)},o(f){Me(a.$$.fragment,f),Me(E),U=!1},d(f){f&&l(s),Ct(a),f&&l(I),f&&l(D),H.d(),f&&l(Be),E&&E.d(f),f&&l(ie)}}}function cs(v,s,a){let t;Xt(v,ls,g=>a(5,t=g));let o,d=[],u=!0,k,y={totalBooks:0,booksRead:0,unread:0};Yt(()=>{a(3,k=t.photoURL??"profile_placeholder.png"),ts("protectedData/books").then(g=>{a(1,d=g.slice(0,3)),a(4,y.totalBooks=g.length,y),a(4,y.booksRead=g.filter(I=>I.read).length,y),a(4,y.unread=g.filter(I=>!I.read).length,y),a(2,u=!1)}),console.log("DEV:",dev)});const P=()=>{const g=new Date().getHours();return g<12?"Buongiorno":g<18?"Buon pomeriggio":"Buonasera"};function V(g){o=g,a(0,o)}return[o,d,u,k,y,t,P,V]}class vs extends jt{constructor(s){super(),Ft(this,s,cs,is,Jt,{})}}export{vs as component};
