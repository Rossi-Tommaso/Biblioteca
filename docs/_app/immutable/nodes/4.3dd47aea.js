import{S as jt,i as Ft,s as Jt,w as Kt,R as Ot,k as i,y as Mt,a as b,q as h,e as Te,l as c,m as n,z as Tt,c as m,r as p,h as l,n as r,U as qe,b as q,A as qt,G as e,T as Qt,u as fe,g as ye,d as Me,f as Wt,B as Ct,I as Xt,o as Yt,v as Zt,H as Gt,P as xt}from"../chunks/index.0b2888c4.js";import{H as es,f as ts,S as ss}from"../chunks/sideBar.f53efc8d.js";import{i as ls}from"../chunks/authStore.6aa99841.js";import{e as $t}from"../chunks/singletons.c0ae10f7.js";function zt(v,s,a){const t=v.slice();return t[8]=s[a],t}function as(v){let s,a;return{c(){s=i("div"),a=i("div"),this.h()},l(t){s=c(t,"DIV",{class:!0});var o=n(s);a=c(o,"DIV",{class:!0}),n(a).forEach(l),o.forEach(l),this.h()},h(){r(a,"class","loader svelte-r0oyfp"),r(s,"class","loader-container svelte-r0oyfp")},m(t,o){q(t,s,o),e(s,a)},p:Gt,d(t){t&&l(s)}}}function rs(v){let s,a;return{c(){s=i("p"),a=h("Nessun libro nella tua biblioteca"),this.h()},l(t){s=c(t,"P",{class:!0});var o=n(s);a=p(o,"Nessun libro nella tua biblioteca"),o.forEach(l),this.h()},h(){r(s,"class","no-books svelte-r0oyfp")},m(t,o){q(t,s,o),e(s,a)},p:Gt,d(t){t&&l(s)}}}function os(v){let s,a=v[1],t=[];for(let o=0;o<a.length;o+=1)t[o]=Rt(zt(v,a,o));return{c(){for(let o=0;o<t.length;o+=1)t[o].c();s=Te()},l(o){for(let d=0;d<t.length;d+=1)t[d].l(o);s=Te()},m(o,d){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(o,d);q(o,s,d)},p(o,d){if(d&2){a=o[1];let u;for(u=0;u<a.length;u+=1){const k=zt(o,a,u);t[u]?t[u].p(k,d):(t[u]=Rt(k),t[u].c(),t[u].m(s.parentNode,s))}for(;u<t.length;u+=1)t[u].d(1);t.length=a.length}},d(o){xt(t,o),o&&l(s)}}}function Rt(v){let s,a,t,o,d,u,k,y,B=v[8].title+"",I,g,V,D,P=v[8].author+"",L,W;return{c(){s=i("div"),a=i("div"),t=i("img"),u=b(),k=i("div"),y=i("h3"),I=h(B),g=b(),V=i("p"),D=h("di "),L=h(P),W=b(),this.h()},l(N){s=c(N,"DIV",{class:!0});var A=n(s);a=c(A,"DIV",{class:!0});var C=n(a);t=c(C,"IMG",{class:!0,src:!0,alt:!0}),C.forEach(l),u=m(A),k=c(A,"DIV",{class:!0});var z=n(k);y=c(z,"H3",{class:!0});var X=n(y);I=p(X,B),X.forEach(l),g=m(z),V=c(z,"P",{class:!0});var O=n(V);D=p(O,"di "),L=p(O,P),O.forEach(l),z.forEach(l),W=m(A),A.forEach(l),this.h()},h(){r(t,"class","book-cover svelte-r0oyfp"),qe(t.src,o=v[8].cover)||r(t,"src",o),r(t,"alt",d=`Copertina di ${v[8].title}`),r(a,"class","book-cover-container svelte-r0oyfp"),r(y,"class","svelte-r0oyfp"),r(V,"class","author svelte-r0oyfp"),r(k,"class","book-details svelte-r0oyfp"),r(s,"class","recent-book-card svelte-r0oyfp")},m(N,A){q(N,s,A),e(s,a),e(a,t),e(s,u),e(s,k),e(k,y),e(y,I),e(k,g),e(k,V),e(V,D),e(V,L),e(s,W)},p(N,A){A&2&&!qe(t.src,o=N[8].cover)&&r(t,"src",o),A&2&&d!==(d=`Copertina di ${N[8].title}`)&&r(t,"alt",d),A&2&&B!==(B=N[8].title+"")&&fe(I,B),A&2&&P!==(P=N[8].author+"")&&fe(L,P)},d(N){N&&l(s)}}}function wt(v){let s,a;return s=new ss({}),{c(){Mt(s.$$.fragment)},l(t){Tt(s.$$.fragment,t)},m(t,o){qt(s,t,o),a=!0},i(t){a||(ye(s.$$.fragment,t),a=!0)},o(t){Me(s.$$.fragment,t),a=!1},d(t){Ct(s,t)}}}function is(v){var pt;let s,a,t,o,d,u,k,y,B,I,g,V,D,P,L,W=v[6]()+"",N,A,C=(((pt=v[5])==null?void 0:pt.displayName)||"Lettore")+"",z,X,O,ue,Ce,Ge,S,G,ve,Ue,je,Y,de=v[4].totalBooks+"",De,Fe,U,he,Je,Ke,Z,pe=v[4].booksRead+"",Ie,Oe,j,_e,Qe,We,x,be=v[4].unread+"",Ve,Xe,F,ee,Ye,Ze,Q,xe,J,me,et,tt,$,R,te,st,lt,se,at,rt,w,le,ot,it,ae,ct,nt,M,re,ft,ut,oe,vt,Ae,ie,T;function Ut(f){v[7](f)}let dt={};v[0]!==void 0&&(dt.check=v[0]),a=new es({props:dt}),Kt.push(()=>Ot(a,"check",Ut));function ht(f,_){return!f[2]&&f[1].length>0?os:f[2]?as:rs}let Be=ht(v),H=Be(v),E=v[0]&&wt();return{c(){s=i("div"),Mt(a.$$.fragment),o=b(),d=i("div"),u=i("h1"),k=h("La Mia Biblioteca"),y=b(),B=i("div"),I=i("img"),V=b(),D=i("div"),P=i("div"),L=i("h2"),N=h(W),A=h(", "),z=h(C),X=h("!"),O=b(),ue=i("p"),Ce=h("Benvenuto nella tua biblioteca personale"),Ge=b(),S=i("div"),G=i("div"),ve=i("h3"),Ue=h("Libri Totali"),je=b(),Y=i("p"),De=h(de),Fe=b(),U=i("div"),he=i("h3"),Je=h("Libri Letti"),Ke=b(),Z=i("p"),Ie=h(pe),Oe=b(),j=i("div"),_e=i("h3"),Qe=h("Non letti"),We=b(),x=i("p"),Ve=h(be),Xe=b(),F=i("div"),ee=i("h2"),Ye=h("Ultimi Libri Aggiunti"),Ze=b(),Q=i("div"),H.c(),xe=b(),J=i("div"),me=i("h2"),et=h("Azioni Rapide"),tt=b(),$=i("div"),R=i("a"),te=i("span"),st=h("ðŸ“š"),lt=b(),se=i("span"),at=h("Visualizza Biblioteca"),rt=b(),w=i("a"),le=i("span"),ot=h("âž•"),it=b(),ae=i("span"),ct=h("Aggiungi Libro"),nt=b(),M=i("a"),re=i("span"),ft=h("ðŸ‘¤"),ut=b(),oe=i("span"),vt=h("Profilo"),Ae=b(),E&&E.c(),ie=Te(),this.h()},l(f){s=c(f,"DIV",{class:!0});var _=n(s);Tt(a.$$.fragment,_),o=m(_),d=c(_,"DIV",{class:!0});var ge=n(d);u=c(ge,"H1",{class:!0});var Ee=n(u);k=p(Ee,"La Mia Biblioteca"),Ee.forEach(l),ge.forEach(l),y=m(_),B=c(_,"DIV",{class:!0});var _t=n(B);I=c(_t,"IMG",{class:!0,src:!0,alt:!0}),_t.forEach(l),_.forEach(l),V=m(f),D=c(f,"DIV",{class:!0});var K=n(D);P=c(K,"DIV",{class:!0});var Pe=n(P);L=c(Pe,"H2",{class:!0});var ke=n(L);N=p(ke,W),A=p(ke,", "),z=p(ke,C),X=p(ke,"!"),ke.forEach(l),O=m(Pe),ue=c(Pe,"P",{});var bt=n(ue);Ce=p(bt,"Benvenuto nella tua biblioteca personale"),bt.forEach(l),Pe.forEach(l),Ge=m(K),S=c(K,"DIV",{class:!0});var ce=n(S);G=c(ce,"DIV",{class:!0});var Le=n(G);ve=c(Le,"H3",{});var mt=n(ve);Ue=p(mt,"Libri Totali"),mt.forEach(l),je=m(Le),Y=c(Le,"P",{class:!0});var gt=n(Y);De=p(gt,de),gt.forEach(l),Le.forEach(l),Fe=m(ce),U=c(ce,"DIV",{class:!0});var Ne=n(U);he=c(Ne,"H3",{});var Et=n(he);Je=p(Et,"Libri Letti"),Et.forEach(l),Ke=m(Ne),Z=c(Ne,"P",{class:!0});var kt=n(Z);Ie=p(kt,pe),kt.forEach(l),Ne.forEach(l),Oe=m(ce),j=c(ce,"DIV",{class:!0});var He=n(j);_e=c(He,"H3",{});var yt=n(_e);Qe=p(yt,"Non letti"),yt.forEach(l),We=m(He),x=c(He,"P",{class:!0});var Dt=n(x);Ve=p(Dt,be),Dt.forEach(l),He.forEach(l),ce.forEach(l),Xe=m(K),F=c(K,"DIV",{class:!0});var Se=n(F);ee=c(Se,"H2",{class:!0});var It=n(ee);Ye=p(It,"Ultimi Libri Aggiunti"),It.forEach(l),Ze=m(Se),Q=c(Se,"DIV",{class:!0});var Vt=n(Q);H.l(Vt),Vt.forEach(l),Se.forEach(l),xe=m(K),J=c(K,"DIV",{class:!0});var $e=n(J);me=c($e,"H2",{});var At=n(me);et=p(At,"Azioni Rapide"),At.forEach(l),tt=m($e),$=c($e,"DIV",{class:!0});var ne=n($);R=c(ne,"A",{href:!0,class:!0});var ze=n(R);te=c(ze,"SPAN",{class:!0});var Bt=n(te);st=p(Bt,"ðŸ“š"),Bt.forEach(l),lt=m(ze),se=c(ze,"SPAN",{class:!0});var Pt=n(se);at=p(Pt,"Visualizza Biblioteca"),Pt.forEach(l),ze.forEach(l),rt=m(ne),w=c(ne,"A",{href:!0,class:!0});var Re=n(w);le=c(Re,"SPAN",{class:!0});var Lt=n(le);ot=p(Lt,"âž•"),Lt.forEach(l),it=m(Re),ae=c(Re,"SPAN",{class:!0});var Nt=n(ae);ct=p(Nt,"Aggiungi Libro"),Nt.forEach(l),Re.forEach(l),nt=m(ne),M=c(ne,"A",{href:!0,class:!0});var we=n(M);re=c(we,"SPAN",{class:!0});var Ht=n(re);ft=p(Ht,"ðŸ‘¤"),Ht.forEach(l),ut=m(we),oe=c(we,"SPAN",{class:!0});var St=n(oe);vt=p(St,"Profilo"),St.forEach(l),we.forEach(l),ne.forEach(l),$e.forEach(l),K.forEach(l),Ae=m(f),E&&E.l(f),ie=Te(),this.h()},h(){r(u,"class","svelte-r0oyfp"),r(d,"class","header-left svelte-r0oyfp"),r(I,"class","profile-img svelte-r0oyfp"),qe(I.src,g=v[3])||r(I,"src",g),r(I,"alt","profile-placeholder"),r(B,"class","header-right svelte-r0oyfp"),r(s,"class","header svelte-r0oyfp"),r(L,"class","svelte-r0oyfp"),r(P,"class","welcome-section svelte-r0oyfp"),r(Y,"class","stat-number svelte-r0oyfp"),r(G,"class","stat-card svelte-r0oyfp"),r(Z,"class","stat-number svelte-r0oyfp"),r(U,"class","stat-card svelte-r0oyfp"),r(x,"class","stat-number svelte-r0oyfp"),r(j,"class","stat-card svelte-r0oyfp"),r(S,"class","stats-grid svelte-r0oyfp"),r(ee,"class","svelte-r0oyfp"),r(Q,"class","recent-books-grid svelte-r0oyfp"),r(F,"class","recent-books-section svelte-r0oyfp"),r(te,"class","icon svelte-r0oyfp"),r(se,"class","text"),r(R,"href",$t+"/biblioteca"),r(R,"class","action-card svelte-r0oyfp"),r(le,"class","icon svelte-r0oyfp"),r(ae,"class","text"),r(w,"href",$t+"/biblioteca"),r(w,"class","action-card svelte-r0oyfp"),r(re,"class","icon svelte-r0oyfp"),r(oe,"class","text"),r(M,"href","#"),r(M,"class","action-card svelte-r0oyfp"),r($,"class","actions-grid svelte-r0oyfp"),r(J,"class","quick-actions"),r(D,"class","content svelte-r0oyfp")},m(f,_){q(f,s,_),qt(a,s,null),e(s,o),e(s,d),e(d,u),e(u,k),e(s,y),e(s,B),e(B,I),q(f,V,_),q(f,D,_),e(D,P),e(P,L),e(L,N),e(L,A),e(L,z),e(L,X),e(P,O),e(P,ue),e(ue,Ce),e(D,Ge),e(D,S),e(S,G),e(G,ve),e(ve,Ue),e(G,je),e(G,Y),e(Y,De),e(S,Fe),e(S,U),e(U,he),e(he,Je),e(U,Ke),e(U,Z),e(Z,Ie),e(S,Oe),e(S,j),e(j,_e),e(_e,Qe),e(j,We),e(j,x),e(x,Ve),e(D,Xe),e(D,F),e(F,ee),e(ee,Ye),e(F,Ze),e(F,Q),H.m(Q,null),e(D,xe),e(D,J),e(J,me),e(me,et),e(J,tt),e(J,$),e($,R),e(R,te),e(te,st),e(R,lt),e(R,se),e(se,at),e($,rt),e($,w),e(w,le),e(le,ot),e(w,it),e(w,ae),e(ae,ct),e($,nt),e($,M),e(M,re),e(re,ft),e(M,ut),e(M,oe),e(oe,vt),q(f,Ae,_),E&&E.m(f,_),q(f,ie,_),T=!0},p(f,[_]){var Ee;const ge={};!t&&_&1&&(t=!0,ge.check=f[0],Qt(()=>t=!1)),a.$set(ge),(!T||_&8&&!qe(I.src,g=f[3]))&&r(I,"src",g),(!T||_&32)&&C!==(C=(((Ee=f[5])==null?void 0:Ee.displayName)||"Lettore")+"")&&fe(z,C),(!T||_&16)&&de!==(de=f[4].totalBooks+"")&&fe(De,de),(!T||_&16)&&pe!==(pe=f[4].booksRead+"")&&fe(Ie,pe),(!T||_&16)&&be!==(be=f[4].unread+"")&&fe(Ve,be),Be===(Be=ht(f))&&H?H.p(f,_):(H.d(1),H=Be(f),H&&(H.c(),H.m(Q,null))),f[0]?E?_&1&&ye(E,1):(E=wt(),E.c(),ye(E,1),E.m(ie.parentNode,ie)):E&&(Zt(),Me(E,1,1,()=>{E=null}),Wt())},i(f){T||(ye(a.$$.fragment,f),ye(E),T=!0)},o(f){Me(a.$$.fragment,f),Me(E),T=!1},d(f){f&&l(s),Ct(a),f&&l(V),f&&l(D),H.d(),f&&l(Ae),E&&E.d(f),f&&l(ie)}}}function cs(v,s,a){let t;Xt(v,ls,g=>a(5,t=g));let o,d=[],u=!0,k,y={totalBooks:0,booksRead:0,unread:0};Yt(()=>{a(3,k="profile_placeholder.png"),ts("protectedData/books").then(g=>{console.log("DATAfrom db:",g),a(1,d=g.slice(0,3)),a(4,y.totalBooks=g.length,y),a(4,y.booksRead=g.filter(V=>V.read).length,y),a(4,y.unread=g.filter(V=>!V.read).length,y),a(2,u=!1)})});const B=()=>{const g=new Date().getHours();return g<12?"Buongiorno":g<18?"Buon pomeriggio":"Buonasera"};function I(g){o=g,a(0,o)}return[o,d,u,k,y,t,B,I]}class ds extends jt{constructor(s){super(),Ft(this,s,cs,is,Jt,{})}}export{ds as component};
