import{S as Ce,i as Ee,s as Ie,k as _,a as B,l as d,m as v,h as a,c as D,n as i,b as w,G as r,H as oe,Q as Ue,v as be,d as se,f as ke,g as j,q,r as Q,L as $,M as x,N as we,y as ve,z as _e,A as de,B as pe,J as ae,K as ie,w as Le,R as me,e as fe,p as Pe,T as ge,I as ze,o as qe,P as Qe,U as Oe,u as Se}from"../chunks/index.0b2888c4.js";import{u as Ye,H as Ke,f as Re,S as Fe,d as je}from"../chunks/sideBar.a751e5cc.js";import{i as We}from"../chunks/authStore.b1551517.js";function $e(n){let e,t,s,l,o,f,g,k,m,u,C,p,T,E,N,M;return{c(){e=_("div"),t=_("div"),s=B(),l=_("div"),o=B(),f=_("div"),g=B(),k=_("div"),m=B(),u=_("div"),C=B(),p=_("div"),T=B(),E=_("div"),N=B(),M=_("div"),this.h()},l(I){e=d(I,"DIV",{class:!0});var L=v(e);t=d(L,"DIV",{class:!0}),v(t).forEach(a),s=D(L),l=d(L,"DIV",{class:!0}),v(l).forEach(a),o=D(L),f=d(L,"DIV",{class:!0}),v(f).forEach(a),g=D(L),k=d(L,"DIV",{class:!0}),v(k).forEach(a),m=D(L),u=d(L,"DIV",{class:!0}),v(u).forEach(a),C=D(L),p=d(L,"DIV",{class:!0}),v(p).forEach(a),T=D(L),E=d(L,"DIV",{class:!0}),v(E).forEach(a),N=D(L),M=d(L,"DIV",{class:!0}),v(M).forEach(a),L.forEach(a),this.h()},h(){i(t,"class","dot-spinner__dot svelte-5851t6"),i(l,"class","dot-spinner__dot svelte-5851t6"),i(f,"class","dot-spinner__dot svelte-5851t6"),i(k,"class","dot-spinner__dot svelte-5851t6"),i(u,"class","dot-spinner__dot svelte-5851t6"),i(p,"class","dot-spinner__dot svelte-5851t6"),i(E,"class","dot-spinner__dot svelte-5851t6"),i(M,"class","dot-spinner__dot svelte-5851t6"),i(e,"class","dot-spinner svelte-5851t6")},m(I,L){w(I,e,L),r(e,t),r(e,s),r(e,l),r(e,o),r(e,f),r(e,g),r(e,k),r(e,m),r(e,u),r(e,C),r(e,p),r(e,T),r(e,E),r(e,N),r(e,M)},p:oe,i:oe,o:oe,d(I){I&&a(e)}}}class xe extends Ce{constructor(e){super(),Ee(this,e,null,$e,Ie,{})}}function e1(n){let e,t,s,l,o,f,g,k,m,u,C,p,T,E,N,M,I,L,X,G,U,Z,S,b,z,H,W,R,J,Y,y,K,O,F,P,h,V,re,ee,te,le,ne,ce;return{c(){e=_("h2"),t=q("Modifica libro"),s=B(),l=_("label"),o=q(`Titolo:
                `),f=_("input"),g=B(),k=_("label"),m=q(`Autore:
                `),u=_("input"),C=B(),p=_("label"),T=q(`Edizione:
                `),E=_("input"),N=B(),M=_("label"),I=q(`Genere:
                `),L=_("input"),X=B(),G=_("label"),U=q(`Commenti:
                `),Z=_("textarea"),S=B(),b=_("label"),z=q(`Copertina:
                `),H=_("input"),W=B(),R=_("label"),J=q(`Letto:
                `),Y=_("input"),y=B(),K=_("label"),O=q(`Prestito:
                `),F=_("input"),P=B(),h=_("div"),V=_("button"),re=q("Annulla"),ee=B(),te=_("button"),le=q("Salva"),this.h()},l(c){e=d(c,"H2",{});var A=v(e);t=Q(A,"Modifica libro"),A.forEach(a),s=D(c),l=d(c,"LABEL",{class:!0});var ue=v(l);o=Q(ue,`Titolo:
                `),f=d(ue,"INPUT",{type:!0,class:!0}),ue.forEach(a),g=D(c),k=d(c,"LABEL",{class:!0});var Ae=v(k);m=Q(Ae,`Autore:
                `),u=d(Ae,"INPUT",{type:!0,class:!0}),Ae.forEach(a),C=D(c),p=d(c,"LABEL",{class:!0});var ye=v(p);T=Q(ye,`Edizione:
                `),E=d(ye,"INPUT",{type:!0,class:!0}),ye.forEach(a),N=D(c),M=d(c,"LABEL",{class:!0});var Be=v(M);I=Q(Be,`Genere:
                `),L=d(Be,"INPUT",{type:!0,class:!0}),Be.forEach(a),X=D(c),G=d(c,"LABEL",{class:!0});var De=v(G);U=Q(De,`Commenti:
                `),Z=d(De,"TEXTAREA",{class:!0}),v(Z).forEach(a),De.forEach(a),S=D(c),b=d(c,"LABEL",{class:!0});var Me=v(b);z=Q(Me,`Copertina:
                `),H=d(Me,"INPUT",{type:!0,placeholder:!0,class:!0}),Me.forEach(a),W=D(c),R=d(c,"LABEL",{class:!0});var Ve=v(R);J=Q(Ve,`Letto:
                `),Y=d(Ve,"INPUT",{type:!0}),Ve.forEach(a),y=D(c),K=d(c,"LABEL",{class:!0});var Ze=v(K);O=Q(Ze,`Prestito:
                `),F=d(Ze,"INPUT",{type:!0}),Ze.forEach(a),P=D(c),h=d(c,"DIV",{class:!0});var he=v(h);V=d(he,"BUTTON",{class:!0});var Te=v(V);re=Q(Te,"Annulla"),Te.forEach(a),ee=D(he),te=d(he,"BUTTON",{class:!0});var Ne=v(te);le=Q(Ne,"Salva"),Ne.forEach(a),he.forEach(a),this.h()},h(){i(f,"type","text"),i(f,"class","svelte-115gks2"),i(l,"class","svelte-115gks2"),i(u,"type","text"),i(u,"class","svelte-115gks2"),i(k,"class","svelte-115gks2"),i(E,"type","text"),i(E,"class","svelte-115gks2"),i(p,"class","svelte-115gks2"),i(L,"type","text"),i(L,"class","svelte-115gks2"),i(M,"class","svelte-115gks2"),i(Z,"class","svelte-115gks2"),i(G,"class","svelte-115gks2"),i(H,"type","text"),i(H,"placeholder","Incolla il link del immagine di copertina"),i(H,"class","svelte-115gks2"),i(b,"class","svelte-115gks2"),i(Y,"type","checkbox"),i(R,"class","svelte-115gks2"),i(F,"type","checkbox"),i(K,"class","svelte-115gks2"),i(V,"class","discard svelte-115gks2"),i(te,"class","svelte-115gks2"),i(h,"class","buttons svelte-115gks2")},m(c,A){w(c,e,A),r(e,t),w(c,s,A),w(c,l,A),r(l,o),r(l,f),$(f,n[1].title),w(c,g,A),w(c,k,A),r(k,m),r(k,u),$(u,n[1].author),w(c,C,A),w(c,p,A),r(p,T),r(p,E),$(E,n[1].edition),w(c,N,A),w(c,M,A),r(M,I),r(M,L),$(L,n[1].genre),w(c,X,A),w(c,G,A),r(G,U),r(G,Z),$(Z,n[1].comments),w(c,S,A),w(c,b,A),r(b,z),r(b,H),$(H,n[1].cover),w(c,W,A),w(c,R,A),r(R,J),r(R,Y),Y.checked=n[1].read,w(c,y,A),w(c,K,A),r(K,O),r(K,F),F.checked=n[1].loaned,w(c,P,A),w(c,h,A),r(h,V),r(V,re),r(h,ee),r(h,te),r(te,le),ne||(ce=[x(f,"input",n[6]),x(u,"input",n[7]),x(E,"input",n[8]),x(L,"input",n[9]),x(Z,"input",n[10]),x(H,"input",n[11]),x(Y,"change",n[12]),x(F,"change",n[13]),x(V,"click",n[4]),x(te,"click",n[3])],ne=!0)},p(c,A){A&2&&f.value!==c[1].title&&$(f,c[1].title),A&2&&u.value!==c[1].author&&$(u,c[1].author),A&2&&E.value!==c[1].edition&&$(E,c[1].edition),A&2&&L.value!==c[1].genre&&$(L,c[1].genre),A&2&&$(Z,c[1].comments),A&2&&H.value!==c[1].cover&&$(H,c[1].cover),A&2&&(Y.checked=c[1].read),A&2&&(F.checked=c[1].loaned)},i:oe,o:oe,d(c){c&&a(e),c&&a(s),c&&a(l),c&&a(g),c&&a(k),c&&a(C),c&&a(p),c&&a(N),c&&a(M),c&&a(X),c&&a(G),c&&a(S),c&&a(b),c&&a(W),c&&a(R),c&&a(y),c&&a(K),c&&a(P),c&&a(h),ne=!1,we(ce)}}}function t1(n){let e,t,s;return t=new xe({}),{c(){e=_("div"),ve(t.$$.fragment),this.h()},l(l){e=d(l,"DIV",{class:!0});var o=v(e);_e(t.$$.fragment,o),o.forEach(a),this.h()},h(){i(e,"class","loader svelte-115gks2")},m(l,o){w(l,e,o),de(t,e,null),s=!0},p:oe,i(l){s||(j(t.$$.fragment,l),s=!0)},o(l){se(t.$$.fragment,l),s=!1},d(l){l&&a(e),pe(t)}}}function l1(n){let e,t,s,l,o,f;const g=[t1,e1],k=[];function m(u,C){return u[2]?0:1}return s=m(n),l=k[s]=g[s](n),{c(){e=_("div"),t=_("div"),l.c(),this.h()},l(u){e=d(u,"DIV",{class:!0});var C=v(e);t=d(C,"DIV",{class:!0});var p=v(t);l.l(p),p.forEach(a),C.forEach(a),this.h()},h(){i(t,"class","pop-up svelte-115gks2"),i(e,"class",o=Ue(n[0]?"hidden":"overlay")+" svelte-115gks2")},m(u,C){w(u,e,C),r(e,t),k[s].m(t,null),f=!0},p(u,[C]){let p=s;s=m(u),s===p?k[s].p(u,C):(be(),se(k[p],1,1,()=>{k[p]=null}),ke(),l=k[s],l?l.p(u,C):(l=k[s]=g[s](u),l.c()),j(l,1),l.m(t,null)),(!f||C&1&&o!==(o=Ue(u[0]?"hidden":"overlay")+" svelte-115gks2"))&&i(e,"class",o)},i(u){f||(j(l),f=!0)},o(u){se(l),f=!1},d(u){u&&a(e),k[s].d()}}}function s1(n,e,t){let{hidden:s=!0}=e,{length:l}=e,{book:o={title:"",author:"",edition:"",genre:"",comments:"",read:!1,loaned:!1}}=e,f=!1;function g(){t(2,f=!0),t(5,l=o.id??l),Ye(`protectedData/books/${l}`,{...o,id:l}).then(()=>{t(2,f=!1),t(0,s=!0)}).then(()=>window.location.reload()).catch(()=>{t(2,f=!1),t(1,o={title:"",author:"",edition:"",genre:"",comments:"",read:!1,loaned:!1})})}function k(){t(0,s=!0),t(1,o={title:"",author:"",edition:"",comments:"",cover:"",read:!1,loaned:!1})}function m(){o.title=this.value,t(1,o)}function u(){o.author=this.value,t(1,o)}function C(){o.edition=this.value,t(1,o)}function p(){o.genre=this.value,t(1,o)}function T(){o.comments=this.value,t(1,o)}function E(){o.cover=this.value,t(1,o)}function N(){o.read=this.checked,t(1,o)}function M(){o.loaned=this.checked,t(1,o)}return n.$$set=I=>{"hidden"in I&&t(0,s=I.hidden),"length"in I&&t(5,l=I.length),"book"in I&&t(1,o=I.book)},[s,o,f,g,k,l,m,u,C,p,T,E,N,M]}class o1 extends Ce{constructor(e){super(),Ee(this,e,s1,l1,Ie,{hidden:0,length:5,book:1})}}function r1(n){let e,t,s,l,o,f,g,k,m,u,C,p,T,E,N,M,I,L,X,G,U,Z,S,b,z,H,W,R,J;return{c(){e=_("div"),t=_("div"),s=_("ul"),l=_("li"),o=ae("svg"),f=ae("path"),g=B(),k=_("li"),m=ae("svg"),u=ae("path"),C=B(),p=_("li"),T=ae("svg"),E=ae("path"),N=B(),M=_("li"),I=ae("svg"),L=ae("path"),X=B(),G=_("li"),U=ae("svg"),Z=ae("path"),S=B(),b=_("li"),z=ae("svg"),H=ae("path"),W=B(),R=_("span"),J=q("Loading"),this.h()},l(Y){e=d(Y,"DIV",{class:!0});var y=v(e);t=d(y,"DIV",{class:!0});var K=v(t);s=d(K,"UL",{class:!0});var O=v(s);l=d(O,"LI",{class:!0});var F=v(l);o=ie(F,"svg",{fill:!0,viewBox:!0,class:!0});var P=v(o);f=ie(P,"path",{d:!0}),v(f).forEach(a),P.forEach(a),F.forEach(a),g=D(O),k=d(O,"LI",{class:!0});var h=v(k);m=ie(h,"svg",{fill:!0,viewBox:!0,class:!0});var V=v(m);u=ie(V,"path",{d:!0}),v(u).forEach(a),V.forEach(a),h.forEach(a),C=D(O),p=d(O,"LI",{class:!0});var re=v(p);T=ie(re,"svg",{fill:!0,viewBox:!0,class:!0});var ee=v(T);E=ie(ee,"path",{d:!0}),v(E).forEach(a),ee.forEach(a),re.forEach(a),N=D(O),M=d(O,"LI",{class:!0});var te=v(M);I=ie(te,"svg",{fill:!0,viewBox:!0,class:!0});var le=v(I);L=ie(le,"path",{d:!0}),v(L).forEach(a),le.forEach(a),te.forEach(a),X=D(O),G=d(O,"LI",{class:!0});var ne=v(G);U=ie(ne,"svg",{fill:!0,viewBox:!0,class:!0});var ce=v(U);Z=ie(ce,"path",{d:!0}),v(Z).forEach(a),ce.forEach(a),ne.forEach(a),S=D(O),b=d(O,"LI",{class:!0});var c=v(b);z=ie(c,"svg",{fill:!0,viewBox:!0,class:!0});var A=v(z);H=ie(A,"path",{d:!0}),v(H).forEach(a),A.forEach(a),c.forEach(a),O.forEach(a),W=D(K),K.forEach(a),R=d(y,"SPAN",{class:!0});var ue=v(R);J=Q(ue,"Loading"),ue.forEach(a),y.forEach(a),this.h()},h(){i(f,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(o,"fill","currentColor"),i(o,"viewBox","0 0 90 120"),i(o,"class","svelte-1lyp77k"),i(l,"class","svelte-1lyp77k"),i(u,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(m,"fill","currentColor"),i(m,"viewBox","0 0 90 120"),i(m,"class","svelte-1lyp77k"),i(k,"class","svelte-1lyp77k"),i(E,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(T,"fill","currentColor"),i(T,"viewBox","0 0 90 120"),i(T,"class","svelte-1lyp77k"),i(p,"class","svelte-1lyp77k"),i(L,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(I,"fill","currentColor"),i(I,"viewBox","0 0 90 120"),i(I,"class","svelte-1lyp77k"),i(M,"class","svelte-1lyp77k"),i(Z,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(U,"fill","currentColor"),i(U,"viewBox","0 0 90 120"),i(U,"class","svelte-1lyp77k"),i(G,"class","svelte-1lyp77k"),i(H,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(z,"fill","currentColor"),i(z,"viewBox","0 0 90 120"),i(z,"class","svelte-1lyp77k"),i(b,"class","svelte-1lyp77k"),i(s,"class","svelte-1lyp77k"),i(t,"class","svelte-1lyp77k"),i(R,"class","svelte-1lyp77k"),i(e,"class","loader svelte-1lyp77k")},m(Y,y){w(Y,e,y),r(e,t),r(t,s),r(s,l),r(l,o),r(o,f),r(s,g),r(s,k),r(k,m),r(m,u),r(s,C),r(s,p),r(p,T),r(T,E),r(s,N),r(s,M),r(M,I),r(I,L),r(s,X),r(s,G),r(G,U),r(U,Z),r(s,S),r(s,b),r(b,z),r(z,H),r(t,W),r(e,R),r(R,J)},p:oe,i:oe,o:oe,d(Y){Y&&a(e)}}}class a1 extends Ce{constructor(e){super(),Ee(this,e,null,r1,Ie,{})}}function Xe(n,e,t){const s=n.slice();return s[21]=e[t],s}function Ge(n){let e,t,s,l,o;function f(u){n[12](u)}function g(u){n[13](u)}function k(u){n[14](u)}let m={};return n[2]!==void 0&&(m.hidden=n[2]),n[4]!==void 0&&(m.book=n[4]),n[1].length!==void 0&&(m.length=n[1].length),e=new o1({props:m}),Le.push(()=>me(e,"hidden",f)),Le.push(()=>me(e,"book",g)),Le.push(()=>me(e,"length",k)),{c(){ve(e.$$.fragment)},l(u){_e(e.$$.fragment,u)},m(u,C){de(e,u,C),o=!0},p(u,C){const p={};!t&&C&4&&(t=!0,p.hidden=u[2],ge(()=>t=!1)),!s&&C&16&&(s=!0,p.book=u[4],ge(()=>s=!1)),!l&&C&2&&(l=!0,p.length=u[1].length,ge(()=>l=!1)),e.$set(p)},i(u){o||(j(e.$$.fragment,u),o=!0)},o(u){se(e.$$.fragment,u),o=!1},d(u){pe(e,u)}}}function i1(n){let e,t,s;return t=new a1({}),{c(){e=_("div"),ve(t.$$.fragment),this.h()},l(l){e=d(l,"DIV",{class:!0});var o=v(e);_e(t.$$.fragment,o),o.forEach(a),this.h()},h(){i(e,"class","loader-container svelte-1f88vcv")},m(l,o){w(l,e,o),de(t,e,null),s=!0},p:oe,i(l){s||(j(t.$$.fragment,l),s=!0)},o(l){se(t.$$.fragment,l),s=!1},d(l){l&&a(e),pe(t)}}}function n1(n){let e;function t(o,f){return o[6].length>0?u1:c1}let s=t(n),l=s(n);return{c(){l.c(),e=fe()},l(o){l.l(o),e=fe()},m(o,f){l.m(o,f),w(o,e,f)},p(o,f){s===(s=t(o))&&l?l.p(o,f):(l.d(1),l=s(o),l&&(l.c(),l.m(e.parentNode,e)))},i:oe,o:oe,d(o){l.d(o),o&&a(e)}}}function c1(n){let e,t,s;return{c(){e=_("div"),t=_("p"),s=q("Nessun libro trovato"),this.h()},l(l){e=d(l,"DIV",{class:!0});var o=v(e);t=d(o,"P",{});var f=v(t);s=Q(f,"Nessun libro trovato"),f.forEach(a),o.forEach(a),this.h()},h(){i(e,"class","no-books svelte-1f88vcv")},m(l,o){w(l,e,o),r(e,t),r(t,s)},p:oe,d(l){l&&a(e)}}}function u1(n){let e,t=n[6],s=[];for(let l=0;l<t.length;l+=1)s[l]=He(Xe(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=fe()},l(l){for(let o=0;o<s.length;o+=1)s[o].l(l);e=fe()},m(l,o){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(l,o);w(l,e,o)},p(l,o){if(o&1600){t=l[6];let f;for(f=0;f<t.length;f+=1){const g=Xe(l,t,f);s[f]?s[f].p(g,o):(s[f]=He(g),s[f].c(),s[f].m(e.parentNode,e))}for(;f<s.length;f+=1)s[f].d(1);s.length=t.length}},d(l){Qe(s,l),l&&a(e)}}}function He(n){let e,t,s,l,o,f,g,k,m=n[21].title+"",u,C,p,T,E=n[21].author+"",N,M,I,L,X,G,U,Z,S,b,z;function H(){return n[16](n[21])}function W(){return n[17](n[21])}return{c(){e=_("div"),t=_("div"),s=_("img"),f=B(),g=_("div"),k=_("p"),u=q(m),C=B(),p=_("p"),T=q("di "),N=q(E),M=B(),I=_("div"),L=_("button"),X=q("Modifica"),G=B(),U=_("button"),Z=q("Rimuovi"),S=B(),this.h()},l(R){e=d(R,"DIV",{class:!0});var J=v(e);t=d(J,"DIV",{class:!0});var Y=v(t);s=d(Y,"IMG",{class:!0,src:!0,alt:!0}),Y.forEach(a),f=D(J),g=d(J,"DIV",{class:!0});var y=v(g);k=d(y,"P",{class:!0});var K=v(k);u=Q(K,m),K.forEach(a),C=D(y),p=d(y,"P",{class:!0});var O=v(p);T=Q(O,"di "),N=Q(O,E),O.forEach(a),y.forEach(a),M=D(J),I=d(J,"DIV",{class:!0});var F=v(I);L=d(F,"BUTTON",{class:!0});var P=v(L);X=Q(P,"Modifica"),P.forEach(a),G=D(F),U=d(F,"BUTTON",{class:!0});var h=v(U);Z=Q(h,"Rimuovi"),h.forEach(a),F.forEach(a),S=D(J),J.forEach(a),this.h()},h(){i(s,"class","book-cover svelte-1f88vcv"),Oe(s.src,l=n[21].cover)||i(s,"src",l),i(s,"alt",o=`Copertina di ${n[21].title}`),i(t,"class","cover-container svelte-1f88vcv"),i(k,"class","book-title svelte-1f88vcv"),i(p,"class","book-author svelte-1f88vcv"),i(g,"class","book-info svelte-1f88vcv"),i(L,"class","svelte-1f88vcv"),i(U,"class","svelte-1f88vcv"),i(I,"class","actions svelte-1f88vcv"),i(e,"class","book-card svelte-1f88vcv")},m(R,J){w(R,e,J),r(e,t),r(t,s),r(e,f),r(e,g),r(g,k),r(k,u),r(g,C),r(g,p),r(p,T),r(p,N),r(e,M),r(e,I),r(I,L),r(L,X),r(I,G),r(I,U),r(U,Z),r(e,S),b||(z=[x(L,"click",H),x(U,"click",W)],b=!0)},p(R,J){n=R,J&64&&!Oe(s.src,l=n[21].cover)&&i(s,"src",l),J&64&&o!==(o=`Copertina di ${n[21].title}`)&&i(s,"alt",o),J&64&&m!==(m=n[21].title+"")&&Se(u,m),J&64&&E!==(E=n[21].author+"")&&Se(N,E)},d(R){R&&a(e),b=!1,we(z)}}}function Je(n){let e,t;return e=new Fe({}),{c(){ve(e.$$.fragment)},l(s){_e(e.$$.fragment,s)},m(s,l){de(e,s,l),t=!0},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){se(e.$$.fragment,s),t=!1},d(s){pe(e,s)}}}function f1(n){let e,t,s,l,o,f,g,k,m,u,C,p,T,E,N,M,I,L,X,G,U,Z,S,b,z,H,W,R;function J(h){n[11](h)}let Y={};n[3]!==void 0&&(Y.check=n[3]),t=new Ke({props:Y}),Le.push(()=>me(t,"check",J));let y=!n[2]&&Ge(n);const K=[n1,i1],O=[];function F(h,V){return h[5]?1:0}Z=F(n),S=O[Z]=K[Z](n);let P=n[3]&&Je();return{c(){e=_("div"),ve(t.$$.fragment),l=B(),o=_("div"),f=_("h1"),g=q("La Mia Biblioteca"),k=B(),m=_("div"),u=_("div"),C=B(),p=_("div"),y&&y.c(),T=B(),E=_("div"),N=_("button"),M=q("➕ Aggiungi Libro"),I=B(),L=_("div"),X=_("input"),G=B(),U=_("div"),S.c(),b=B(),P&&P.c(),z=fe(),this.h()},l(h){e=d(h,"DIV",{class:!0});var V=v(e);_e(t.$$.fragment,V),l=D(V),o=d(V,"DIV",{class:!0});var re=v(o);f=d(re,"H1",{class:!0});var ee=v(f);g=Q(ee,"La Mia Biblioteca"),ee.forEach(a),re.forEach(a),k=D(V),m=d(V,"DIV",{class:!0});var te=v(m);u=d(te,"DIV",{class:!0,style:!0}),v(u).forEach(a),te.forEach(a),V.forEach(a),C=D(h),p=d(h,"DIV",{class:!0});var le=v(p);y&&y.l(le),T=D(le),E=d(le,"DIV",{class:!0});var ne=v(E);N=d(ne,"BUTTON",{class:!0});var ce=v(N);M=Q(ce,"➕ Aggiungi Libro"),ce.forEach(a),I=D(ne),L=d(ne,"DIV",{class:!0});var c=v(L);X=d(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(a),ne.forEach(a),G=D(le),U=d(le,"DIV",{class:!0});var A=v(U);S.l(A),A.forEach(a),le.forEach(a),b=D(h),P&&P.l(h),z=fe(),this.h()},h(){i(f,"class","svelte-1f88vcv"),i(o,"class","header-left svelte-1f88vcv"),i(u,"class","profile-img svelte-1f88vcv"),Pe(u,"background-image","url("+n[7]+")"),i(m,"class","header-right svelte-1f88vcv"),i(e,"class","header svelte-1f88vcv"),i(N,"class","add-book-button svelte-1f88vcv"),i(X,"type","text"),i(X,"placeholder","Cerca un libro..."),i(X,"class","svelte-1f88vcv"),i(L,"class","search-bar svelte-1f88vcv"),i(E,"class","top-actions svelte-1f88vcv"),i(U,"class","book-grid svelte-1f88vcv"),i(p,"class","content svelte-1f88vcv")},m(h,V){w(h,e,V),de(t,e,null),r(e,l),r(e,o),r(o,f),r(f,g),r(e,k),r(e,m),r(m,u),w(h,C,V),w(h,p,V),y&&y.m(p,null),r(p,T),r(p,E),r(E,N),r(N,M),r(E,I),r(E,L),r(L,X),$(X,n[0]),r(p,G),r(p,U),O[Z].m(U,null),w(h,b,V),P&&P.m(h,V),w(h,z,V),H=!0,W||(R=[x(N,"click",n[8]),x(X,"input",n[15])],W=!0)},p(h,[V]){const re={};!s&&V&8&&(s=!0,re.check=h[3],ge(()=>s=!1)),t.$set(re),(!H||V&128)&&Pe(u,"background-image","url("+h[7]+")"),h[2]?y&&(be(),se(y,1,1,()=>{y=null}),ke()):y?(y.p(h,V),V&4&&j(y,1)):(y=Ge(h),y.c(),j(y,1),y.m(p,T)),V&1&&X.value!==h[0]&&$(X,h[0]);let ee=Z;Z=F(h),Z===ee?O[Z].p(h,V):(be(),se(O[ee],1,1,()=>{O[ee]=null}),ke(),S=O[Z],S?S.p(h,V):(S=O[Z]=K[Z](h),S.c()),j(S,1),S.m(U,null)),h[3]?P?V&8&&j(P,1):(P=Je(),P.c(),j(P,1),P.m(z.parentNode,z)):P&&(be(),se(P,1,1,()=>{P=null}),ke())},i(h){H||(j(t.$$.fragment,h),j(y),j(S),j(P),H=!0)},o(h){se(t.$$.fragment,h),se(y),se(S),se(P),H=!1},d(h){h&&a(e),pe(t),h&&a(C),h&&a(p),y&&y.d(),O[Z].d(),h&&a(b),P&&P.d(h),h&&a(z),W=!1,we(R)}}}function v1(n,e,t){let s;ze(n,We,b=>t(18,s=b)),qe(()=>{T(),t(7,C=s.photoURL??"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAclBMVEX///8AAACoqKj8/PwEBAT5+fn29vbl5eXz8/O1tbV1dXXY2NhTU1MiIiLp6enh4eHFxcVtbW2dnZ3Ozs4uLi43NzcbGxtJSUmXl5eRkZGJiYmsrKx5eXnR0dFCQkJXV1eBgYEQEBAnJydmZmYcHBy7u7vQ67L1AAAFXUlEVORw5CYII=")});let l=!0,o,f,g=!0,k="",m=[],u=[],C;const p=b=>{t(4,f=b),t(2,l=!l)},T=()=>{t(5,g=!0),Re("protectedData/books").then(b=>{t(1,m=b),t(6,u=b),t(5,g=!1)})},E=()=>{t(2,l=!l)},N=b=>{p(b)},M=b=>{t(5,g=!0),je(`protectedData/books/${b.id}`).then(()=>{t(5,g=!1),T()})};function I(b){o=b,t(3,o)}function L(b){l=b,t(2,l)}function X(b){f=b,t(4,f)}function G(b){n.$$.not_equal(m.length,b)&&(m.length=b,t(1,m))}function U(){k=this.value,t(0,k)}const Z=b=>N(b),S=b=>M(b);return n.$$.update=()=>{n.$$.dirty&3&&(k.trim()===""?t(6,u=m):t(6,u=m.filter(b=>b.title.toLowerCase().includes(k.toLowerCase()))))},Re("protectedData/books").then(b=>{t(1,m=b),t(6,u=b),t(5,g=!1)}),[k,m,l,o,f,g,u,C,E,N,M,I,L,X,G,U,Z,S]}class h1 extends Ce{constructor(e){super(),Ee(this,e,v1,f1,Ie,{})}}export{h1 as component};
