import{S as Ne,i as Be,s as Me,Q as je,y as _e,z as de,A as he,R as u1,T as c1,g as G,d as X,B as ve,U as Ye,J as f1,K as p1,L as _1,M as d1,k as v,l as m,m as b,h as i,n,Z as $e,b as M,E as c,v as ge,f as Ee,H as Ie,_ as n1,q as O,a as A,r as R,c as P,N as H,F as Q,G as te,O as i1,C as W,D as Y,e as Ce,o as h1,P as v1,w as ze,$ as He,a0 as Qe,X as m1,I as xe,u as e1}from"../chunks/index.9c464a28.js";import{I as b1,u as L1,i as C1,f as Xe,d as k1}from"../chunks/Icon.85cd77a9.js";import{S as g1,s as E1}from"../chunks/utilsStore.248f0259.js";import{w as y1}from"../chunks/singletons.e178620c.js";import{P as I1,S as N1}from"../chunks/sideBar.3ff0a0e2.js";import{u as B1}from"../chunks/authStore.52e5ab9b.js";function M1(a){let e;const t=a[2].default,l=f1(t,a,a[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&8)&&p1(l,t,s,s[3],e?d1(t,s[3],r,null):_1(s[3]),null)},i(s){e||(G(l,s),e=!0)},o(s){X(l,s),e=!1},d(s){l&&l.d(s)}}}function w1(a){let e,t;const l=[{name:"search"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[M1]},$$scope:{ctx:a}};for(let r=0;r<l.length;r+=1)s=je(s,l[r]);return e=new b1({props:s}),{c(){_e(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,o){he(e,r,o),t=!0},p(r,[o]){const _=o&3?u1(l,[l[0],o&2&&c1(r[1]),o&1&&{iconNode:r[0]}]):{};o&8&&(_.$$scope={dirty:o,ctx:r}),e.$set(_)},i(r){t||(G(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){ve(e,r)}}}function T1(a,e,t){let{$$slots:l={},$$scope:s}=e;const r=[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]];return a.$$set=o=>{t(1,e=je(je({},e),Ye(o))),"$$scope"in o&&t(3,s=o.$$scope)},e=Ye(e),[r,e,l,s]}class D1 extends Ne{constructor(e){super(),Be(this,e,T1,w1,Me,{})}}const Z1=D1;let Fe=y1("");function A1(a){let e,t,l,s,r,o,_,d,E,f,p,h,I,T,V,S,Z,C,k,D,w,U,B,L,y,g,z,F,J,le,j,ae,q,ne,$,me,K,ie,x,be,se,ue,ee,Le,re,ce,oe,fe,we,Te,pe,De,Ze,Je;return{c(){e=v("h2"),t=O(a[4]),l=O(" libro"),s=A(),r=v("label"),o=O(`Titolo:
                `),_=v("input"),d=A(),E=v("label"),f=O(`Autore:
                `),p=v("input"),h=A(),I=v("input"),T=A(),V=v("label"),S=O(`Editore:
                `),Z=v("input"),C=A(),k=v("label"),D=O(`Luogo:
                `),w=v("input"),U=A(),B=v("label"),L=O(`Anno:
                `),y=v("input"),g=A(),z=v("label"),F=O(`Genere:
                `),J=v("input"),le=A(),j=v("label"),ae=O(`Commenti:
                `),q=v("textarea"),ne=A(),$=v("label"),me=O(`Copertina:
                `),K=v("input"),ie=A(),x=v("div"),be=O(`Letto:
                `),se=v("input"),ue=A(),ee=v("div"),Le=O(`Prestito:
                `),re=v("input"),ce=A(),oe=v("div"),fe=v("button"),we=O("Annulla"),Te=A(),pe=v("button"),De=O("Salva"),this.h()},l(u){e=m(u,"H2",{});var N=b(e);t=R(N,a[4]),l=R(N," libro"),N.forEach(i),s=P(u),r=m(u,"LABEL",{class:!0});var Ae=b(r);o=R(Ae,`Titolo:
                `),_=m(Ae,"INPUT",{type:!0,class:!0}),Ae.forEach(i),d=P(u),E=m(u,"LABEL",{class:!0});var ke=b(E);f=R(ke,`Autore:
                `),p=m(ke,"INPUT",{type:!0,placeholder:!0,class:!0}),h=P(ke),I=m(ke,"INPUT",{type:!0,placeholder:!0,class:!0}),ke.forEach(i),T=P(u),V=m(u,"LABEL",{class:!0});var Pe=b(V);S=R(Pe,`Editore:
                `),Z=m(Pe,"INPUT",{type:!0,class:!0}),Pe.forEach(i),C=P(u),k=m(u,"LABEL",{class:!0});var Ue=b(k);D=R(Ue,`Luogo:
                `),w=m(Ue,"INPUT",{type:!0,class:!0}),Ue.forEach(i),U=P(u),B=m(u,"LABEL",{class:!0});var Ve=b(B);L=R(Ve,`Anno:
                `),y=m(Ve,"INPUT",{type:!0}),Ve.forEach(i),g=P(u),z=m(u,"LABEL",{class:!0});var Se=b(z);F=R(Se,`Genere:
                `),J=m(Se,"INPUT",{type:!0,class:!0}),Se.forEach(i),le=P(u),j=m(u,"LABEL",{class:!0});var Oe=b(j);ae=R(Oe,`Commenti:
                `),q=m(Oe,"TEXTAREA",{class:!0}),b(q).forEach(i),Oe.forEach(i),ne=P(u),$=m(u,"LABEL",{class:!0});var Re=b($);me=R(Re,`Copertina:
                `),K=m(Re,"INPUT",{type:!0,placeholder:!0,class:!0}),Re.forEach(i),ie=P(u),x=m(u,"DIV",{class:!0});var qe=b(x);be=R(qe,`Letto:
                `),se=m(qe,"INPUT",{type:!0}),qe.forEach(i),ue=P(u),ee=m(u,"DIV",{class:!0});var Ge=b(ee);Le=R(Ge,`Prestito:
                `),re=m(Ge,"INPUT",{type:!0}),Ge.forEach(i),ce=P(u),oe=m(u,"DIV",{class:!0});var ye=b(oe);fe=m(ye,"BUTTON",{class:!0});var Ke=b(fe);we=R(Ke,"Annulla"),Ke.forEach(i),Te=P(ye),pe=m(ye,"BUTTON",{class:!0});var We=b(pe);De=R(We,"Salva"),We.forEach(i),ye.forEach(i),this.h()},h(){n(_,"type","text"),_.required=!0,n(_,"class","svelte-1f8t1t9"),n(r,"class","svelte-1f8t1t9"),n(p,"type","text"),n(p,"placeholder","Nome"),n(p,"class","svelte-1f8t1t9"),n(I,"type","text"),n(I,"placeholder","Cognome"),n(I,"class","svelte-1f8t1t9"),n(E,"class","svelte-1f8t1t9"),n(Z,"type","text"),n(Z,"class","svelte-1f8t1t9"),n(V,"class","svelte-1f8t1t9"),n(w,"type","text"),n(w,"class","svelte-1f8t1t9"),n(k,"class","svelte-1f8t1t9"),n(y,"type","number"),n(B,"class","svelte-1f8t1t9"),n(J,"type","text"),n(J,"class","svelte-1f8t1t9"),n(z,"class","svelte-1f8t1t9"),n(q,"class","svelte-1f8t1t9"),n(j,"class","svelte-1f8t1t9"),n(K,"type","text"),n(K,"placeholder","Incolla il link del immagine di copertina"),n(K,"class","svelte-1f8t1t9"),n($,"class","svelte-1f8t1t9"),n(se,"type","checkbox"),n(x,"class","check svelte-1f8t1t9"),n(re,"type","checkbox"),n(ee,"class","check svelte-1f8t1t9"),n(fe,"class","discard svelte-1f8t1t9"),n(pe,"class","svelte-1f8t1t9"),n(oe,"class","buttons svelte-1f8t1t9")},m(u,N){M(u,e,N),c(e,t),c(e,l),M(u,s,N),M(u,r,N),c(r,o),c(r,_),H(_,a[1].title),M(u,d,N),M(u,E,N),c(E,f),c(E,p),H(p,a[1].authorName),c(E,h),c(E,I),H(I,a[1].authorSurname),M(u,T,N),M(u,V,N),c(V,S),c(V,Z),H(Z,a[1].editor),M(u,C,N),M(u,k,N),c(k,D),c(k,w),H(w,a[1].place),M(u,U,N),M(u,B,N),c(B,L),c(B,y),H(y,a[1].year),M(u,g,N),M(u,z,N),c(z,F),c(z,J),H(J,a[1].genre),M(u,le,N),M(u,j,N),c(j,ae),c(j,q),H(q,a[1].comments),M(u,ne,N),M(u,$,N),c($,me),c($,K),H(K,a[1].cover),M(u,ie,N),M(u,x,N),c(x,be),c(x,se),se.checked=a[1].read,M(u,ue,N),M(u,ee,N),c(ee,Le),c(ee,re),re.checked=a[1].loaned,M(u,ce,N),M(u,oe,N),c(oe,fe),c(fe,we),c(oe,Te),c(oe,pe),c(pe,De),Ze||(Je=[Q(_,"input",a[8]),Q(p,"input",a[9]),Q(I,"input",a[10]),Q(Z,"input",a[11]),Q(w,"input",a[12]),Q(y,"input",a[13]),Q(J,"input",a[14]),Q(q,"input",a[15]),Q(K,"input",a[16]),Q(se,"change",a[17]),Q(re,"change",a[18]),Q(fe,"click",a[6]),Q(pe,"click",a[5])],Ze=!0)},p(u,N){N&2&&_.value!==u[1].title&&H(_,u[1].title),N&2&&p.value!==u[1].authorName&&H(p,u[1].authorName),N&2&&I.value!==u[1].authorSurname&&H(I,u[1].authorSurname),N&2&&Z.value!==u[1].editor&&H(Z,u[1].editor),N&2&&w.value!==u[1].place&&H(w,u[1].place),N&2&&n1(y.value)!==u[1].year&&H(y,u[1].year),N&2&&J.value!==u[1].genre&&H(J,u[1].genre),N&2&&H(q,u[1].comments),N&2&&K.value!==u[1].cover&&H(K,u[1].cover),N&2&&(se.checked=u[1].read),N&2&&(re.checked=u[1].loaned)},i:te,o:te,d(u){u&&i(e),u&&i(s),u&&i(r),u&&i(d),u&&i(E),u&&i(T),u&&i(V),u&&i(C),u&&i(k),u&&i(U),u&&i(B),u&&i(g),u&&i(z),u&&i(le),u&&i(j),u&&i(ne),u&&i($),u&&i(ie),u&&i(x),u&&i(ue),u&&i(ee),u&&i(ce),u&&i(oe),Ze=!1,i1(Je)}}}function P1(a){let e,t,l,s,r,o,_,d,E;return t=new g1({}),{c(){e=v("div"),_e(t.$$.fragment),l=A(),s=v("div"),r=v("button"),o=O("Annulla"),this.h()},l(f){e=m(f,"DIV",{class:!0});var p=b(e);de(t.$$.fragment,p),l=P(p),s=m(p,"DIV",{class:!0});var h=b(s);r=m(h,"BUTTON",{class:!0});var I=b(r);o=R(I,"Annulla"),I.forEach(i),h.forEach(i),p.forEach(i),this.h()},h(){n(r,"class","discard svelte-1f8t1t9"),n(s,"class","buttons svelte-1f8t1t9"),n(e,"class","loader svelte-1f8t1t9")},m(f,p){M(f,e,p),he(t,e,null),c(e,l),c(e,s),c(s,r),c(r,o),_=!0,d||(E=Q(r,"click",a[6]),d=!0)},p:te,i(f){_||(G(t.$$.fragment,f),_=!0)},o(f){X(t.$$.fragment,f),_=!1},d(f){f&&i(e),ve(t),d=!1,E()}}}function U1(a){let e,t,l,s,r,o;const _=[P1,A1],d=[];function E(f,p){return f[2]||!f[3]?0:1}return l=E(a),s=d[l]=_[l](a),{c(){e=v("div"),t=v("div"),s.c(),this.h()},l(f){e=m(f,"DIV",{class:!0});var p=b(e);t=m(p,"DIV",{class:!0});var h=b(t);s.l(h),h.forEach(i),p.forEach(i),this.h()},h(){n(t,"class","pop-up svelte-1f8t1t9"),n(e,"class",r=$e(a[0]?"hidden":"overlay")+" svelte-1f8t1t9")},m(f,p){M(f,e,p),c(e,t),d[l].m(t,null),o=!0},p(f,[p]){let h=l;l=E(f),l===h?d[l].p(f,p):(ge(),X(d[h],1,1,()=>{d[h]=null}),Ee(),s=d[l],s?s.p(f,p):(s=d[l]=_[l](f),s.c()),G(s,1),s.m(t,null)),(!o||p&1&&r!==(r=$e(f[0]?"hidden":"overlay")+" svelte-1f8t1t9"))&&n(e,"class",r)},i(f){o||(G(s),o=!0)},o(f){X(s),o=!1},d(f){f&&i(e),d[l].d()}}}function V1(a,e,t){let l;Ie(a,Fe,U=>t(3,l=U));let{hidden:s=!0}=e,{length:r}=e,{book:o={title:"",authorName:"",authorSurname:"",editor:"",place:"",year:"",genre:"",comments:"",read:!1,loaned:!1}}=e,_=o.title?"Modifica":"Aggiungi",d=!1;async function E(){t(2,d=!0),t(7,r=o.id??r),console.log(l),l&&await L1(`protectedData/${l}/${r}`,{...o,id:r}).then(()=>{t(2,d=!1),t(0,s=!0)}).then(()=>window.location.reload()).catch(()=>{t(2,d=!1),t(1,o={title:"",authorName:"",authorSurname:"",editor:"",year:"",place:"",genre:"",comments:"",read:!1,loaned:!1})})}function f(){t(0,s=!0),t(1,o={title:"",authorName:"",authorSurname:"",editor:"",year:"",place:"",genre:"",comments:"",read:!1,loaned:!1})}function p(){o.title=this.value,t(1,o)}function h(){o.authorName=this.value,t(1,o)}function I(){o.authorSurname=this.value,t(1,o)}function T(){o.editor=this.value,t(1,o)}function V(){o.place=this.value,t(1,o)}function S(){o.year=n1(this.value),t(1,o)}function Z(){o.genre=this.value,t(1,o)}function C(){o.comments=this.value,t(1,o)}function k(){o.cover=this.value,t(1,o)}function D(){o.read=this.checked,t(1,o)}function w(){o.loaned=this.checked,t(1,o)}return a.$$set=U=>{"hidden"in U&&t(0,s=U.hidden),"length"in U&&t(7,r=U.length),"book"in U&&t(1,o=U.book)},[s,o,d,l,_,E,f,r,p,h,I,T,V,S,Z,C,k,D,w]}class S1 extends Ne{constructor(e){super(),Be(this,e,V1,U1,Me,{hidden:0,length:7,book:1})}}function O1(a){let e,t,l,s,r,o,_,d,E,f,p,h,I,T,V,S,Z,C,k,D,w,U,B,L,y,g,z,F,J;return{c(){e=v("div"),t=v("div"),l=v("ul"),s=v("li"),r=W("svg"),o=W("path"),_=A(),d=v("li"),E=W("svg"),f=W("path"),p=A(),h=v("li"),I=W("svg"),T=W("path"),V=A(),S=v("li"),Z=W("svg"),C=W("path"),k=A(),D=v("li"),w=W("svg"),U=W("path"),B=A(),L=v("li"),y=W("svg"),g=W("path"),z=A(),F=v("span"),J=O("Loading"),this.h()},l(le){e=m(le,"DIV",{class:!0});var j=b(e);t=m(j,"DIV",{class:!0});var ae=b(t);l=m(ae,"UL",{class:!0});var q=b(l);s=m(q,"LI",{class:!0});var ne=b(s);r=Y(ne,"svg",{fill:!0,viewBox:!0,class:!0});var $=b(r);o=Y($,"path",{d:!0}),b(o).forEach(i),$.forEach(i),ne.forEach(i),_=P(q),d=m(q,"LI",{class:!0});var me=b(d);E=Y(me,"svg",{fill:!0,viewBox:!0,class:!0});var K=b(E);f=Y(K,"path",{d:!0}),b(f).forEach(i),K.forEach(i),me.forEach(i),p=P(q),h=m(q,"LI",{class:!0});var ie=b(h);I=Y(ie,"svg",{fill:!0,viewBox:!0,class:!0});var x=b(I);T=Y(x,"path",{d:!0}),b(T).forEach(i),x.forEach(i),ie.forEach(i),V=P(q),S=m(q,"LI",{class:!0});var be=b(S);Z=Y(be,"svg",{fill:!0,viewBox:!0,class:!0});var se=b(Z);C=Y(se,"path",{d:!0}),b(C).forEach(i),se.forEach(i),be.forEach(i),k=P(q),D=m(q,"LI",{class:!0});var ue=b(D);w=Y(ue,"svg",{fill:!0,viewBox:!0,class:!0});var ee=b(w);U=Y(ee,"path",{d:!0}),b(U).forEach(i),ee.forEach(i),ue.forEach(i),B=P(q),L=m(q,"LI",{class:!0});var Le=b(L);y=Y(Le,"svg",{fill:!0,viewBox:!0,class:!0});var re=b(y);g=Y(re,"path",{d:!0}),b(g).forEach(i),re.forEach(i),Le.forEach(i),q.forEach(i),z=P(ae),ae.forEach(i),F=m(j,"SPAN",{class:!0});var ce=b(F);J=R(ce,"Loading"),ce.forEach(i),j.forEach(i),this.h()},h(){n(o,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),n(r,"fill","currentColor"),n(r,"viewBox","0 0 90 120"),n(r,"class","svelte-1lyp77k"),n(s,"class","svelte-1lyp77k"),n(f,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),n(E,"fill","currentColor"),n(E,"viewBox","0 0 90 120"),n(E,"class","svelte-1lyp77k"),n(d,"class","svelte-1lyp77k"),n(T,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),n(I,"fill","currentColor"),n(I,"viewBox","0 0 90 120"),n(I,"class","svelte-1lyp77k"),n(h,"class","svelte-1lyp77k"),n(C,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),n(Z,"fill","currentColor"),n(Z,"viewBox","0 0 90 120"),n(Z,"class","svelte-1lyp77k"),n(S,"class","svelte-1lyp77k"),n(U,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),n(w,"fill","currentColor"),n(w,"viewBox","0 0 90 120"),n(w,"class","svelte-1lyp77k"),n(D,"class","svelte-1lyp77k"),n(g,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),n(y,"fill","currentColor"),n(y,"viewBox","0 0 90 120"),n(y,"class","svelte-1lyp77k"),n(L,"class","svelte-1lyp77k"),n(l,"class","svelte-1lyp77k"),n(t,"class","svelte-1lyp77k"),n(F,"class","svelte-1lyp77k"),n(e,"class","loader svelte-1lyp77k")},m(le,j){M(le,e,j),c(e,t),c(t,l),c(l,s),c(s,r),c(r,o),c(l,_),c(l,d),c(d,E),c(E,f),c(l,p),c(l,h),c(h,I),c(I,T),c(l,V),c(l,S),c(S,Z),c(Z,C),c(l,k),c(l,D),c(D,w),c(w,U),c(l,B),c(l,L),c(L,y),c(y,g),c(t,z),c(e,F),c(F,J)},p:te,i:te,o:te,d(le){le&&i(e)}}}class R1 extends Ne{constructor(e){super(),Be(this,e,null,O1,Me,{})}}function t1(a,e,t){const l=a.slice();return l[23]=e[t],l}function l1(a){let e,t,l,s,r;return t=new I1({props:{size:"40"}}),{c(){e=v("button"),_e(t.$$.fragment),this.h()},l(o){e=m(o,"BUTTON",{class:!0});var _=b(e);de(t.$$.fragment,_),_.forEach(i),this.h()},h(){n(e,"class","add-book-button svelte-1ls4pud")},m(o,_){M(o,e,_),he(t,e,null),l=!0,s||(r=Q(e,"click",a[8]),s=!0)},p:te,i(o){l||(G(t.$$.fragment,o),l=!0)},o(o){X(t.$$.fragment,o),l=!1},d(o){o&&i(e),ve(t),s=!1,r()}}}function s1(a){let e,t,l,s,r;function o(f){a[12](f)}function _(f){a[13](f)}function d(f){a[14](f)}let E={};return a[2]!==void 0&&(E.hidden=a[2]),a[3]!==void 0&&(E.book=a[3]),a[1].length!==void 0&&(E.length=a[1].length),e=new S1({props:E}),ze.push(()=>He(e,"hidden",o)),ze.push(()=>He(e,"book",_)),ze.push(()=>He(e,"length",d)),{c(){_e(e.$$.fragment)},l(f){de(e.$$.fragment,f)},m(f,p){he(e,f,p),r=!0},p(f,p){const h={};!t&&p&4&&(t=!0,h.hidden=f[2],Qe(()=>t=!1)),!l&&p&8&&(l=!0,h.book=f[3],Qe(()=>l=!1)),!s&&p&2&&(s=!0,h.length=f[1].length,Qe(()=>s=!1)),e.$set(h)},i(f){r||(G(e.$$.fragment,f),r=!0)},o(f){X(e.$$.fragment,f),r=!1},d(f){ve(e,f)}}}function q1(a){let e,t,l;return t=new R1({}),{c(){e=v("div"),_e(t.$$.fragment),this.h()},l(s){e=m(s,"DIV",{class:!0});var r=b(e);de(t.$$.fragment,r),r.forEach(i),this.h()},h(){n(e,"class","loader-container svelte-1ls4pud")},m(s,r){M(s,e,r),he(t,e,null),l=!0},p:te,i(s){l||(G(t.$$.fragment,s),l=!0)},o(s){X(t.$$.fragment,s),l=!1},d(s){s&&i(e),ve(t)}}}function G1(a){let e;function t(r,o){return r[5].length>0?H1:z1}let l=t(a),s=l(a);return{c(){s.c(),e=Ce()},l(r){s.l(r),e=Ce()},m(r,o){s.m(r,o),M(r,e,o)},p(r,o){l===(l=t(r))&&s?s.p(r,o):(s.d(1),s=l(r),s&&(s.c(),s.m(e.parentNode,e)))},i:te,o:te,d(r){s.d(r),r&&i(e)}}}function z1(a){let e,t,l;return{c(){e=v("div"),t=v("p"),l=O("Nessun libro trovato"),this.h()},l(s){e=m(s,"DIV",{class:!0});var r=b(e);t=m(r,"P",{});var o=b(t);l=R(o,"Nessun libro trovato"),o.forEach(i),r.forEach(i),this.h()},h(){n(e,"class","no-books svelte-1ls4pud")},m(s,r){M(s,e,r),c(e,t),c(t,l)},p:te,d(s){s&&i(e)}}}function H1(a){let e,t=a[5],l=[];for(let s=0;s<t.length;s+=1)l[s]=o1(t1(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Ce()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=Ce()},m(s,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,r);M(s,e,r)},p(s,r){if(r&1632){t=s[5];let o;for(o=0;o<t.length;o+=1){const _=t1(s,t,o);l[o]?l[o].p(_,r):(l[o]=o1(_),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){m1(l,s),s&&i(e)}}}function r1(a){let e,t,l,s,r,o,_,d;function E(){return a[16](a[23])}function f(){return a[17](a[23])}return{c(){e=v("div"),t=v("button"),l=O("Modifica"),s=A(),r=v("button"),o=O("Rimuovi"),this.h()},l(p){e=m(p,"DIV",{class:!0});var h=b(e);t=m(h,"BUTTON",{class:!0});var I=b(t);l=R(I,"Modifica"),I.forEach(i),s=P(h),r=m(h,"BUTTON",{class:!0});var T=b(r);o=R(T,"Rimuovi"),T.forEach(i),h.forEach(i),this.h()},h(){n(t,"class","svelte-1ls4pud"),n(r,"class","svelte-1ls4pud"),n(e,"class","actions svelte-1ls4pud")},m(p,h){M(p,e,h),c(e,t),c(t,l),c(e,s),c(e,r),c(r,o),_||(d=[Q(t,"click",E),Q(r,"click",f)],_=!0)},p(p,h){a=p},d(p){p&&i(e),_=!1,i1(d)}}}function o1(a){let e,t,l,s,r,o,_,d,E=a[23].title+"",f,p,h,I,T=a[23].author+"",V,S,Z,C=a[6]&&r1(a);return{c(){e=v("div"),t=v("div"),l=v("img"),o=A(),_=v("div"),d=v("p"),f=O(E),p=A(),h=v("p"),I=O("di "),V=O(T),S=A(),C&&C.c(),Z=A(),this.h()},l(k){e=m(k,"DIV",{class:!0});var D=b(e);t=m(D,"DIV",{class:!0});var w=b(t);l=m(w,"IMG",{class:!0,src:!0,alt:!0}),w.forEach(i),o=P(D),_=m(D,"DIV",{class:!0});var U=b(_);d=m(U,"P",{class:!0});var B=b(d);f=R(B,E),B.forEach(i),p=P(U),h=m(U,"P",{class:!0});var L=b(h);I=R(L,"di "),V=R(L,T),L.forEach(i),U.forEach(i),S=P(D),C&&C.l(D),Z=P(D),D.forEach(i),this.h()},h(){n(l,"class","book-cover svelte-1ls4pud"),xe(l.src,s=a[23].cover)||n(l,"src",s),n(l,"alt",r=`Copertina di ${a[23].title}`),n(t,"class","cover-container svelte-1ls4pud"),n(d,"class","book-title svelte-1ls4pud"),n(h,"class","book-author svelte-1ls4pud"),n(_,"class","book-info svelte-1ls4pud"),n(e,"class","book-card svelte-1ls4pud")},m(k,D){M(k,e,D),c(e,t),c(t,l),c(e,o),c(e,_),c(_,d),c(d,f),c(_,p),c(_,h),c(h,I),c(h,V),c(e,S),C&&C.m(e,null),c(e,Z)},p(k,D){D&32&&!xe(l.src,s=k[23].cover)&&n(l,"src",s),D&32&&r!==(r=`Copertina di ${k[23].title}`)&&n(l,"alt",r),D&32&&E!==(E=k[23].title+"")&&e1(f,E),D&32&&T!==(T=k[23].author+"")&&e1(V,T),k[6]?C?C.p(k,D):(C=r1(k),C.c(),C.m(e,Z)):C&&(C.d(1),C=null)},d(k){k&&i(e),C&&C.d()}}}function a1(a){let e,t;return e=new N1({}),{c(){_e(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,s){he(e,l,s),t=!0},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){X(e.$$.fragment,l),t=!1},d(l){ve(e,l)}}}function Q1(a){let e,t,l,s,r,o,_,d,E,f,p,h,I,T,V,S,Z,C=a[6]&&l1(a),k=!a[2]&&s1(a);o=new Z1({});const D=[G1,q1],w=[];function U(L,y){return L[4]?1:0}p=U(a),h=w[p]=D[p](a);let B=a[7]&&a1();return{c(){C&&C.c(),e=A(),t=v("div"),k&&k.c(),l=A(),s=v("div"),r=v("div"),_e(o.$$.fragment),_=A(),d=v("input"),E=A(),f=v("div"),h.c(),I=A(),B&&B.c(),T=Ce(),this.h()},l(L){C&&C.l(L),e=P(L),t=m(L,"DIV",{class:!0});var y=b(t);k&&k.l(y),l=P(y),s=m(y,"DIV",{class:!0});var g=b(s);r=m(g,"DIV",{class:!0});var z=b(r);de(o.$$.fragment,z),_=P(z),d=m(z,"INPUT",{type:!0,placeholder:!0,class:!0}),z.forEach(i),g.forEach(i),E=P(y),f=m(y,"DIV",{class:!0});var F=b(f);h.l(F),F.forEach(i),y.forEach(i),I=P(L),B&&B.l(L),T=Ce(),this.h()},h(){n(d,"type","text"),n(d,"placeholder","Cerca un libro..."),n(d,"class","svelte-1ls4pud"),n(r,"class","search-bar svelte-1ls4pud"),n(s,"class","top-actions svelte-1ls4pud"),n(f,"class","book-grid svelte-1ls4pud"),n(t,"class","content svelte-1ls4pud")},m(L,y){C&&C.m(L,y),M(L,e,y),M(L,t,y),k&&k.m(t,null),c(t,l),c(t,s),c(s,r),he(o,r,null),c(r,_),c(r,d),H(d,a[0]),c(t,E),c(t,f),w[p].m(f,null),M(L,I,y),B&&B.m(L,y),M(L,T,y),V=!0,S||(Z=Q(d,"input",a[15]),S=!0)},p(L,[y]){L[6]?C?(C.p(L,y),y&64&&G(C,1)):(C=l1(L),C.c(),G(C,1),C.m(e.parentNode,e)):C&&(ge(),X(C,1,1,()=>{C=null}),Ee()),L[2]?k&&(ge(),X(k,1,1,()=>{k=null}),Ee()):k?(k.p(L,y),y&4&&G(k,1)):(k=s1(L),k.c(),G(k,1),k.m(t,l)),y&1&&d.value!==L[0]&&H(d,L[0]);let g=p;p=U(L),p===g?w[p].p(L,y):(ge(),X(w[g],1,1,()=>{w[g]=null}),Ee(),h=w[p],h?h.p(L,y):(h=w[p]=D[p](L),h.c()),G(h,1),h.m(f,null)),L[7]?B?y&128&&G(B,1):(B=a1(),B.c(),G(B,1),B.m(T.parentNode,T)):B&&(ge(),X(B,1,1,()=>{B=null}),Ee())},i(L){V||(G(C),G(k),G(o.$$.fragment,L),G(h),G(B),V=!0)},o(L){X(C),X(k),X(o.$$.fragment,L),X(h),X(B),V=!1},d(L){C&&C.d(L),L&&i(e),L&&i(t),k&&k.d(),ve(o),w[p].d(),L&&i(I),B&&B.d(L),L&&i(T),S=!1,Z()}}}function X1(a,e,t){let l,s,r;Ie(a,Fe,g=>t(19,l=g)),Ie(a,B1,g=>t(20,s=g)),Ie(a,E1,g=>t(7,r=g)),h1(async()=>{h=s.photoURL??"/profile_placeholder.png",t(6,I=await C1(s.uid)),t(11,T=await Xe(`users/${s.uid}/biblioteca`).then(async g=>{console.log("userLib:",g),v1(Fe,l=g,l),await S(g)}))});let o=!0,_,d=!0,E="",f=[],p=[],h,I,T;const V=g=>{t(3,_=g),t(2,o=!o)},S=g=>{t(4,d=!0),Xe(`protectedData/${g}`).then(z=>{t(1,f=z),t(5,p=z),t(4,d=!1)})},Z=()=>{t(2,o=!o)},C=g=>{V(g)},k=async g=>{t(4,d=!0),console.log(l,g.id),await k1(`protectedData/${l}/${g.id}`).then(async()=>{t(4,d=!1),S(l)})};function D(g){o=g,t(2,o)}function w(g){_=g,t(3,_)}function U(g){a.$$.not_equal(f.length,g)&&(f.length=g,t(1,f),t(11,T))}function B(){E=this.value,t(0,E)}const L=g=>C(g),y=g=>k(g);return a.$$.update=()=>{a.$$.dirty&2048&&T&&Xe("protectedData/$userLib}").then(g=>{t(1,f=g),t(5,p=g),t(4,d=!1)}),a.$$.dirty&3&&(E.trim()===""?t(5,p=f):t(5,p=f.filter(g=>g.title.toLowerCase().includes(E.toLowerCase()))))},[E,f,o,_,d,p,I,r,Z,C,k,T,D,w,U,B,L,y]}class $1 extends Ne{constructor(e){super(),Be(this,e,X1,Q1,Me,{})}}export{$1 as component};
