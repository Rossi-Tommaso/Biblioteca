import{S as St,i as zt,s as Ht,W as lt,y as de,z as pe,A as me,X as wt,Y as Mt,g as P,d as S,B as ge,Z as jt,J as Rt,K as Ct,L as Tt,M as qt,k as f,q as b,a as m,e as Re,l as u,m as h,r as k,h as o,c as g,n as i,b as be,E as s,u as _e,f as It,H as At,o as yt,v as Dt,G as ke,Q as Gt,I as Nt}from"../chunks/index.6078c922.js";import{S as Ut,s as Jt}from"../chunks/utilsStore.123db59f.js";import{I as Kt,P as Qt,a as Wt,f as Xt,S as Yt}from"../chunks/sideBar.43b89f5a.js";import{u as Zt}from"../chunks/authStore.c79597f5.js";import{e as Vt}from"../chunks/singletons.7bb98790.js";function Ft(c){let t;const a=c[2].default,e=Rt(a,c,c[3],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&8)&&Ct(e,a,l,l[3],t?qt(a,l[3],r,null):Tt(l[3]),null)},i(l){t||(P(e,l),t=!0)},o(l){S(e,l),t=!1},d(l){e&&e.d(l)}}}function Ot(c){let t,a;const e=[{name:"library"},c[1],{iconNode:c[0]}];let l={$$slots:{default:[Ft]},$$scope:{ctx:c}};for(let r=0;r<e.length;r+=1)l=lt(l,e[r]);return t=new Kt({props:l}),{c(){de(t.$$.fragment)},l(r){pe(t.$$.fragment,r)},m(r,n){me(t,r,n),a=!0},p(r,[n]){const _=n&3?wt(e,[e[0],n&2&&Mt(r[1]),n&1&&{iconNode:r[0]}]):{};n&8&&(_.$$scope={dirty:n,ctx:r}),t.$set(_)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){S(t.$$.fragment,r),a=!1},d(r){ge(t,r)}}}function xt(c,t,a){let{$$slots:e={},$$scope:l}=t;const r=[["path",{d:"m16 6 4 14"}],["path",{d:"M12 6v14"}],["path",{d:"M8 8v12"}],["path",{d:"M4 4v16"}]];return c.$$set=n=>{a(1,t=lt(lt({},t),jt(n))),"$$scope"in n&&a(3,l=n.$$scope)},t=jt(t),[r,t,e,l]}class es extends St{constructor(t){super(),zt(this,t,xt,Ot,Ht,{})}}const ts=es;function Lt(c,t,a){const e=c.slice();return e[6]=t[a],e}function ss(c){let t,a;return t=new Ut({}),{c(){de(t.$$.fragment)},l(e){pe(t.$$.fragment,e)},m(e,l){me(t,e,l),a=!0},p:ke,i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){S(t.$$.fragment,e),a=!1},d(e){ge(t,e)}}}function ls(c){let t,a;return{c(){t=f("p"),a=b("Nessun libro nella tua biblioteca"),this.h()},l(e){t=u(e,"P",{class:!0});var l=h(t);a=k(l,"Nessun libro nella tua biblioteca"),l.forEach(o),this.h()},h(){i(t,"class","no-books")},m(e,l){be(e,t,l),s(t,a)},p:ke,i:ke,o:ke,d(e){e&&o(t)}}}function as(c){let t,a=c[0],e=[];for(let l=0;l<a.length;l+=1)e[l]=Pt(Lt(c,a,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=Re()},l(l){for(let r=0;r<e.length;r+=1)e[r].l(l);t=Re()},m(l,r){for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(l,r);be(l,t,r)},p(l,r){if(r&1){a=l[0];let n;for(n=0;n<a.length;n+=1){const _=Lt(l,a,n);e[n]?e[n].p(_,r):(e[n]=Pt(_),e[n].c(),e[n].m(t.parentNode,t))}for(;n<e.length;n+=1)e[n].d(1);e.length=a.length}},i:ke,o:ke,d(l){Gt(e,l),l&&o(t)}}}function Pt(c){let t,a,e,l,r,n,_,D,d=c[6].title+"",N,w,B,Y,E=c[6].author+"",A,M;return{c(){t=f("div"),a=f("div"),e=f("img"),n=m(),_=f("div"),D=f("h3"),N=b(d),w=m(),B=f("p"),Y=b("di "),A=b(E),M=m(),this.h()},l(I){t=u(I,"DIV",{class:!0});var j=h(t);a=u(j,"DIV",{class:!0});var R=h(a);e=u(R,"IMG",{class:!0,src:!0,alt:!0}),R.forEach(o),n=g(j),_=u(j,"DIV",{class:!0});var z=h(_);D=u(z,"H3",{class:!0});var Z=h(D);N=k(Z,d),Z.forEach(o),w=g(z),B=u(z,"P",{class:!0});var F=h(B);Y=k(F,"di "),A=k(F,E),F.forEach(o),z.forEach(o),M=g(j),j.forEach(o),this.h()},h(){i(e,"class","book-cover svelte-1kvflhj"),Nt(e.src,l=c[6].cover)||i(e,"src",l),i(e,"alt",r=`Copertina di ${c[6].title}`),i(a,"class","book-cover-container svelte-1kvflhj"),i(D,"class","svelte-1kvflhj"),i(B,"class","author svelte-1kvflhj"),i(_,"class","book-details svelte-1kvflhj"),i(t,"class","recent-book-card svelte-1kvflhj")},m(I,j){be(I,t,j),s(t,a),s(a,e),s(t,n),s(t,_),s(_,D),s(D,N),s(_,w),s(_,B),s(B,Y),s(B,A),s(t,M)},p(I,j){j&1&&!Nt(e.src,l=I[6].cover)&&i(e,"src",l),j&1&&r!==(r=`Copertina di ${I[6].title}`)&&i(e,"alt",r),j&1&&d!==(d=I[6].title+"")&&_e(N,d),j&1&&E!==(E=I[6].author+"")&&_e(A,E)},d(I){I&&o(t)}}}function Bt(c){let t,a;return t=new Yt({}),{c(){de(t.$$.fragment)},l(e){pe(t.$$.fragment,e)},m(e,l){me(t,e,l),a=!0},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){S(t.$$.fragment,e),a=!1},d(e){ge(t,e)}}}function rs(c){var ot;let t,a,e,l=c[5]()+"",r,n,_=(((ot=c[3])==null?void 0:ot.displayName)||"Lettore")+"",D,d,N,w,B,Y,E,A,M,I,j,R,z=c[2].totalBooks+"",Z,F,y,$e,Ce,Te,se,Ee=c[2].booksRead+"",De,qe,G,je,ye,Ge,le,Ie=c[2].unread+"",Ne,Ue,U,ae,Je,Ke,O,V,L,Qe,J,Ae,We,Xe,H,C,re,x,Ye,oe,Ze,Fe,T,ne,ee,Oe,ie,xe,et,q,ce,te,tt,fe,st,Ve,ue,K;const at=[as,ls,ss],Q=[];function rt(v,p){return!v[1]&&v[0].length>0?0:v[1]?2:1}V=rt(c),L=Q[V]=at[V](c),x=new ts({}),ee=new Qt({}),te=new Wt({});let $=c[4]&&Bt();return{c(){t=f("div"),a=f("div"),e=f("h2"),r=b(l),n=b(", "),D=b(_),d=b("!"),N=m(),w=f("p"),B=b("Benvenuto nella tua biblioteca personale"),Y=m(),E=f("div"),A=f("div"),M=f("h3"),I=b("Libri Totali"),j=m(),R=f("p"),Z=b(z),F=m(),y=f("div"),$e=f("h3"),Ce=b("Libri Letti"),Te=m(),se=f("p"),De=b(Ee),qe=m(),G=f("div"),je=f("h3"),ye=b("Non letti"),Ge=m(),le=f("p"),Ne=b(Ie),Ue=m(),U=f("div"),ae=f("h2"),Je=b("Ultimi Libri Aggiunti"),Ke=m(),O=f("div"),L.c(),Qe=m(),J=f("div"),Ae=f("h2"),We=b("Azioni Rapide"),Xe=m(),H=f("div"),C=f("a"),re=f("span"),de(x.$$.fragment),Ye=m(),oe=f("span"),Ze=b("Visualizza Biblioteca"),Fe=m(),T=f("a"),ne=f("span"),de(ee.$$.fragment),Oe=m(),ie=f("span"),xe=b("Aggiungi Libro"),et=m(),q=f("a"),ce=f("span"),de(te.$$.fragment),tt=m(),fe=f("span"),st=b("Impostazioni"),Ve=m(),$&&$.c(),ue=Re(),this.h()},l(v){t=u(v,"DIV",{class:!0});var p=h(t);a=u(p,"DIV",{class:!0});var W=h(a);e=u(W,"H2",{class:!0});var X=h(e);r=k(X,l),n=k(X,", "),D=k(X,_),d=k(X,"!"),X.forEach(o),N=g(W),w=u(W,"P",{});var nt=h(w);B=k(nt,"Benvenuto nella tua biblioteca personale"),nt.forEach(o),W.forEach(o),Y=g(p),E=u(p,"DIV",{class:!0});var ve=h(E);A=u(ve,"DIV",{class:!0});var Le=h(A);M=u(Le,"H3",{});var it=h(M);I=k(it,"Libri Totali"),it.forEach(o),j=g(Le),R=u(Le,"P",{class:!0});var ct=h(R);Z=k(ct,z),ct.forEach(o),Le.forEach(o),F=g(ve),y=u(ve,"DIV",{class:!0});var Pe=h(y);$e=u(Pe,"H3",{});var ft=h($e);Ce=k(ft,"Libri Letti"),ft.forEach(o),Te=g(Pe),se=u(Pe,"P",{class:!0});var ut=h(se);De=k(ut,Ee),ut.forEach(o),Pe.forEach(o),qe=g(ve),G=u(ve,"DIV",{class:!0});var Be=h(G);je=u(Be,"H3",{});var vt=h(je);ye=k(vt,"Non letti"),vt.forEach(o),Ge=g(Be),le=u(Be,"P",{class:!0});var ht=h(le);Ne=k(ht,Ie),ht.forEach(o),Be.forEach(o),ve.forEach(o),Ue=g(p),U=u(p,"DIV",{class:!0});var Se=h(U);ae=u(Se,"H2",{class:!0});var _t=h(ae);Je=k(_t,"Ultimi Libri Aggiunti"),_t.forEach(o),Ke=g(Se),O=u(Se,"DIV",{class:!0});var dt=h(O);L.l(dt),dt.forEach(o),Se.forEach(o),Qe=g(p),J=u(p,"DIV",{class:!0});var ze=h(J);Ae=u(ze,"H2",{});var pt=h(Ae);We=k(pt,"Azioni Rapide"),pt.forEach(o),Xe=g(ze),H=u(ze,"DIV",{class:!0});var he=h(H);C=u(he,"A",{href:!0,class:!0});var He=h(C);re=u(He,"SPAN",{class:!0});var mt=h(re);pe(x.$$.fragment,mt),mt.forEach(o),Ye=g(He),oe=u(He,"SPAN",{class:!0});var gt=h(oe);Ze=k(gt,"Visualizza Biblioteca"),gt.forEach(o),He.forEach(o),Fe=g(he),T=u(he,"A",{href:!0,class:!0});var we=h(T);ne=u(we,"SPAN",{class:!0});var bt=h(ne);pe(ee.$$.fragment,bt),bt.forEach(o),Oe=g(we),ie=u(we,"SPAN",{class:!0});var kt=h(ie);xe=k(kt,"Aggiungi Libro"),kt.forEach(o),we.forEach(o),et=g(he),q=u(he,"A",{href:!0,class:!0});var Me=h(q);ce=u(Me,"SPAN",{class:!0});var $t=h(ce);pe(te.$$.fragment,$t),$t.forEach(o),tt=g(Me),fe=u(Me,"SPAN",{class:!0});var Et=h(fe);st=k(Et,"Impostazioni"),Et.forEach(o),Me.forEach(o),he.forEach(o),ze.forEach(o),p.forEach(o),Ve=g(v),$&&$.l(v),ue=Re(),this.h()},h(){i(e,"class","svelte-1kvflhj"),i(a,"class","welcome-section svelte-1kvflhj"),i(R,"class","stat-number svelte-1kvflhj"),i(A,"class","stat-card svelte-1kvflhj"),i(se,"class","stat-number svelte-1kvflhj"),i(y,"class","stat-card svelte-1kvflhj"),i(le,"class","stat-number svelte-1kvflhj"),i(G,"class","stat-card svelte-1kvflhj"),i(E,"class","stats-grid svelte-1kvflhj"),i(ae,"class","svelte-1kvflhj"),i(O,"class","recent-books-grid svelte-1kvflhj"),i(U,"class","recent-books-section svelte-1kvflhj"),i(re,"class","icon svelte-1kvflhj"),i(oe,"class","text"),i(C,"href",Vt+"/biblioteca"),i(C,"class","action-card svelte-1kvflhj"),i(ne,"class","icon svelte-1kvflhj"),i(ie,"class","text"),i(T,"href",Vt+"/biblioteca"),i(T,"class","action-card svelte-1kvflhj"),i(ce,"class","icon svelte-1kvflhj"),i(fe,"class","text"),i(q,"href","/impostazioni"),i(q,"class","action-card svelte-1kvflhj"),i(H,"class","actions-grid svelte-1kvflhj"),i(J,"class","quick-actions"),i(t,"class","content svelte-1kvflhj")},m(v,p){be(v,t,p),s(t,a),s(a,e),s(e,r),s(e,n),s(e,D),s(e,d),s(a,N),s(a,w),s(w,B),s(t,Y),s(t,E),s(E,A),s(A,M),s(M,I),s(A,j),s(A,R),s(R,Z),s(E,F),s(E,y),s(y,$e),s($e,Ce),s(y,Te),s(y,se),s(se,De),s(E,qe),s(E,G),s(G,je),s(je,ye),s(G,Ge),s(G,le),s(le,Ne),s(t,Ue),s(t,U),s(U,ae),s(ae,Je),s(U,Ke),s(U,O),Q[V].m(O,null),s(t,Qe),s(t,J),s(J,Ae),s(Ae,We),s(J,Xe),s(J,H),s(H,C),s(C,re),me(x,re,null),s(C,Ye),s(C,oe),s(oe,Ze),s(H,Fe),s(H,T),s(T,ne),me(ee,ne,null),s(T,Oe),s(T,ie),s(ie,xe),s(H,et),s(H,q),s(q,ce),me(te,ce,null),s(q,tt),s(q,fe),s(fe,st),be(v,Ve,p),$&&$.m(v,p),be(v,ue,p),K=!0},p(v,[p]){var X;(!K||p&8)&&_!==(_=(((X=v[3])==null?void 0:X.displayName)||"Lettore")+"")&&_e(D,_),(!K||p&4)&&z!==(z=v[2].totalBooks+"")&&_e(Z,z),(!K||p&4)&&Ee!==(Ee=v[2].booksRead+"")&&_e(De,Ee),(!K||p&4)&&Ie!==(Ie=v[2].unread+"")&&_e(Ne,Ie);let W=V;V=rt(v),V===W?Q[V].p(v,p):(Dt(),S(Q[W],1,1,()=>{Q[W]=null}),It(),L=Q[V],L?L.p(v,p):(L=Q[V]=at[V](v),L.c()),P(L,1),L.m(O,null)),v[4]?$?p&16&&P($,1):($=Bt(),$.c(),P($,1),$.m(ue.parentNode,ue)):$&&(Dt(),S($,1,1,()=>{$=null}),It())},i(v){K||(P(L),P(x.$$.fragment,v),P(ee.$$.fragment,v),P(te.$$.fragment,v),P($),K=!0)},o(v){S(L),S(x.$$.fragment,v),S(ee.$$.fragment,v),S(te.$$.fragment,v),S($),K=!1},d(v){v&&o(t),Q[V].d(),ge(x),ge(ee),ge(te),v&&o(Ve),$&&$.d(v),v&&o(ue)}}}function os(c,t,a){let e,l;At(c,Zt,d=>a(3,e=d)),At(c,Jt,d=>a(4,l=d));let r=[],n=!0,_={totalBooks:0,booksRead:0,unread:0};return yt(async()=>{await Xt("protectedData/books").then(d=>{console.log("DATAfrom db:",d),a(0,r=d.slice(0,3)),a(2,_.totalBooks=d.length,_),a(2,_.booksRead=d.filter(N=>N.read).length,_),a(2,_.unread=d.filter(N=>!N.read).length,_),a(1,n=!1)})}),[r,n,_,e,l,()=>{const d=new Date().getHours();return d<12?"Buongiorno":d<18?"Buon pomeriggio":"Buonasera"}]}class vs extends St{constructor(t){super(),zt(this,t,os,rs,Ht,{})}}export{vs as component};
