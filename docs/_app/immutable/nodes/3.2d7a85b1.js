import{S as Ce,i as Ee,s as Ie,k as d,a as B,l as _,m as v,h as a,c as D,n as i,b as Z,G as o,H as re,Q as Re,v as be,d as se,f as ke,g as j,q,r as Q,L as $,M as x,N as Ze,y as ve,z as de,A as _e,B as pe,J as ae,K as ie,w as Le,R as me,e as fe,p as Oe,T as ge,I as Qe,o as Ye,P as Ke,U as Se,u as Xe}from"../chunks/index.0b2888c4.js";import{r as Te,f as Ne,i as Fe,j as je,u as We,k as $e}from"../chunks/authStore.906139ae.js";import{H as xe,S as e1}from"../chunks/sideBar.537b386e.js";let Ge=async n=>{try{const e=Te(Ne,n),t=await Fe(e);return t.exists()?t.val():null}catch(e){console.error("Errore while fetching data:",e)}};const t1=async(n,e)=>{try{const t=Te(Ne,n);await We(t,e)}catch(t){console.error("Error while updating data:",t)}},l1=async n=>{try{const e=Te(Ne,n);await je(e)}catch(e){console.error("Error while cancelling data:",e)}};function s1(n){let e,t,s,l,r,f,g,k,m,u,C,p,T,E,N,M;return{c(){e=d("div"),t=d("div"),s=B(),l=d("div"),r=B(),f=d("div"),g=B(),k=d("div"),m=B(),u=d("div"),C=B(),p=d("div"),T=B(),E=d("div"),N=B(),M=d("div"),this.h()},l(I){e=_(I,"DIV",{class:!0});var L=v(e);t=_(L,"DIV",{class:!0}),v(t).forEach(a),s=D(L),l=_(L,"DIV",{class:!0}),v(l).forEach(a),r=D(L),f=_(L,"DIV",{class:!0}),v(f).forEach(a),g=D(L),k=_(L,"DIV",{class:!0}),v(k).forEach(a),m=D(L),u=_(L,"DIV",{class:!0}),v(u).forEach(a),C=D(L),p=_(L,"DIV",{class:!0}),v(p).forEach(a),T=D(L),E=_(L,"DIV",{class:!0}),v(E).forEach(a),N=D(L),M=_(L,"DIV",{class:!0}),v(M).forEach(a),L.forEach(a),this.h()},h(){i(t,"class","dot-spinner__dot svelte-5851t6"),i(l,"class","dot-spinner__dot svelte-5851t6"),i(f,"class","dot-spinner__dot svelte-5851t6"),i(k,"class","dot-spinner__dot svelte-5851t6"),i(u,"class","dot-spinner__dot svelte-5851t6"),i(p,"class","dot-spinner__dot svelte-5851t6"),i(E,"class","dot-spinner__dot svelte-5851t6"),i(M,"class","dot-spinner__dot svelte-5851t6"),i(e,"class","dot-spinner svelte-5851t6")},m(I,L){Z(I,e,L),o(e,t),o(e,s),o(e,l),o(e,r),o(e,f),o(e,g),o(e,k),o(e,m),o(e,u),o(e,C),o(e,p),o(e,T),o(e,E),o(e,N),o(e,M)},p:re,i:re,o:re,d(I){I&&a(e)}}}class r1 extends Ce{constructor(e){super(),Ee(this,e,null,s1,Ie,{})}}function o1(n){let e,t,s,l,r,f,g,k,m,u,C,p,T,E,N,M,I,L,X,G,U,w,O,b,z,H,W,S,J,Y,A,K,R,F,P,h,V,oe,ee,te,le,ne,ce;return{c(){e=d("h2"),t=q("Modifica libro"),s=B(),l=d("label"),r=q(`Titolo:
                `),f=d("input"),g=B(),k=d("label"),m=q(`Autore:
                `),u=d("input"),C=B(),p=d("label"),T=q(`Edizione:
                `),E=d("input"),N=B(),M=d("label"),I=q(`Genere:
                `),L=d("input"),X=B(),G=d("label"),U=q(`Commenti:
                `),w=d("textarea"),O=B(),b=d("label"),z=q(`Copertina:
                `),H=d("input"),W=B(),S=d("label"),J=q(`Letto:
                `),Y=d("input"),A=B(),K=d("label"),R=q(`Prestito:
                `),F=d("input"),P=B(),h=d("div"),V=d("button"),oe=q("Annulla"),ee=B(),te=d("button"),le=q("Salva"),this.h()},l(c){e=_(c,"H2",{});var y=v(e);t=Q(y,"Modifica libro"),y.forEach(a),s=D(c),l=_(c,"LABEL",{class:!0});var ue=v(l);r=Q(ue,`Titolo:
                `),f=_(ue,"INPUT",{type:!0,class:!0}),ue.forEach(a),g=D(c),k=_(c,"LABEL",{class:!0});var ye=v(k);m=Q(ye,`Autore:
                `),u=_(ye,"INPUT",{type:!0,class:!0}),ye.forEach(a),C=D(c),p=_(c,"LABEL",{class:!0});var Ae=v(p);T=Q(Ae,`Edizione:
                `),E=_(Ae,"INPUT",{type:!0,class:!0}),Ae.forEach(a),N=D(c),M=_(c,"LABEL",{class:!0});var Be=v(M);I=Q(Be,`Genere:
                `),L=_(Be,"INPUT",{type:!0,class:!0}),Be.forEach(a),X=D(c),G=_(c,"LABEL",{class:!0});var De=v(G);U=Q(De,`Commenti:
                `),w=_(De,"TEXTAREA",{class:!0}),v(w).forEach(a),De.forEach(a),O=D(c),b=_(c,"LABEL",{class:!0});var Me=v(b);z=Q(Me,`Copertina:
                `),H=_(Me,"INPUT",{type:!0,placeholder:!0,class:!0}),Me.forEach(a),W=D(c),S=_(c,"LABEL",{class:!0});var Ve=v(S);J=Q(Ve,`Letto:
                `),Y=_(Ve,"INPUT",{type:!0}),Ve.forEach(a),A=D(c),K=_(c,"LABEL",{class:!0});var we=v(K);R=Q(we,`Prestito:
                `),F=_(we,"INPUT",{type:!0}),we.forEach(a),P=D(c),h=_(c,"DIV",{class:!0});var he=v(h);V=_(he,"BUTTON",{class:!0});var Ue=v(V);oe=Q(Ue,"Annulla"),Ue.forEach(a),ee=D(he),te=_(he,"BUTTON",{class:!0});var Pe=v(te);le=Q(Pe,"Salva"),Pe.forEach(a),he.forEach(a),this.h()},h(){i(f,"type","text"),i(f,"class","svelte-115gks2"),i(l,"class","svelte-115gks2"),i(u,"type","text"),i(u,"class","svelte-115gks2"),i(k,"class","svelte-115gks2"),i(E,"type","text"),i(E,"class","svelte-115gks2"),i(p,"class","svelte-115gks2"),i(L,"type","text"),i(L,"class","svelte-115gks2"),i(M,"class","svelte-115gks2"),i(w,"class","svelte-115gks2"),i(G,"class","svelte-115gks2"),i(H,"type","text"),i(H,"placeholder","Incolla il link del immagine di copertina"),i(H,"class","svelte-115gks2"),i(b,"class","svelte-115gks2"),i(Y,"type","checkbox"),i(S,"class","svelte-115gks2"),i(F,"type","checkbox"),i(K,"class","svelte-115gks2"),i(V,"class","discard svelte-115gks2"),i(te,"class","svelte-115gks2"),i(h,"class","buttons svelte-115gks2")},m(c,y){Z(c,e,y),o(e,t),Z(c,s,y),Z(c,l,y),o(l,r),o(l,f),$(f,n[1].title),Z(c,g,y),Z(c,k,y),o(k,m),o(k,u),$(u,n[1].author),Z(c,C,y),Z(c,p,y),o(p,T),o(p,E),$(E,n[1].edition),Z(c,N,y),Z(c,M,y),o(M,I),o(M,L),$(L,n[1].genre),Z(c,X,y),Z(c,G,y),o(G,U),o(G,w),$(w,n[1].comments),Z(c,O,y),Z(c,b,y),o(b,z),o(b,H),$(H,n[1].cover),Z(c,W,y),Z(c,S,y),o(S,J),o(S,Y),Y.checked=n[1].read,Z(c,A,y),Z(c,K,y),o(K,R),o(K,F),F.checked=n[1].loaned,Z(c,P,y),Z(c,h,y),o(h,V),o(V,oe),o(h,ee),o(h,te),o(te,le),ne||(ce=[x(f,"input",n[6]),x(u,"input",n[7]),x(E,"input",n[8]),x(L,"input",n[9]),x(w,"input",n[10]),x(H,"input",n[11]),x(Y,"change",n[12]),x(F,"change",n[13]),x(V,"click",n[4]),x(te,"click",n[3])],ne=!0)},p(c,y){y&2&&f.value!==c[1].title&&$(f,c[1].title),y&2&&u.value!==c[1].author&&$(u,c[1].author),y&2&&E.value!==c[1].edition&&$(E,c[1].edition),y&2&&L.value!==c[1].genre&&$(L,c[1].genre),y&2&&$(w,c[1].comments),y&2&&H.value!==c[1].cover&&$(H,c[1].cover),y&2&&(Y.checked=c[1].read),y&2&&(F.checked=c[1].loaned)},i:re,o:re,d(c){c&&a(e),c&&a(s),c&&a(l),c&&a(g),c&&a(k),c&&a(C),c&&a(p),c&&a(N),c&&a(M),c&&a(X),c&&a(G),c&&a(O),c&&a(b),c&&a(W),c&&a(S),c&&a(A),c&&a(K),c&&a(P),c&&a(h),ne=!1,Ze(ce)}}}function a1(n){let e,t,s;return t=new r1({}),{c(){e=d("div"),ve(t.$$.fragment),this.h()},l(l){e=_(l,"DIV",{class:!0});var r=v(e);de(t.$$.fragment,r),r.forEach(a),this.h()},h(){i(e,"class","loader svelte-115gks2")},m(l,r){Z(l,e,r),_e(t,e,null),s=!0},p:re,i(l){s||(j(t.$$.fragment,l),s=!0)},o(l){se(t.$$.fragment,l),s=!1},d(l){l&&a(e),pe(t)}}}function i1(n){let e,t,s,l,r,f;const g=[a1,o1],k=[];function m(u,C){return u[2]?0:1}return s=m(n),l=k[s]=g[s](n),{c(){e=d("div"),t=d("div"),l.c(),this.h()},l(u){e=_(u,"DIV",{class:!0});var C=v(e);t=_(C,"DIV",{class:!0});var p=v(t);l.l(p),p.forEach(a),C.forEach(a),this.h()},h(){i(t,"class","pop-up svelte-115gks2"),i(e,"class",r=Re(n[0]?"hidden":"overlay")+" svelte-115gks2")},m(u,C){Z(u,e,C),o(e,t),k[s].m(t,null),f=!0},p(u,[C]){let p=s;s=m(u),s===p?k[s].p(u,C):(be(),se(k[p],1,1,()=>{k[p]=null}),ke(),l=k[s],l?l.p(u,C):(l=k[s]=g[s](u),l.c()),j(l,1),l.m(t,null)),(!f||C&1&&r!==(r=Re(u[0]?"hidden":"overlay")+" svelte-115gks2"))&&i(e,"class",r)},i(u){f||(j(l),f=!0)},o(u){se(l),f=!1},d(u){u&&a(e),k[s].d()}}}function n1(n,e,t){let{hidden:s=!0}=e,{length:l}=e,{book:r={title:"",author:"",edition:"",genre:"",comments:"",read:!1,loaned:!1}}=e,f=!1;function g(){t(2,f=!0),t(5,l=r.id??l),t1(`protectedData/books/${l}`,{...r,id:l}).then(()=>{t(2,f=!1),t(0,s=!0)}).then(()=>window.location.reload()).catch(()=>{t(2,f=!1),t(1,r={title:"",author:"",edition:"",genre:"",comments:"",read:!1,loaned:!1})})}function k(){t(0,s=!0),t(1,r={title:"",author:"",edition:"",comments:"",cover:"",read:!1,loaned:!1})}function m(){r.title=this.value,t(1,r)}function u(){r.author=this.value,t(1,r)}function C(){r.edition=this.value,t(1,r)}function p(){r.genre=this.value,t(1,r)}function T(){r.comments=this.value,t(1,r)}function E(){r.cover=this.value,t(1,r)}function N(){r.read=this.checked,t(1,r)}function M(){r.loaned=this.checked,t(1,r)}return n.$$set=I=>{"hidden"in I&&t(0,s=I.hidden),"length"in I&&t(5,l=I.length),"book"in I&&t(1,r=I.book)},[s,r,f,g,k,l,m,u,C,p,T,E,N,M]}class c1 extends Ce{constructor(e){super(),Ee(this,e,n1,i1,Ie,{hidden:0,length:5,book:1})}}function u1(n){let e,t,s,l,r,f,g,k,m,u,C,p,T,E,N,M,I,L,X,G,U,w,O,b,z,H,W,S,J;return{c(){e=d("div"),t=d("div"),s=d("ul"),l=d("li"),r=ae("svg"),f=ae("path"),g=B(),k=d("li"),m=ae("svg"),u=ae("path"),C=B(),p=d("li"),T=ae("svg"),E=ae("path"),N=B(),M=d("li"),I=ae("svg"),L=ae("path"),X=B(),G=d("li"),U=ae("svg"),w=ae("path"),O=B(),b=d("li"),z=ae("svg"),H=ae("path"),W=B(),S=d("span"),J=q("Loading"),this.h()},l(Y){e=_(Y,"DIV",{class:!0});var A=v(e);t=_(A,"DIV",{class:!0});var K=v(t);s=_(K,"UL",{class:!0});var R=v(s);l=_(R,"LI",{class:!0});var F=v(l);r=ie(F,"svg",{fill:!0,viewBox:!0,class:!0});var P=v(r);f=ie(P,"path",{d:!0}),v(f).forEach(a),P.forEach(a),F.forEach(a),g=D(R),k=_(R,"LI",{class:!0});var h=v(k);m=ie(h,"svg",{fill:!0,viewBox:!0,class:!0});var V=v(m);u=ie(V,"path",{d:!0}),v(u).forEach(a),V.forEach(a),h.forEach(a),C=D(R),p=_(R,"LI",{class:!0});var oe=v(p);T=ie(oe,"svg",{fill:!0,viewBox:!0,class:!0});var ee=v(T);E=ie(ee,"path",{d:!0}),v(E).forEach(a),ee.forEach(a),oe.forEach(a),N=D(R),M=_(R,"LI",{class:!0});var te=v(M);I=ie(te,"svg",{fill:!0,viewBox:!0,class:!0});var le=v(I);L=ie(le,"path",{d:!0}),v(L).forEach(a),le.forEach(a),te.forEach(a),X=D(R),G=_(R,"LI",{class:!0});var ne=v(G);U=ie(ne,"svg",{fill:!0,viewBox:!0,class:!0});var ce=v(U);w=ie(ce,"path",{d:!0}),v(w).forEach(a),ce.forEach(a),ne.forEach(a),O=D(R),b=_(R,"LI",{class:!0});var c=v(b);z=ie(c,"svg",{fill:!0,viewBox:!0,class:!0});var y=v(z);H=ie(y,"path",{d:!0}),v(H).forEach(a),y.forEach(a),c.forEach(a),R.forEach(a),W=D(K),K.forEach(a),S=_(A,"SPAN",{class:!0});var ue=v(S);J=Q(ue,"Loading"),ue.forEach(a),A.forEach(a),this.h()},h(){i(f,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(r,"fill","currentColor"),i(r,"viewBox","0 0 90 120"),i(r,"class","svelte-1lyp77k"),i(l,"class","svelte-1lyp77k"),i(u,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(m,"fill","currentColor"),i(m,"viewBox","0 0 90 120"),i(m,"class","svelte-1lyp77k"),i(k,"class","svelte-1lyp77k"),i(E,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(T,"fill","currentColor"),i(T,"viewBox","0 0 90 120"),i(T,"class","svelte-1lyp77k"),i(p,"class","svelte-1lyp77k"),i(L,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(I,"fill","currentColor"),i(I,"viewBox","0 0 90 120"),i(I,"class","svelte-1lyp77k"),i(M,"class","svelte-1lyp77k"),i(w,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(U,"fill","currentColor"),i(U,"viewBox","0 0 90 120"),i(U,"class","svelte-1lyp77k"),i(G,"class","svelte-1lyp77k"),i(H,"d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"),i(z,"fill","currentColor"),i(z,"viewBox","0 0 90 120"),i(z,"class","svelte-1lyp77k"),i(b,"class","svelte-1lyp77k"),i(s,"class","svelte-1lyp77k"),i(t,"class","svelte-1lyp77k"),i(S,"class","svelte-1lyp77k"),i(e,"class","loader svelte-1lyp77k")},m(Y,A){Z(Y,e,A),o(e,t),o(t,s),o(s,l),o(l,r),o(r,f),o(s,g),o(s,k),o(k,m),o(m,u),o(s,C),o(s,p),o(p,T),o(T,E),o(s,N),o(s,M),o(M,I),o(I,L),o(s,X),o(s,G),o(G,U),o(U,w),o(s,O),o(s,b),o(b,z),o(z,H),o(t,W),o(e,S),o(S,J)},p:re,i:re,o:re,d(Y){Y&&a(e)}}}class f1 extends Ce{constructor(e){super(),Ee(this,e,null,u1,Ie,{})}}function He(n,e,t){const s=n.slice();return s[21]=e[t],s}function Je(n){let e,t,s,l,r;function f(u){n[12](u)}function g(u){n[13](u)}function k(u){n[14](u)}let m={};return n[2]!==void 0&&(m.hidden=n[2]),n[4]!==void 0&&(m.book=n[4]),n[1].length!==void 0&&(m.length=n[1].length),e=new c1({props:m}),Le.push(()=>me(e,"hidden",f)),Le.push(()=>me(e,"book",g)),Le.push(()=>me(e,"length",k)),{c(){ve(e.$$.fragment)},l(u){de(e.$$.fragment,u)},m(u,C){_e(e,u,C),r=!0},p(u,C){const p={};!t&&C&4&&(t=!0,p.hidden=u[2],ge(()=>t=!1)),!s&&C&16&&(s=!0,p.book=u[4],ge(()=>s=!1)),!l&&C&2&&(l=!0,p.length=u[1].length,ge(()=>l=!1)),e.$set(p)},i(u){r||(j(e.$$.fragment,u),r=!0)},o(u){se(e.$$.fragment,u),r=!1},d(u){pe(e,u)}}}function v1(n){let e,t,s;return t=new f1({}),{c(){e=d("div"),ve(t.$$.fragment),this.h()},l(l){e=_(l,"DIV",{class:!0});var r=v(e);de(t.$$.fragment,r),r.forEach(a),this.h()},h(){i(e,"class","loader-container svelte-1f88vcv")},m(l,r){Z(l,e,r),_e(t,e,null),s=!0},p:re,i(l){s||(j(t.$$.fragment,l),s=!0)},o(l){se(t.$$.fragment,l),s=!1},d(l){l&&a(e),pe(t)}}}function d1(n){let e;function t(r,f){return r[6].length>0?p1:_1}let s=t(n),l=s(n);return{c(){l.c(),e=fe()},l(r){l.l(r),e=fe()},m(r,f){l.m(r,f),Z(r,e,f)},p(r,f){s===(s=t(r))&&l?l.p(r,f):(l.d(1),l=s(r),l&&(l.c(),l.m(e.parentNode,e)))},i:re,o:re,d(r){l.d(r),r&&a(e)}}}function _1(n){let e,t,s;return{c(){e=d("div"),t=d("p"),s=q("Nessun libro trovato"),this.h()},l(l){e=_(l,"DIV",{class:!0});var r=v(e);t=_(r,"P",{});var f=v(t);s=Q(f,"Nessun libro trovato"),f.forEach(a),r.forEach(a),this.h()},h(){i(e,"class","no-books svelte-1f88vcv")},m(l,r){Z(l,e,r),o(e,t),o(t,s)},p:re,d(l){l&&a(e)}}}function p1(n){let e,t=n[6],s=[];for(let l=0;l<t.length;l+=1)s[l]=ze(He(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=fe()},l(l){for(let r=0;r<s.length;r+=1)s[r].l(l);e=fe()},m(l,r){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(l,r);Z(l,e,r)},p(l,r){if(r&1600){t=l[6];let f;for(f=0;f<t.length;f+=1){const g=He(l,t,f);s[f]?s[f].p(g,r):(s[f]=ze(g),s[f].c(),s[f].m(e.parentNode,e))}for(;f<s.length;f+=1)s[f].d(1);s.length=t.length}},d(l){Ke(s,l),l&&a(e)}}}function ze(n){let e,t,s,l,r,f,g,k,m=n[21].title+"",u,C,p,T,E=n[21].author+"",N,M,I,L,X,G,U,w,O,b,z;function H(){return n[16](n[21])}function W(){return n[17](n[21])}return{c(){e=d("div"),t=d("div"),s=d("img"),f=B(),g=d("div"),k=d("p"),u=q(m),C=B(),p=d("p"),T=q("di "),N=q(E),M=B(),I=d("div"),L=d("button"),X=q("Modifica"),G=B(),U=d("button"),w=q("Rimuovi"),O=B(),this.h()},l(S){e=_(S,"DIV",{class:!0});var J=v(e);t=_(J,"DIV",{class:!0});var Y=v(t);s=_(Y,"IMG",{class:!0,src:!0,alt:!0}),Y.forEach(a),f=D(J),g=_(J,"DIV",{class:!0});var A=v(g);k=_(A,"P",{class:!0});var K=v(k);u=Q(K,m),K.forEach(a),C=D(A),p=_(A,"P",{class:!0});var R=v(p);T=Q(R,"di "),N=Q(R,E),R.forEach(a),A.forEach(a),M=D(J),I=_(J,"DIV",{class:!0});var F=v(I);L=_(F,"BUTTON",{class:!0});var P=v(L);X=Q(P,"Modifica"),P.forEach(a),G=D(F),U=_(F,"BUTTON",{class:!0});var h=v(U);w=Q(h,"Rimuovi"),h.forEach(a),F.forEach(a),O=D(J),J.forEach(a),this.h()},h(){i(s,"class","book-cover svelte-1f88vcv"),Se(s.src,l=n[21].cover)||i(s,"src",l),i(s,"alt",r=`Copertina di ${n[21].title}`),i(t,"class","cover-container svelte-1f88vcv"),i(k,"class","book-title svelte-1f88vcv"),i(p,"class","book-author svelte-1f88vcv"),i(g,"class","book-info svelte-1f88vcv"),i(L,"class","svelte-1f88vcv"),i(U,"class","svelte-1f88vcv"),i(I,"class","actions svelte-1f88vcv"),i(e,"class","book-card svelte-1f88vcv")},m(S,J){Z(S,e,J),o(e,t),o(t,s),o(e,f),o(e,g),o(g,k),o(k,u),o(g,C),o(g,p),o(p,T),o(p,N),o(e,M),o(e,I),o(I,L),o(L,X),o(I,G),o(I,U),o(U,w),o(e,O),b||(z=[x(L,"click",H),x(U,"click",W)],b=!0)},p(S,J){n=S,J&64&&!Se(s.src,l=n[21].cover)&&i(s,"src",l),J&64&&r!==(r=`Copertina di ${n[21].title}`)&&i(s,"alt",r),J&64&&m!==(m=n[21].title+"")&&Xe(u,m),J&64&&E!==(E=n[21].author+"")&&Xe(N,E)},d(S){S&&a(e),b=!1,Ze(z)}}}function qe(n){let e,t;return e=new e1({}),{c(){ve(e.$$.fragment)},l(s){de(e.$$.fragment,s)},m(s,l){_e(e,s,l),t=!0},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){se(e.$$.fragment,s),t=!1},d(s){pe(e,s)}}}function h1(n){let e,t,s,l,r,f,g,k,m,u,C,p,T,E,N,M,I,L,X,G,U,w,O,b,z,H,W,S;function J(h){n[11](h)}let Y={};n[3]!==void 0&&(Y.check=n[3]),t=new xe({props:Y}),Le.push(()=>me(t,"check",J));let A=!n[2]&&Je(n);const K=[d1,v1],R=[];function F(h,V){return h[5]?1:0}w=F(n),O=R[w]=K[w](n);let P=n[3]&&qe();return{c(){e=d("div"),ve(t.$$.fragment),l=B(),r=d("div"),f=d("h1"),g=q("La Mia Biblioteca"),k=B(),m=d("div"),u=d("div"),C=B(),p=d("div"),A&&A.c(),T=B(),E=d("div"),N=d("button"),M=q("➕ Aggiungi Libro"),I=B(),L=d("div"),X=d("input"),G=B(),U=d("div"),O.c(),b=B(),P&&P.c(),z=fe(),this.h()},l(h){e=_(h,"DIV",{class:!0});var V=v(e);de(t.$$.fragment,V),l=D(V),r=_(V,"DIV",{class:!0});var oe=v(r);f=_(oe,"H1",{class:!0});var ee=v(f);g=Q(ee,"La Mia Biblioteca"),ee.forEach(a),oe.forEach(a),k=D(V),m=_(V,"DIV",{class:!0});var te=v(m);u=_(te,"DIV",{class:!0,style:!0}),v(u).forEach(a),te.forEach(a),V.forEach(a),C=D(h),p=_(h,"DIV",{class:!0});var le=v(p);A&&A.l(le),T=D(le),E=_(le,"DIV",{class:!0});var ne=v(E);N=_(ne,"BUTTON",{class:!0});var ce=v(N);M=Q(ce,"➕ Aggiungi Libro"),ce.forEach(a),I=D(ne),L=_(ne,"DIV",{class:!0});var c=v(L);X=_(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(a),ne.forEach(a),G=D(le),U=_(le,"DIV",{class:!0});var y=v(U);O.l(y),y.forEach(a),le.forEach(a),b=D(h),P&&P.l(h),z=fe(),this.h()},h(){i(f,"class","svelte-1f88vcv"),i(r,"class","header-left svelte-1f88vcv"),i(u,"class","profile-img svelte-1f88vcv"),Oe(u,"background-image","url("+n[7]+")"),i(m,"class","header-right svelte-1f88vcv"),i(e,"class","header svelte-1f88vcv"),i(N,"class","add-book-button svelte-1f88vcv"),i(X,"type","text"),i(X,"placeholder","Cerca un libro..."),i(X,"class","svelte-1f88vcv"),i(L,"class","search-bar svelte-1f88vcv"),i(E,"class","top-actions svelte-1f88vcv"),i(U,"class","book-grid svelte-1f88vcv"),i(p,"class","content svelte-1f88vcv")},m(h,V){Z(h,e,V),_e(t,e,null),o(e,l),o(e,r),o(r,f),o(f,g),o(e,k),o(e,m),o(m,u),Z(h,C,V),Z(h,p,V),A&&A.m(p,null),o(p,T),o(p,E),o(E,N),o(N,M),o(E,I),o(E,L),o(L,X),$(X,n[0]),o(p,G),o(p,U),R[w].m(U,null),Z(h,b,V),P&&P.m(h,V),Z(h,z,V),H=!0,W||(S=[x(N,"click",n[8]),x(X,"input",n[15])],W=!0)},p(h,[V]){const oe={};!s&&V&8&&(s=!0,oe.check=h[3],ge(()=>s=!1)),t.$set(oe),(!H||V&128)&&Oe(u,"background-image","url("+h[7]+")"),h[2]?A&&(be(),se(A,1,1,()=>{A=null}),ke()):A?(A.p(h,V),V&4&&j(A,1)):(A=Je(h),A.c(),j(A,1),A.m(p,T)),V&1&&X.value!==h[0]&&$(X,h[0]);let ee=w;w=F(h),w===ee?R[w].p(h,V):(be(),se(R[ee],1,1,()=>{R[ee]=null}),ke(),O=R[w],O?O.p(h,V):(O=R[w]=K[w](h),O.c()),j(O,1),O.m(U,null)),h[3]?P?V&8&&j(P,1):(P=qe(),P.c(),j(P,1),P.m(z.parentNode,z)):P&&(be(),se(P,1,1,()=>{P=null}),ke())},i(h){H||(j(t.$$.fragment,h),j(A),j(O),j(P),H=!0)},o(h){se(t.$$.fragment,h),se(A),se(O),se(P),H=!1},d(h){h&&a(e),pe(t),h&&a(C),h&&a(p),A&&A.d(),R[w].d(),h&&a(b),P&&P.d(h),h&&a(z),W=!1,Ze(S)}}}function b1(n,e,t){let s;Qe(n,$e,b=>t(18,s=b)),Ye(()=>{T(),t(7,C=s.photoURL??"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAclBMVEX///8AAACoqKj8/PwEBAT5+fn29vbl5eXz8/O1tbV1dXXY2NhTU1MiIiLp6enh4eHFxcVtbW2dnZ3Ozs4uLi43NzcbGxtJSUmXl5eRkZGJiYmsrKx5eXnR0dFCQkJXV1eBgYEQEBAnJydmZmYcHBy7u7vQ67L1AAAFXUlEVORw5CYII=")});let l=!0,r,f,g=!0,k="",m=[],u=[],C;const p=b=>{t(4,f=b),t(2,l=!l)},T=()=>{t(5,g=!0),Ge("protectedData/books").then(b=>{t(1,m=b),t(6,u=b),t(5,g=!1)})},E=()=>{t(2,l=!l)},N=b=>{p(b)},M=b=>{t(5,g=!0),l1(`protectedData/books/${b.id}`).then(()=>{t(5,g=!1),T()})};function I(b){r=b,t(3,r)}function L(b){l=b,t(2,l)}function X(b){f=b,t(4,f)}function G(b){n.$$.not_equal(m.length,b)&&(m.length=b,t(1,m))}function U(){k=this.value,t(0,k)}const w=b=>N(b),O=b=>M(b);return n.$$.update=()=>{n.$$.dirty&3&&(k.trim()===""?t(6,u=m):t(6,u=m.filter(b=>b.title.toLowerCase().includes(k.toLowerCase()))))},Ge("protectedData/books").then(b=>{t(1,m=b),t(6,u=b),t(5,g=!1)}),[k,m,l,r,f,g,u,C,E,N,M,I,L,X,G,U,w,O]}class g1 extends Ce{constructor(e){super(),Ee(this,e,b1,h1,Ie,{})}}export{g1 as component};
