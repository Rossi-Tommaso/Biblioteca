import{S as Ce,i as Ve,s as Me,I as Ue,y as ve,z as me,A as ge,J as vt,K as mt,g as Q,d as x,B as be,L as Fe,M as gt,N as bt,O as yt,P as Et,k as d,q as O,a as B,C as W,l as h,m as f,r as S,h as c,c as T,D as q,n as r,p as J,b as ie,E as o,V as Y,F as Z,G as Se,W as wt,H as Ge,u as Ke,X as je,T as Lt,Y as nt,v as $t,f as kt,Z as It,o as Dt,_ as Bt}from"../chunks/index.0c50f942.js";import{r as ot,d as it,a as Tt,b as Ut,u as Ct,s as Te,c as Vt,e as He,g as Je,f as Mt,h as Ot,i as St}from"../chunks/authStore.7de5dcd9.js";import{e as ut}from"../chunks/singletons.f290b26d.js";import{g as At}from"../chunks/db_functions.afba06fa.js";import{I as Pt}from"../chunks/Icon.c0c07949.js";function Ft(a){let e;const s=a[2].default,t=gt(s,a,a[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&bt(t,s,l,l[3],e?Et(s,l[3],n,null):yt(l[3]),null)},i(l){e||(Q(t,l),e=!0)},o(l){x(t,l),e=!1},d(l){t&&t.d(l)}}}function Gt(a){let e,s;const t=[{name:"eye-off"},a[1],{iconNode:a[0]}];let l={$$slots:{default:[Ft]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)l=Ue(l,t[n]);return e=new Pt({props:l}),{c(){ve(e.$$.fragment)},l(n){me(e.$$.fragment,n)},m(n,i){ge(e,n,i),s=!0},p(n,[i]){const p=i&3?vt(t,[t[0],i&2&&mt(n[1]),i&1&&{iconNode:n[0]}]):{};i&8&&(p.$$scope={dirty:i,ctx:n}),e.$set(p)},i(n){s||(Q(e.$$.fragment,n),s=!0)},o(n){x(e.$$.fragment,n),s=!1},d(n){be(e,n)}}}function zt(a,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}],["path",{d:"m2 2 20 20"}]];return a.$$set=i=>{s(1,e=Ue(Ue({},e),Fe(i))),"$$scope"in i&&s(3,l=i.$$scope)},e=Fe(e),[n,e,t,l]}class Rt extends Ce{constructor(e){super(),Ve(this,e,zt,Gt,Me,{})}}const Wt=Rt;function qt(a){let e;const s=a[2].default,t=gt(s,a,a[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&bt(t,s,l,l[3],e?Et(s,l[3],n,null):yt(l[3]),null)},i(l){e||(Q(t,l),e=!0)},o(l){x(t,l),e=!1},d(l){t&&t.d(l)}}}function jt(a){let e,s;const t=[{name:"eye"},a[1],{iconNode:a[0]}];let l={$$slots:{default:[qt]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)l=Ue(l,t[n]);return e=new Pt({props:l}),{c(){ve(e.$$.fragment)},l(n){me(e.$$.fragment,n)},m(n,i){ge(e,n,i),s=!0},p(n,[i]){const p=i&3?vt(t,[t[0],i&2&&mt(n[1]),i&1&&{iconNode:n[0]}]):{};i&8&&(p.$$scope={dirty:i,ctx:n}),e.$set(p)},i(n){s||(Q(e.$$.fragment,n),s=!0)},o(n){x(e.$$.fragment,n),s=!1},d(n){be(e,n)}}}function Ht(a,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];return a.$$set=i=>{s(1,e=Ue(Ue({},e),Fe(i))),"$$scope"in i&&s(3,l=i.$$scope)},e=Fe(e),[n,e,t,l]}class Jt extends Ce{constructor(e){super(),Ve(this,e,Ht,jt,Me,{})}}const Kt=Jt;let Nt=async(a,e,s,t=null)=>{if(!a||!e||!s){console.error("UID o ruolo non forniti.");return}try{const l=ot(it,`users/${a}`);if((await Tt(l)).exists()){console.log("Utente giÃ  presente nel database");return}const i={[`users/${a}/role`]:e,[`users/${a}/email`]:s,[`users/${a}/biblioteca`]:t};await Ut(ot(it),i),console.log("Dati aggiunti o aggiornati con successo")}catch(l){l.code==="PERMISSION_DENIED"?console.error("Permessi insufficienti per aggiornare i dati."):console.error("Errore durante l'assegnazione del ruolo:",l)}};function ct(a){let e,s;return{c(){e=d("p"),s=O(a[2]),this.h()},l(t){e=h(t,"P",{style:!0,class:!0});var l=f(e);s=S(l,a[2]),l.forEach(c),this.h()},h(){J(e,"color","red"),r(e,"class","svelte-ner5rb")},m(t,l){ie(t,e,l),o(e,s)},p(t,l){l&4&&Ke(s,t[2])},d(t){t&&c(e)}}}function Xt(a){let e,s,t,l,n,i,p,m,$,u,_,k,b,g,I,F,A,oe,U,V,L,se,le,K,ce,fe,j,D,P,C,ee,X,z,pe,ye,de,Ee,E=a[2]&&ct(a);return{c(){e=d("form"),s=d("div"),t=d("label"),l=O("Email"),n=B(),i=d("div"),p=d("input"),m=B(),$=d("div"),u=d("label"),_=O("Password"),k=B(),b=d("div"),g=d("input"),I=B(),F=d("button"),A=O("Sign In"),oe=B(),U=d("p"),V=O(`Don't have an account?
    `),L=d("button"),se=O("Sign Up"),le=B(),K=d("p"),ce=O("Or With"),fe=B(),j=d("div"),D=d("button"),P=W("svg"),C=W("path"),ee=W("path"),X=W("path"),z=W("path"),pe=O(`
      Google`),ye=B(),E&&E.c(),this.h()},l(N){e=h(N,"FORM",{class:!0});var w=f(e);s=h(w,"DIV",{class:!0});var we=f(s);t=h(we,"LABEL",{for:!0,class:!0});var re=f(t);l=S(re,"Email"),re.forEach(c),we.forEach(c),n=T(w),i=h(w,"DIV",{class:!0});var $e=f(i);p=h($e,"INPUT",{type:!0,class:!0,placeholder:!0}),$e.forEach(c),m=T(w),$=h(w,"DIV",{class:!0});var ke=f($);u=h(ke,"LABEL",{for:!0,class:!0});var ae=f(u);_=S(ae,"Password"),ae.forEach(c),ke.forEach(c),k=T(w),b=h(w,"DIV",{class:!0});var Ie=f(b);g=h(Ie,"INPUT",{type:!0,class:!0,placeholder:!0}),Ie.forEach(c),I=T(w),F=h(w,"BUTTON",{type:!0,class:!0});var ne=f(F);A=S(ne,"Sign In"),ne.forEach(c),oe=T(w),U=h(w,"P",{class:!0});var he=f(U);V=S(he,`Don't have an account?
    `),L=h(he,"BUTTON",{class:!0});var Pe=f(L);se=S(Pe,"Sign Up"),Pe.forEach(c),he.forEach(c),le=T(w),K=h(w,"P",{class:!0});var te=f(K);ce=S(te,"Or With"),te.forEach(c),fe=T(w),j=h(w,"DIV",{class:!0});var Ne=f(j);D=h(Ne,"BUTTON",{type:!0,class:!0});var Le=f(D);P=q(Le,"svg",{version:!0,width:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,x:!0,y:!0,viewBox:!0,style:!0,"xml:space":!0,class:!0});var ue=f(P);C=q(ue,"path",{style:!0,d:!0,class:!0}),f(C).forEach(c),ee=q(ue,"path",{style:!0,d:!0,class:!0}),f(ee).forEach(c),X=q(ue,"path",{style:!0,d:!0,class:!0}),f(X).forEach(c),z=q(ue,"path",{style:!0,d:!0,class:!0}),f(z).forEach(c),ue.forEach(c),pe=S(Le,`
      Google`),Le.forEach(c),Ne.forEach(c),ye=T(w),E&&E.l(w),w.forEach(c),this.h()},h(){r(t,"for","email"),r(t,"class","svelte-ner5rb"),r(s,"class","flex-column svelte-ner5rb"),r(p,"type","email"),r(p,"class","input svelte-ner5rb"),r(p,"placeholder","Enter your Email"),r(i,"class","inputForm svelte-ner5rb"),r(u,"for","password"),r(u,"class","svelte-ner5rb"),r($,"class","flex-column svelte-ner5rb"),r(g,"type","password"),r(g,"class","input svelte-ner5rb"),r(g,"placeholder","Enter your Password"),r(b,"class","inputForm svelte-ner5rb"),r(F,"type","submit"),r(F,"class","button-submit svelte-ner5rb"),r(L,"class","span svelte-ner5rb"),r(U,"class","p svelte-ner5rb"),r(K,"class","p line svelte-ner5rb"),J(C,"fill","#FBBB00"),r(C,"d",`M113.47,309.408L95.648,375.94l-65.139,1.378C11.042,341.211,0,299.9,0,256
c0-42.451,10.324-82.483,28.624-117.732h0.014l57.992,10.632l25.404,57.644c-5.317,15.501-8.215,32.141-8.215,49.456
C103.821,274.792,107.225,292.797,113.47,309.408z`),r(C,"class","svelte-ner5rb"),J(ee,"fill","#518EF8"),r(ee,"d",`M507.527,208.176C510.467,223.662,512,239.655,512,256c0,18.328-1.927,36.206-5.598,53.451
c-12.462,58.683-45.025,109.925-90.134,146.187l-0.014-0.014l-73.044-3.727l-10.338-64.535
c29.932-17.554,53.324-45.025,65.646-77.911h-136.89V208.176h138.887L507.527,208.176L507.527,208.176z`),r(ee,"class","svelte-ner5rb"),J(X,"fill","#28B446"),r(X,"d",`M416.253,455.624l0.014,0.014C372.396,490.901,316.666,512,256,512
c-97.491,0-182.252-54.491-225.491-134.681l82.961-67.91c21.619,57.698,77.278,98.771,142.53,98.771
c28.047,0,54.323-7.582,76.87-20.818L416.253,455.624z`),r(X,"class","svelte-ner5rb"),J(z,"fill","#F14336"),r(z,"d",`M419.404,58.936l-82.933,67.896c-23.335-14.586-50.919-23.012-80.471-23.012
c-66.729,0-123.429,42.957-143.965,102.724l-83.397-68.276h-0.014C71.23,56.123,157.06,0,256,0
C318.115,0,375.068,22.126,419.404,58.936z`),r(z,"class","svelte-ner5rb"),r(P,"version","1.1"),r(P,"width","20"),r(P,"id","Layer_1"),r(P,"xmlns","http://www.w3.org/2000/svg"),r(P,"xmlns:xlink","http://www.w3.org/1999/xlink"),r(P,"x","0px"),r(P,"y","0px"),r(P,"viewBox","0 0 512 512"),J(P,"enable-background","new 0 0 512 512"),r(P,"xml:space","preserve"),r(P,"class","svelte-ner5rb"),r(D,"type","button"),r(D,"class","btn google svelte-ner5rb"),r(j,"class","flex-row svelte-ner5rb"),r(e,"class","form svelte-ner5rb")},m(N,w){ie(N,e,w),o(e,s),o(s,t),o(t,l),o(e,n),o(e,i),o(i,p),Y(p,a[0]),o(e,m),o(e,$),o($,u),o(u,_),o(e,k),o(e,b),o(b,g),Y(g,a[1]),o(e,I),o(e,F),o(F,A),o(e,oe),o(e,U),o(U,V),o(U,L),o(L,se),o(e,le),o(e,K),o(K,ce),o(e,fe),o(e,j),o(j,D),o(D,P),o(P,C),o(P,ee),o(P,X),o(P,z),o(D,pe),o(e,ye),E&&E.m(e,null),de||(Ee=[Z(p,"input",a[6]),Z(g,"input",a[7]),Z(L,"click",a[3]),Z(D,"click",a[8]),Z(e,"submit",a[4])],de=!0)},p(N,[w]){w&1&&p.value!==N[0]&&Y(p,N[0]),w&2&&g.value!==N[1]&&Y(g,N[1]),N[2]?E?E.p(N,w):(E=ct(N),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},i:Se,o:Se,d(N){N&&c(e),E&&E.d(),de=!1,wt(Ee)}}}function Yt(a,e,s){let t,l;Ge(a,Ct,g=>s(9,t=g)),Ge(a,Te,g=>s(10,l=g));let n="",i="",p="";function m(){je(Te,l=!0,l)}const $=async g=>{g.preventDefault();try{await Vt(He,n,i),Je(`${ut}/home`)}catch(I){s(2,p=I.message)}},u=async g=>{try{await Mt(He,g),await Nt(t.uid,"VIEWER",t.email)}catch(I){s(2,p=I.message)}};function _(){n=this.value,s(0,n)}function k(){i=this.value,s(1,i)}return[n,i,p,m,$,u,_,k,async()=>{await u(Ot).then(()=>{Je(`${ut}/home`)})}]}class Zt extends Ce{constructor(e){super(),Ve(this,e,Yt,Xt,Me,{})}}function ft(a,e,s){const t=a.slice();return t[17]=e[s],t}function Qt(a){let e,s;return e=new Wt({}),{c(){ve(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,l){ge(e,t,l),s=!0},i(t){s||(Q(e.$$.fragment,t),s=!0)},o(t){x(e.$$.fragment,t),s=!1},d(t){be(e,t)}}}function xt(a){let e,s;return e=new Kt({}),{c(){ve(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,l){ge(e,t,l),s=!0},i(t){s||(Q(e.$$.fragment,t),s=!0)},o(t){x(e.$$.fragment,t),s=!1},d(t){be(e,t)}}}function pt(a){let e,s=a[17]+"",t,l;return{c(){e=d("option"),t=O(s),this.h()},l(n){e=h(n,"OPTION",{class:!0});var i=f(e);t=S(i,s),i.forEach(c),this.h()},h(){e.__value=l=a[17],e.value=e.__value,r(e,"class","svelte-6s2sgf")},m(n,i){ie(n,e,i),o(e,t)},p(n,i){i&64&&s!==(s=n[17]+"")&&Ke(t,s),i&64&&l!==(l=n[17])&&(e.__value=l,e.value=e.__value)},d(n){n&&c(e)}}}function dt(a){let e,s;return{c(){e=d("p"),s=O(a[4]),this.h()},l(t){e=h(t,"P",{style:!0,class:!0});var l=f(e);s=S(l,a[4]),l.forEach(c),this.h()},h(){J(e,"color","red"),r(e,"class","svelte-6s2sgf")},m(t,l){ie(t,e,l),o(e,s)},p(t,l){l&16&&Ke(s,t[4])},d(t){t&&c(e)}}}function es(a){let e,s,t,l,n,i,p,m,$,u,_,k,b,g,I,F,A,oe,U,V,L,se,le,K,ce,fe,j,D,P,C,ee,X,z,pe,ye="(opzionale)",de,Ee,E,N,w,we,re,$e,ke,ae,Ie,ne,he,Pe,te,Ne,Le;const ue=[xt,Qt],_e=[];function Xe(v,M){return v[5]?0:1}V=Xe(a),L=_e[V]=ue[V](a);let De=a[6],G=[];for(let v=0;v<De.length;v+=1)G[v]=pt(ft(a,De,v));let R=a[4]&&dt(a);return{c(){e=d("div"),s=d("form"),t=d("div"),l=d("label"),n=O("Email"),i=B(),p=d("div"),m=d("input"),$=B(),u=d("div"),_=d("label"),k=O("Password"),b=B(),g=d("div"),I=d("input"),F=B(),A=d("input"),oe=B(),U=d("button"),L.c(),se=B(),le=d("div"),K=d("label"),ce=O("Conferma Password"),fe=B(),j=d("div"),D=d("input"),P=B(),C=d("input"),ee=B(),X=d("div"),z=d("label"),pe=O("Scegli Biblioteca "),de=O(ye),Ee=B(),E=d("select"),N=d("option"),w=O("Crea nuova biblioteca");for(let v=0;v<G.length;v+=1)G[v].c();we=B(),re=d("button"),$e=O("Sign Up"),ke=B(),ae=d("p"),Ie=O(`Do you have an account?
      `),ne=d("button"),he=O("Sign In"),Pe=B(),R&&R.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var M=f(e);s=h(M,"FORM",{class:!0});var y=f(s);t=h(y,"DIV",{class:!0});var H=f(t);l=h(H,"LABEL",{for:!0,class:!0});var Oe=f(l);n=S(Oe,"Email"),Oe.forEach(c),H.forEach(c),i=T(y),p=h(y,"DIV",{class:!0});var Ye=f(p);m=h(Ye,"INPUT",{type:!0,class:!0,placeholder:!0}),Ye.forEach(c),$=T(y),u=h(y,"DIV",{class:!0});var Ze=f(u);_=h(Ze,"LABEL",{for:!0,class:!0});var Qe=f(_);k=S(Qe,"Password"),Qe.forEach(c),Ze.forEach(c),b=T(y),g=h(y,"DIV",{class:!0});var Be=f(g);I=h(Be,"INPUT",{class:!0,type:!0,placeholder:!0,style:!0}),F=T(Be),A=h(Be,"INPUT",{class:!0,type:!0,placeholder:!0,style:!0}),oe=T(Be),U=h(Be,"BUTTON",{type:!0,class:!0,tabindex:!0,"aria-label":!0});var xe=f(U);L.l(xe),xe.forEach(c),Be.forEach(c),se=T(y),le=h(y,"DIV",{class:!0});var et=f(le);K=h(et,"LABEL",{for:!0,class:!0});var tt=f(K);ce=S(tt,"Conferma Password"),tt.forEach(c),et.forEach(c),fe=T(y),j=h(y,"DIV",{class:!0});var Ae=f(j);D=h(Ae,"INPUT",{class:!0,type:!0,placeholder:!0,style:!0}),P=T(Ae),C=h(Ae,"INPUT",{class:!0,type:!0,placeholder:!0,style:!0}),Ae.forEach(c),ee=T(y),X=h(y,"DIV",{class:!0});var st=f(X);z=h(st,"LABEL",{for:!0,class:!0});var ze=f(z);pe=S(ze,"Scegli Biblioteca "),de=S(ze,ye),ze.forEach(c),st.forEach(c),Ee=T(y),E=h(y,"SELECT",{name:!0,class:!0});var Re=f(E);N=h(Re,"OPTION",{class:!0});var lt=f(N);w=S(lt,"Crea nuova biblioteca"),lt.forEach(c);for(let qe=0;qe<G.length;qe+=1)G[qe].l(Re);Re.forEach(c),we=T(y),re=h(y,"BUTTON",{type:!0,class:!0});var rt=f(re);$e=S(rt,"Sign Up"),rt.forEach(c),ke=T(y),ae=h(y,"P",{class:!0});var We=f(ae);Ie=S(We,`Do you have an account?
      `),ne=h(We,"BUTTON",{class:!0});var at=f(ne);he=S(at,"Sign In"),at.forEach(c),We.forEach(c),Pe=T(y),R&&R.l(y),y.forEach(c),M.forEach(c),this.h()},h(){r(l,"for","email"),r(l,"class","svelte-6s2sgf"),r(t,"class","flex-column svelte-6s2sgf"),r(m,"type","email"),r(m,"class","input svelte-6s2sgf"),r(m,"placeholder","Enter your Email"),m.required=!0,r(p,"class","inputForm svelte-6s2sgf"),r(_,"for","password"),r(_,"class","svelte-6s2sgf"),r(u,"class","flex-column svelte-6s2sgf"),r(I,"class","input password-hidden svelte-6s2sgf"),r(I,"type","password"),r(I,"placeholder","Enter your Password"),J(I,"display",a[5]?"none":"block"),r(A,"class","input password-visible svelte-6s2sgf"),r(A,"type","text"),r(A,"placeholder","Enter your Password"),J(A,"display",a[5]?"block":"none"),r(U,"type","button"),r(U,"class","toggle-password svelte-6s2sgf"),r(U,"tabindex","-1"),r(U,"aria-label","Toggle password visibility"),r(g,"class","inputForm svelte-6s2sgf"),r(K,"for","confirmPassword"),r(K,"class","svelte-6s2sgf"),r(le,"class","flex-column svelte-6s2sgf"),r(D,"class","input password-hidden svelte-6s2sgf"),r(D,"type","password"),r(D,"placeholder","Re-enter your Password"),J(D,"display",a[5]?"none":"block"),r(C,"class","input password-visible svelte-6s2sgf"),r(C,"type","text"),r(C,"placeholder","Re-enter your Password"),J(C,"display",a[5]?"block":"none"),r(j,"class","inputForm svelte-6s2sgf"),r(z,"for","Library"),r(z,"class","svelte-6s2sgf"),r(X,"class","flex-column svelte-6s2sgf"),N.__value=null,N.value=N.__value,r(N,"class","svelte-6s2sgf"),r(E,"name","Library"),r(E,"class","input select-inp svelte-6s2sgf"),a[0]===void 0&&Lt(()=>a[15].call(E)),r(re,"type","submit"),r(re,"class","button-submit svelte-6s2sgf"),r(ne,"class","span svelte-6s2sgf"),r(ae,"class","p svelte-6s2sgf"),r(s,"class","form svelte-6s2sgf"),r(e,"class","svelte-6s2sgf")},m(v,M){ie(v,e,M),o(e,s),o(s,t),o(t,l),o(l,n),o(s,i),o(s,p),o(p,m),Y(m,a[1]),o(s,$),o(s,u),o(u,_),o(_,k),o(s,b),o(s,g),o(g,I),Y(I,a[2]),o(g,F),o(g,A),Y(A,a[2]),o(g,oe),o(g,U),_e[V].m(U,null),o(s,se),o(s,le),o(le,K),o(K,ce),o(s,fe),o(s,j),o(j,D),Y(D,a[3]),o(j,P),o(j,C),Y(C,a[3]),o(s,ee),o(s,X),o(X,z),o(z,pe),o(z,de),o(s,Ee),o(s,E),o(E,N),o(N,w);for(let y=0;y<G.length;y+=1)G[y]&&G[y].m(E,null);nt(E,a[0],!0),o(s,we),o(s,re),o(re,$e),o(s,ke),o(s,ae),o(ae,Ie),o(ae,ne),o(ne,he),o(s,Pe),R&&R.m(s,null),te=!0,Ne||(Le=[Z(m,"input",a[10]),Z(I,"input",a[11]),Z(A,"input",a[12]),Z(U,"click",a[9]),Z(D,"input",a[13]),Z(C,"input",a[14]),Z(E,"change",a[15]),Z(ne,"click",a[8]),Z(s,"submit",a[7])],Ne=!0)},p(v,[M]){M&2&&m.value!==v[1]&&Y(m,v[1]),(!te||M&32)&&J(I,"display",v[5]?"none":"block"),M&4&&I.value!==v[2]&&Y(I,v[2]),(!te||M&32)&&J(A,"display",v[5]?"block":"none"),M&4&&A.value!==v[2]&&Y(A,v[2]);let y=V;if(V=Xe(v),V!==y&&($t(),x(_e[y],1,1,()=>{_e[y]=null}),kt(),L=_e[V],L||(L=_e[V]=ue[V](v),L.c()),Q(L,1),L.m(U,null)),(!te||M&32)&&J(D,"display",v[5]?"none":"block"),M&8&&D.value!==v[3]&&Y(D,v[3]),(!te||M&32)&&J(C,"display",v[5]?"block":"none"),M&8&&C.value!==v[3]&&Y(C,v[3]),M&64){De=v[6];let H;for(H=0;H<De.length;H+=1){const Oe=ft(v,De,H);G[H]?G[H].p(Oe,M):(G[H]=pt(Oe),G[H].c(),G[H].m(E,null))}for(;H<G.length;H+=1)G[H].d(1);G.length=De.length}M&65&&nt(E,v[0]),v[4]?R?R.p(v,M):(R=dt(v),R.c(),R.m(s,null)):R&&(R.d(1),R=null)},i(v){te||(Q(L),te=!0)},o(v){x(L),te=!1},d(v){v&&c(e),_e[V].d(),It(G,v),R&&R.d(),Ne=!1,wt(Le)}}}function ts(a,e,s){let t;Ge(a,Te,V=>s(16,t=V));let l="",n="",i="",p="",m=!1,$=[],u=null;Dt(async()=>{s(6,$=await At()),console.log($)});const _=async V=>{if(V.preventDefault(),n!==i){s(4,p="Le password non corrispondono.");return}if(!l.includes("@")){s(4,p="Inserisci un'email valida.");return}if(n.length<6){s(4,p="La password deve contenere almeno 6 caratteri.");return}try{const se=(await St(He,l,n)).user;await Nt(se.uid,"VIEWER",se.email,u),je(Te,t=!1,t),Je("./biblioteca")}catch(L){s(4,p=L.message)}};function k(){je(Te,t=!1,t)}const b=()=>{s(5,m=!m)};function g(){l=this.value,s(1,l)}function I(){n=this.value,s(2,n)}function F(){n=this.value,s(2,n)}function A(){i=this.value,s(3,i)}function oe(){i=this.value,s(3,i)}function U(){u=Bt(this),s(0,u),s(6,$)}return a.$$.update=()=>{a.$$.dirty&1&&console.log(u)},[u,l,n,i,p,m,$,_,k,b,g,I,F,A,oe,U]}class ss extends Ce{constructor(e){super(),Ve(this,e,ts,es,Me,{})}}function ht(a,e,s){const t=a.slice();t[0]=e[s],t[7]=s;const l=Math.random()*1440;t[1]=l;const n=Math.random()*900;t[2]=n;const i=Math.random()*3+1;t[3]=i;const p=Math.random()*.7+.3;t[4]=p;const m=Math.random()*5+3;return t[5]=m,t}function _t(a){let e,s,t;return{c(){e=W("circle"),s=W("animate"),t=W("animate"),this.h()},l(l){e=q(l,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"fill-opacity":!0});var n=f(e);s=q(n,"animate",{attributeName:!0,values:!0,dur:!0,repeatCount:!0}),f(s).forEach(c),t=q(n,"animate",{attributeName:!0,values:!0,dur:!0,repeatCount:!0}),f(t).forEach(c),n.forEach(c),this.h()},h(){r(s,"attributeName","cy"),r(s,"values",`${a[2]};${a[2]-50};${a[2]}`),r(s,"dur",`${a[5]}s`),r(s,"repeatCount","indefinite"),r(t,"attributeName","opacity"),r(t,"values",`${a[4]};${a[4]*.5};${a[4]}`),r(t,"dur",`${a[5]}s`),r(t,"repeatCount","indefinite"),r(e,"cx",a[1]),r(e,"cy",a[2]),r(e,"r",a[3]),r(e,"fill","#4a4a4a"),r(e,"fill-opacity",a[4])},m(l,n){ie(l,e,n),o(e,s),o(e,t)},p:Se,d(l){l&&c(e)}}}function ls(a){let e,s,t,l,n,i,p,m,$=Array(50).fill(0),u=[];for(let _=0;_<$.length;_+=1)u[_]=_t(ht(a,$,_));return{c(){e=W("svg"),s=W("defs"),t=W("linearGradient"),l=W("stop"),n=W("stop"),i=W("rect");for(let _=0;_<u.length;_+=1)u[_].c();p=W("rect"),m=W("animate"),this.h()},l(_){e=q(_,"svg",{class:!0,viewBox:!0,xmlns:!0});var k=f(e);s=q(k,"defs",{});var b=f(s);t=q(b,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var g=f(t);l=q(g,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),f(l).forEach(c),n=q(g,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),f(n).forEach(c),g.forEach(c),b.forEach(c),i=q(k,"rect",{width:!0,height:!0,fill:!0}),f(i).forEach(c);for(let F=0;F<u.length;F+=1)u[F].l(k);p=q(k,"rect",{width:!0,height:!0,fill:!0});var I=f(p);m=q(I,"animate",{attributeName:!0,values:!0,dur:!0,repeatCount:!0}),f(m).forEach(c),I.forEach(c),k.forEach(c),this.h()},h(){r(l,"offset","0%"),r(l,"stop-color","#121212"),r(l,"stop-opacity","1"),r(n,"offset","100%"),r(n,"stop-color","#1e1e1e"),r(n,"stop-opacity","1"),r(t,"id","darkGradient"),r(t,"x1","0%"),r(t,"y1","0%"),r(t,"x2","100%"),r(t,"y2","100%"),r(i,"width","1440"),r(i,"height","900"),r(i,"fill","url(#darkGradient)"),r(m,"attributeName","opacity"),r(m,"values","0.1;0.3;0.1"),r(m,"dur","7s"),r(m,"repeatCount","indefinite"),r(p,"width","1440"),r(p,"height","900"),r(p,"fill","rgba(30, 30, 50, 0.1)"),r(e,"class","absolute inset-0 w-full h-full -z-10 svelte-1r2ixsr"),r(e,"viewBox","0 0 1440 900"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(_,k){ie(_,e,k),o(e,s),o(s,t),o(t,l),o(t,n),o(e,i);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(e,null);o(e,p),o(p,m)},p(_,[k]){if(k&0){$=Array(50).fill(0);let b;for(b=0;b<$.length;b+=1){const g=ht(_,$,b);u[b]?u[b].p(g,k):(u[b]=_t(g),u[b].c(),u[b].m(e,p))}for(;b<u.length;b+=1)u[b].d(1);u.length=$.length}},i:Se,o:Se,d(_){_&&c(e),It(u,_)}}}class rs extends Ce{constructor(e){super(),Ve(this,e,null,ls,Me,{})}}function as(a){let e,s;return e=new ss({}),{c(){ve(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,l){ge(e,t,l),s=!0},i(t){s||(Q(e.$$.fragment,t),s=!0)},o(t){x(e.$$.fragment,t),s=!1},d(t){be(e,t)}}}function ns(a){let e,s;return e=new Zt({}),{c(){ve(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,l){ge(e,t,l),s=!0},i(t){s||(Q(e.$$.fragment,t),s=!0)},o(t){x(e.$$.fragment,t),s=!1},d(t){be(e,t)}}}function os(a){let e,s,t,l,n,i;e=new rs({});const p=[ns,as],m=[];function $(u,_){return u[0]?1:0}return l=$(a),n=m[l]=p[l](a),{c(){ve(e.$$.fragment),s=B(),t=d("div"),n.c(),this.h()},l(u){me(e.$$.fragment,u),s=T(u),t=h(u,"DIV",{class:!0,id:!0});var _=f(t);n.l(_),_.forEach(c),this.h()},h(){r(t,"class","center-VO"),r(t,"id","v1.9")},m(u,_){ge(e,u,_),ie(u,s,_),ie(u,t,_),m[l].m(t,null),i=!0},p(u,[_]){let k=l;l=$(u),l!==k&&($t(),x(m[k],1,1,()=>{m[k]=null}),kt(),n=m[l],n||(n=m[l]=p[l](u),n.c()),Q(n,1),n.m(t,null))},i(u){i||(Q(e.$$.fragment,u),Q(n),i=!0)},o(u){x(e.$$.fragment,u),x(n),i=!1},d(u){be(e,u),u&&c(s),u&&c(t),m[l].d()}}}function is(a,e,s){let t;return Ge(a,Te,l=>s(0,t=l)),[t]}class hs extends Ce{constructor(e){super(),Ve(this,e,is,os,Me,{})}}export{hs as component};
